var B=Object.defineProperty,T=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var c=(a,t,i)=>t in a?B(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i,n=(a,t)=>{for(var i in t||(t={}))C.call(t,i)&&c(a,i,t[i]);if(p)for(var i of p(t))O.call(t,i)&&c(a,i,t[i]);return a},u=(a,t)=>T(a,v(t));import{r as e,j as l,ak as g,a6 as k}from"./vendor.9dccb7a3.js";import F from"./card.f6b0138a.js";import{u as f}from"./index.3df1e727.js";const E={"en-US":{"menu.visualization":"Data Visualization","menu.visualization.analysis":"Analysis","dataAnalysis.yesterday":"Yesterday","dataAnalysis.title.publicOpinion":"Public Opinion Analysis","dataAnalysis.publicOpinion.visitor":"Total visitors","dataAnalysis.publicOpinion.content":"Total content publishing","dataAnalysis.publicOpinion.comment":"Total comments","dataAnalysis.publicOpinion.share":"Total share","dataAnalysis.title.publishingRate":"Content publishing rate","dataAnalysis.title.publishingTiming":"Content period analysis","dataAnalysis.title.authorsList":"Top authors list","dataAnalysis.authorTable.rank":"Rank    ","dataAnalysis.authorTable.author":"Author","dataAnalysis.authorTable.content":"Interval volume","dataAnalysis.authorTable.click":"Click volume"},"zh-CN":{"menu.visualization":"\u6570\u636E\u53EF\u89C6\u5316","menu.visualization.analysis":"\u5206\u6790\u9875","dataAnalysis.yesterday":"\u8F83\u6628\u65E5","dataAnalysis.title.publicOpinion":"\u8206\u60C5\u5206\u6790","dataAnalysis.publicOpinion.visitor":"\u8BBF\u95EE\u603B\u4EBA\u6570","dataAnalysis.publicOpinion.content":"\u5185\u5BB9\u53D1\u5E03\u91CF","dataAnalysis.publicOpinion.comment":"\u8BC4\u8BBA\u603B\u91CF","dataAnalysis.publicOpinion.share":"\u5206\u4EAB\u603B\u91CF","dataAnalysis.title.publishingRate":"\u5185\u5BB9\u53D1\u5E03\u6BD4\u4F8B","dataAnalysis.title.publishingTiming":"\u5185\u5BB9\u65F6\u6BB5\u5206\u6790","dataAnalysis.title.authorsList":"\u70ED\u95E8\u4F5C\u8005\u699C\u5355","dataAnalysis.authorTable.rank":"\u6392\u540D","dataAnalysis.authorTable.author":"\u4F5C\u8005","dataAnalysis.authorTable.content":"\u5185\u5BB9\u91CF","dataAnalysis.authorTable.click":"\u70B9\u51FB\u91CF"}},{Row:x,Col:D}=g,d=[{key:"visitor",type:"line"},{key:"content",type:"interval"},{key:"comment",type:"line"},{key:"share",type:"pie"}];function z(){const a=f(E),[t,i]=e.exports.useState(!0),[y,A]=e.exports.useState(d.map(s=>u(n({},s),{chartType:s.type,title:a[`dataAnalysis.publicOpinion.${s.key}`]}))),b=async()=>{const s=d.map(async r=>{const{data:m}=await k.get(`/api/data-analysis/overview?type=${r.type}`).catch(()=>({data:{}}));return u(n({},m),{key:r.key,chartType:r.type})}),o=await Promise.all(s).finally(()=>i(!1));A(o)};e.exports.useEffect(()=>{b()},[]);const h=e.exports.useMemo(()=>y.map(s=>u(n({},s),{title:a[`dataAnalysis.publicOpinion.${s.key}`]})),[a,y]);return l("div",{children:l(x,{gutter:20,children:h.map((s,o)=>l(D,{span:6,children:l(F,u(n({},s),{compareTime:a["dataAnalysis.yesterday"],loading:t}))},o))})})}var w=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:z});export{z as P,w as a,E as i};
