var hm=Object.defineProperty,gm=Object.defineProperties;var pm=Object.getOwnPropertyDescriptors;var y0=Object.getOwnPropertySymbols;var dm=Object.prototype.hasOwnProperty,mm=Object.prototype.propertyIsEnumerable;var w0=(n,r,e)=>r in n?hm(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e,zt=(n,r)=>{for(var e in r||(r={}))dm.call(r,e)&&w0(n,e,r[e]);if(y0)for(var e of y0(r))mm.call(r,e)&&w0(n,e,r[e]);return n},Wi=(n,r)=>gm(n,pm(r));import{j as $n,J as E0,b as jr,aC as Xr,aB as S0,ba as ym,bb as _0,a8 as Vn,G as wm,aW as Em,r as qe,a3 as Sm,ah as Ji,ak as _m,f as $m,a6 as Uu}from"./vendor.9dccb7a3.js";/* empty css              */import{s as Tm,u as Mm}from"./index.3df1e727.js";import{l as Pm,C as Hu,c as $0,I as xm,T as T0,A as M0,t as ln,r as Z,L as Rm,a as km,b as P0,F as bm}from"./index.6e4944c7.js";import{C as x0}from"./customer-tooltip.fa2aff08.js";import{u as Cm}from"./useChartTheme.2ffb4040.js";import{l as Lm}from"./index.b0c339fc.js";import Nm from"./data-overview.cfbc4bba.js";import Im from"./card-list.164272bb.js";/* empty css               *//* empty css               *//* empty css                */import"./index.df8c816f.js";function Am({data:n,loading:r,height:e}){return Pm.registerShape("interval","border-radius",{draw(t,i){const a=t.points;let o=[];o.push(["M",a[0].x,a[0].y]),o.push(["L",a[1].x,a[1].y]),o.push(["L",a[2].x,a[2].y]),o.push(["L",a[3].x,a[3].y]),o.push("Z"),o=this.parsePath(o);const l=i.addGroup(),u=(o[1][2]-o[2][2])/2;return l.addShape("rect",{attrs:{x:o[0][1],y:o[0][2]-u*2,width:o[1][1]-o[0][1],height:o[1][2]-o[2][2],fill:t.color,radius:u}}),l}}),$n(E0,{loading:r,style:{width:"100%"},children:jr(Hu,{height:e||370,padding:"auto",data:n,autoFit:!0,className:"chart-wrapper",children:[$n($0,{transpose:!0}),$n(xm,{color:"#4086FF",position:"name*count",size:10,shape:"border-radius"}),$n(T0,{children:(t,i)=>$n(x0,{title:t,data:i})}),$n(M0,{name:"count",label:{formatter(t){return`${Number(t)/1e3}k`}}})]})})}var Dm={};function Ee(){return new Ki}function Ki(){this.reset()}Ki.prototype={constructor:Ki,reset:function(){this.s=this.t=0},add:function(n){R0(Zi,n,this.t),R0(this,Zi.s,this.s),this.s?this.t+=Zi.t:this.s=Zi.t},valueOf:function(){return this.s}};var Zi=new Ki;function R0(n,r,e){var t=n.s=r+e,i=t-r,a=t-i;n.t=r-a+(e-i)}var X=1e-6,k0=1e-12,hn=Math.PI,Un=hn/2,Qi=hn/4,fr=hn*2,kn=180/hn,J=hn/180,Tn=Math.abs,at=Math.atan,Qn=Math.atan2,V=Math.cos,na=Math.ceil,b0=Math.exp,ra=Math.log,Yu=Math.pow,H=Math.sin,Bt=Math.sign||function(n){return n>0?1:n<0?-1:0},Hn=Math.sqrt,Vu=Math.tan;function C0(n){return n>1?0:n<-1?hn:Math.acos(n)}function dr(n){return n>1?Un:n<-1?-Un:Math.asin(n)}function L0(n){return(n=H(n/2))*n}function In(){}function ea(n,r){n&&I0.hasOwnProperty(n.type)&&I0[n.type](n,r)}var N0={Feature:function(n,r){ea(n.geometry,r)},FeatureCollection:function(n,r){for(var e=n.features,t=-1,i=e.length;++t<i;)ea(e[t].geometry,r)}},I0={Sphere:function(n,r){r.sphere()},Point:function(n,r){n=n.coordinates,r.point(n[0],n[1],n[2])},MultiPoint:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)n=e[t],r.point(n[0],n[1],n[2])},LineString:function(n,r){ju(n.coordinates,r,0)},MultiLineString:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)ju(e[t],r,0)},Polygon:function(n,r){A0(n.coordinates,r)},MultiPolygon:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)A0(e[t],r)},GeometryCollection:function(n,r){for(var e=n.geometries,t=-1,i=e.length;++t<i;)ea(e[t],r)}};function ju(n,r,e){var t=-1,i=n.length-e,a;for(r.lineStart();++t<i;)a=n[t],r.point(a[0],a[1],a[2]);r.lineEnd()}function A0(n,r){var e=-1,t=n.length;for(r.polygonStart();++e<t;)ju(n[e],r,1);r.polygonEnd()}function Dr(n,r){n&&N0.hasOwnProperty(n.type)?N0[n.type](n,r):ea(n,r)}var ta=Ee(),ia=Ee(),D0,O0,Xu,Wu,Ju,Wr={point:In,lineStart:In,lineEnd:In,polygonStart:function(){ta.reset(),Wr.lineStart=Om,Wr.lineEnd=qm},polygonEnd:function(){var n=+ta;ia.add(n<0?fr+n:n),this.lineStart=this.lineEnd=this.point=In},sphere:function(){ia.add(fr)}};function Om(){Wr.point=Fm}function qm(){q0(D0,O0)}function Fm(n,r){Wr.point=q0,D0=n,O0=r,n*=J,r*=J,Xu=n,Wu=V(r=r/2+Qi),Ju=H(r)}function q0(n,r){n*=J,r*=J,r=r/2+Qi;var e=n-Xu,t=e>=0?1:-1,i=t*e,a=V(r),o=H(r),l=Ju*o,u=Wu*a+l*V(i),c=l*t*H(i);ta.add(Qn(c,u)),Xu=n,Wu=a,Ju=o}function zm(n){return ia.reset(),Dr(n,Wr),ia*2}function aa(n){return[Qn(n[1],n[0]),dr(n[2])]}function Fe(n){var r=n[0],e=n[1],t=V(e);return[t*V(r),t*H(r),H(e)]}function oa(n,r){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]}function ot(n,r){return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}function Ku(n,r){n[0]+=r[0],n[1]+=r[1],n[2]+=r[2]}function ua(n,r){return[n[0]*r,n[1]*r,n[2]*r]}function fa(n){var r=Hn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=r,n[1]/=r,n[2]/=r}var qn,mr,Gn,Rr,ze,F0,z0,ut,Gt=Ee(),Se,ie,ae={point:Zu,lineStart:G0,lineEnd:U0,polygonStart:function(){ae.point=H0,ae.lineStart=Bm,ae.lineEnd=Gm,Gt.reset(),Wr.polygonStart()},polygonEnd:function(){Wr.polygonEnd(),ae.point=Zu,ae.lineStart=G0,ae.lineEnd=U0,ta<0?(qn=-(Gn=180),mr=-(Rr=90)):Gt>X?Rr=90:Gt<-X&&(mr=-90),ie[0]=qn,ie[1]=Gn}};function Zu(n,r){Se.push(ie=[qn=n,Gn=n]),r<mr&&(mr=r),r>Rr&&(Rr=r)}function B0(n,r){var e=Fe([n*J,r*J]);if(ut){var t=ot(ut,e),i=[t[1],-t[0],0],a=ot(i,t);fa(a),a=aa(a);var o=n-ze,l=o>0?1:-1,u=a[0]*kn*l,c,f=Tn(o)>180;f^(l*ze<u&&u<l*n)?(c=a[1]*kn,c>Rr&&(Rr=c)):(u=(u+360)%360-180,f^(l*ze<u&&u<l*n)?(c=-a[1]*kn,c<mr&&(mr=c)):(r<mr&&(mr=r),r>Rr&&(Rr=r))),f?n<ze?yr(qn,n)>yr(qn,Gn)&&(Gn=n):yr(n,Gn)>yr(qn,Gn)&&(qn=n):Gn>=qn?(n<qn&&(qn=n),n>Gn&&(Gn=n)):n>ze?yr(qn,n)>yr(qn,Gn)&&(Gn=n):yr(n,Gn)>yr(qn,Gn)&&(qn=n)}else Se.push(ie=[qn=n,Gn=n]);r<mr&&(mr=r),r>Rr&&(Rr=r),ut=e,ze=n}function G0(){ae.point=B0}function U0(){ie[0]=qn,ie[1]=Gn,ae.point=Zu,ut=null}function H0(n,r){if(ut){var e=n-ze;Gt.add(Tn(e)>180?e+(e>0?360:-360):e)}else F0=n,z0=r;Wr.point(n,r),B0(n,r)}function Bm(){Wr.lineStart()}function Gm(){H0(F0,z0),Wr.lineEnd(),Tn(Gt)>X&&(qn=-(Gn=180)),ie[0]=qn,ie[1]=Gn,ut=null}function yr(n,r){return(r-=n)<0?r+360:r}function Um(n,r){return n[0]-r[0]}function Y0(n,r){return n[0]<=n[1]?n[0]<=r&&r<=n[1]:r<n[0]||n[1]<r}function Hm(n){var r,e,t,i,a,o,l;if(Rr=Gn=-(qn=mr=1/0),Se=[],Dr(n,ae),e=Se.length){for(Se.sort(Um),r=1,t=Se[0],a=[t];r<e;++r)i=Se[r],Y0(t,i[0])||Y0(t,i[1])?(yr(t[0],i[1])>yr(t[0],t[1])&&(t[1]=i[1]),yr(i[0],t[1])>yr(t[0],t[1])&&(t[0]=i[0])):a.push(t=i);for(o=-1/0,e=a.length-1,r=0,t=a[e];r<=e;t=i,++r)i=a[r],(l=yr(t[1],i[0]))>o&&(o=l,qn=i[0],Gn=t[1])}return Se=ie=null,qn===1/0||mr===1/0?[[NaN,NaN],[NaN,NaN]]:[[qn,mr],[Gn,Rr]]}var Ut,la,sa,ca,va,ha,ga,pa,Qu,nf,rf,V0,j0,nr,rr,er,Or={sphere:In,point:ef,lineStart:X0,lineEnd:W0,polygonStart:function(){Or.lineStart=jm,Or.lineEnd=Xm},polygonEnd:function(){Or.lineStart=X0,Or.lineEnd=W0}};function ef(n,r){n*=J,r*=J;var e=V(r);Ht(e*V(n),e*H(n),H(r))}function Ht(n,r,e){++Ut,sa+=(n-sa)/Ut,ca+=(r-ca)/Ut,va+=(e-va)/Ut}function X0(){Or.point=Ym}function Ym(n,r){n*=J,r*=J;var e=V(r);nr=e*V(n),rr=e*H(n),er=H(r),Or.point=Vm,Ht(nr,rr,er)}function Vm(n,r){n*=J,r*=J;var e=V(r),t=e*V(n),i=e*H(n),a=H(r),o=Qn(Hn((o=rr*a-er*i)*o+(o=er*t-nr*a)*o+(o=nr*i-rr*t)*o),nr*t+rr*i+er*a);la+=o,ha+=o*(nr+(nr=t)),ga+=o*(rr+(rr=i)),pa+=o*(er+(er=a)),Ht(nr,rr,er)}function W0(){Or.point=ef}function jm(){Or.point=Wm}function Xm(){J0(V0,j0),Or.point=ef}function Wm(n,r){V0=n,j0=r,n*=J,r*=J,Or.point=J0;var e=V(r);nr=e*V(n),rr=e*H(n),er=H(r),Ht(nr,rr,er)}function J0(n,r){n*=J,r*=J;var e=V(r),t=e*V(n),i=e*H(n),a=H(r),o=rr*a-er*i,l=er*t-nr*a,u=nr*i-rr*t,c=Hn(o*o+l*l+u*u),f=dr(c),v=c&&-f/c;Qu+=v*o,nf+=v*l,rf+=v*u,la+=f,ha+=f*(nr+(nr=t)),ga+=f*(rr+(rr=i)),pa+=f*(er+(er=a)),Ht(nr,rr,er)}function Jm(n){Ut=la=sa=ca=va=ha=ga=pa=Qu=nf=rf=0,Dr(n,Or);var r=Qu,e=nf,t=rf,i=r*r+e*e+t*t;return i<k0&&(r=ha,e=ga,t=pa,la<X&&(r=sa,e=ca,t=va),i=r*r+e*e+t*t,i<k0)?[NaN,NaN]:[Qn(e,r)*kn,dr(t/Hn(i))*kn]}function ft(n){return function(){return n}}function K0(n,r){function e(t,i){return t=n(t,i),r(t[0],t[1])}return n.invert&&r.invert&&(e.invert=function(t,i){return t=r.invert(t,i),t&&n.invert(t[0],t[1])}),e}function tf(n,r){return[n>hn?n-fr:n<-hn?n+fr:n,r]}tf.invert=tf;function af(n,r,e){return(n%=fr)?r||e?K0(Q0(n),n1(r,e)):Q0(n):r||e?n1(r,e):tf}function Z0(n){return function(r,e){return r+=n,[r>hn?r-fr:r<-hn?r+fr:r,e]}}function Q0(n){var r=Z0(n);return r.invert=Z0(-n),r}function n1(n,r){var e=V(n),t=H(n),i=V(r),a=H(r);function o(l,u){var c=V(u),f=V(l)*c,v=H(l)*c,s=H(u),h=s*e+f*t;return[Qn(v*i-h*a,f*e-s*t),dr(h*i+v*a)]}return o.invert=function(l,u){var c=V(u),f=V(l)*c,v=H(l)*c,s=H(u),h=s*i-v*a;return[Qn(v*i+s*a,f*e+h*t),dr(h*e-f*t)]},o}function r1(n){n=af(n[0]*J,n[1]*J,n.length>2?n[2]*J:0);function r(e){return e=n(e[0]*J,e[1]*J),e[0]*=kn,e[1]*=kn,e}return r.invert=function(e){return e=n.invert(e[0]*J,e[1]*J),e[0]*=kn,e[1]*=kn,e},r}function e1(n,r,e,t,i,a){if(!!e){var o=V(r),l=H(r),u=t*e;i==null?(i=r+t*fr,a=r-u/2):(i=t1(o,i),a=t1(o,a),(t>0?i<a:i>a)&&(i+=t*fr));for(var c,f=i;t>0?f>a:f<a;f-=u)c=aa([o,-l*V(f),-l*H(f)]),n.point(c[0],c[1])}}function t1(n,r){r=Fe(r),r[0]-=n,fa(r);var e=C0(-r[1]);return((-r[2]<0?-e:e)+fr-X)%fr}function Km(){var n=ft([0,0]),r=ft(90),e=ft(6),t,i,a={point:o};function o(u,c){t.push(u=i(u,c)),u[0]*=kn,u[1]*=kn}function l(){var u=n.apply(this,arguments),c=r.apply(this,arguments)*J,f=e.apply(this,arguments)*J;return t=[],i=af(-u[0]*J,-u[1]*J,0).invert,e1(a,c,f,1),u={type:"Polygon",coordinates:[t]},t=i=null,u}return l.center=function(u){return arguments.length?(n=typeof u=="function"?u:ft([+u[0],+u[1]]),l):n},l.radius=function(u){return arguments.length?(r=typeof u=="function"?u:ft(+u),l):r},l.precision=function(u){return arguments.length?(e=typeof u=="function"?u:ft(+u),l):e},l}function i1(){var n=[],r;return{point:function(e,t){r.push([e,t])},lineStart:function(){n.push(r=[])},lineEnd:In,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],r=null,e}}}function Zm(n,r,e,t,i,a){var o=n[0],l=n[1],u=r[0],c=r[1],f=0,v=1,s=u-o,h=c-l,g;if(g=e-o,!(!s&&g>0)){if(g/=s,s<0){if(g<f)return;g<v&&(v=g)}else if(s>0){if(g>v)return;g>f&&(f=g)}if(g=i-o,!(!s&&g<0)){if(g/=s,s<0){if(g>v)return;g>f&&(f=g)}else if(s>0){if(g<f)return;g<v&&(v=g)}if(g=t-l,!(!h&&g>0)){if(g/=h,h<0){if(g<f)return;g<v&&(v=g)}else if(h>0){if(g>v)return;g>f&&(f=g)}if(g=a-l,!(!h&&g<0)){if(g/=h,h<0){if(g>v)return;g>f&&(f=g)}else if(h>0){if(g<f)return;g<v&&(v=g)}return f>0&&(n[0]=o+f*s,n[1]=l+f*h),v<1&&(r[0]=o+v*s,r[1]=l+v*h),!0}}}}}function da(n,r){return Tn(n[0]-r[0])<X&&Tn(n[1]-r[1])<X}function ma(n,r,e,t){this.x=n,this.z=r,this.o=e,this.e=t,this.v=!1,this.n=this.p=null}function a1(n,r,e,t,i){var a=[],o=[],l,u;if(n.forEach(function(g){if(!((p=g.length-1)<=0)){var p,d=g[0],S=g[p],m;if(da(d,S)){for(i.lineStart(),l=0;l<p;++l)i.point((d=g[l])[0],d[1]);i.lineEnd();return}a.push(m=new ma(d,g,null,!0)),o.push(m.o=new ma(d,null,m,!1)),a.push(m=new ma(S,g,null,!1)),o.push(m.o=new ma(S,null,m,!0))}}),!!a.length){for(o.sort(r),o1(a),o1(o),l=0,u=o.length;l<u;++l)o[l].e=e=!e;for(var c=a[0],f,v;;){for(var s=c,h=!0;s.v;)if((s=s.n)===c)return;f=s.z,i.lineStart();do{if(s.v=s.o.v=!0,s.e){if(h)for(l=0,u=f.length;l<u;++l)i.point((v=f[l])[0],v[1]);else t(s.x,s.n.x,1,i);s=s.n}else{if(h)for(f=s.p.z,l=f.length-1;l>=0;--l)i.point((v=f[l])[0],v[1]);else t(s.x,s.p.x,-1,i);s=s.p}s=s.o,f=s.z,h=!h}while(!s.v);i.lineEnd()}}}function o1(n){if(!!(r=n.length)){for(var r,e=0,t=n[0],i;++e<r;)t.n=i=n[e],i.p=t,t=i;t.n=i=n[0],i.p=t}}function of(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}function Qm(n){return n.length===1&&(n=n5(n)),{left:function(r,e,t,i){for(t==null&&(t=0),i==null&&(i=r.length);t<i;){var a=t+i>>>1;n(r[a],e)<0?t=a+1:i=a}return t},right:function(r,e,t,i){for(t==null&&(t=0),i==null&&(i=r.length);t<i;){var a=t+i>>>1;n(r[a],e)>0?i=a:t=a+1}return t}}}function n5(n){return function(r,e){return of(n(r),e)}}Qm(of);function _e(n,r,e){n=+n,r=+r,e=(i=arguments.length)<2?(r=n,n=0,1):i<3?1:+e;for(var t=-1,i=Math.max(0,Math.ceil((r-n)/e))|0,a=new Array(i);++t<i;)a[t]=n+t*e;return a}function $e(n,r){var e=n.length,t=-1,i,a;if(r==null){for(;++t<e;)if((i=n[t])!=null&&i>=i)for(a=i;++t<e;)(i=n[t])!=null&&i>a&&(a=i)}else for(;++t<e;)if((i=r(n[t],t,n))!=null&&i>=i)for(a=i;++t<e;)(i=r(n[t],t,n))!=null&&i>a&&(a=i);return a}function Yt(n){for(var r=n.length,e,t=-1,i=0,a,o;++t<r;)i+=n[t].length;for(a=new Array(i);--r>=0;)for(o=n[r],e=o.length;--e>=0;)a[--i]=o[e];return a}function Wn(n,r){var e=n.length,t=-1,i,a;if(r==null){for(;++t<e;)if((i=n[t])!=null&&i>=i)for(a=i;++t<e;)(i=n[t])!=null&&a>i&&(a=i)}else for(;++t<e;)if((i=r(n[t],t,n))!=null&&i>=i)for(a=i;++t<e;)(i=r(n[t],t,n))!=null&&a>i&&(a=i);return a}function uf(n,r){var e=n.length,t=-1,i,a=0;if(r==null)for(;++t<e;)(i=+n[t])&&(a+=i);else for(;++t<e;)(i=+r(n[t],t,n))&&(a+=i);return a}var Vt=1e9,ya=-Vt;function ff(n,r,e,t){function i(c,f){return n<=c&&c<=e&&r<=f&&f<=t}function a(c,f,v,s){var h=0,g=0;if(c==null||(h=o(c,v))!==(g=o(f,v))||u(c,f)<0^v>0)do s.point(h===0||h===3?n:e,h>1?t:r);while((h=(h+v+4)%4)!==g);else s.point(f[0],f[1])}function o(c,f){return Tn(c[0]-n)<X?f>0?0:3:Tn(c[0]-e)<X?f>0?2:1:Tn(c[1]-r)<X?f>0?1:0:f>0?3:2}function l(c,f){return u(c.x,f.x)}function u(c,f){var v=o(c,1),s=o(f,1);return v!==s?v-s:v===0?f[1]-c[1]:v===1?c[0]-f[0]:v===2?c[1]-f[1]:f[0]-c[0]}return function(c){var f=c,v=i1(),s,h,g,p,d,S,m,y,E,$,T,k={point:P,lineStart:L,lineEnd:z,polygonStart:C,polygonEnd:b};function P(w,M){i(w,M)&&f.point(w,M)}function R(){for(var w=0,M=0,x=h.length;M<x;++M)for(var N=h[M],U=1,vn=N.length,K=N[0],an,fn,On=K[0],Nn=K[1];U<vn;++U)an=On,fn=Nn,K=N[U],On=K[0],Nn=K[1],fn<=t?Nn>t&&(On-an)*(t-fn)>(Nn-fn)*(n-an)&&++w:Nn<=t&&(On-an)*(t-fn)<(Nn-fn)*(n-an)&&--w;return w}function C(){f=v,s=[],h=[],T=!0}function b(){var w=R(),M=T&&w,x=(s=Yt(s)).length;(M||x)&&(c.polygonStart(),M&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),x&&a1(s,l,w,a,c),c.polygonEnd()),f=c,s=h=g=null}function L(){k.point=_,h&&h.push(g=[]),$=!0,E=!1,m=y=NaN}function z(){s&&(_(p,d),S&&E&&v.rejoin(),s.push(v.result())),k.point=P,E&&f.lineEnd()}function _(w,M){var x=i(w,M);if(h&&g.push([w,M]),$)p=w,d=M,S=x,$=!1,x&&(f.lineStart(),f.point(w,M));else if(x&&E)f.point(w,M);else{var N=[m=Math.max(ya,Math.min(Vt,m)),y=Math.max(ya,Math.min(Vt,y))],U=[w=Math.max(ya,Math.min(Vt,w)),M=Math.max(ya,Math.min(Vt,M))];Zm(N,U,n,r,e,t)?(E||(f.lineStart(),f.point(N[0],N[1])),f.point(U[0],U[1]),x||f.lineEnd(),T=!1):x&&(f.lineStart(),f.point(w,M),T=!1)}m=w,y=M,E=x}return k}}function r5(){var n=0,r=0,e=960,t=500,i,a,o;return o={stream:function(l){return i&&a===l?i:i=ff(n,r,e,t)(a=l)},extent:function(l){return arguments.length?(n=+l[0][0],r=+l[0][1],e=+l[1][0],t=+l[1][1],i=a=null,o):[[n,r],[e,t]]}}}var lf=Ee();function u1(n,r){var e=r[0],t=r[1],i=[H(e),-V(e),0],a=0,o=0;lf.reset();for(var l=0,u=n.length;l<u;++l)if(!!(f=(c=n[l]).length))for(var c,f,v=c[f-1],s=v[0],h=v[1]/2+Qi,g=H(h),p=V(h),d=0;d<f;++d,s=m,g=E,p=$,v=S){var S=c[d],m=S[0],y=S[1]/2+Qi,E=H(y),$=V(y),T=m-s,k=T>=0?1:-1,P=k*T,R=P>hn,C=g*E;if(lf.add(Qn(C*k*H(P),p*$+C*V(P))),a+=R?T+k*fr:T,R^s>=e^m>=e){var b=ot(Fe(v),Fe(S));fa(b);var L=ot(i,b);fa(L);var z=(R^T>=0?-1:1)*dr(L[2]);(t>z||t===z&&(b[0]||b[1]))&&(o+=R^T>=0?1:-1)}}return(a<-X||a<X&&lf<-X)^o&1}var sf=Ee(),cf,wa,Ea,lt={sphere:In,point:In,lineStart:e5,lineEnd:In,polygonStart:In,polygonEnd:In};function e5(){lt.point=i5,lt.lineEnd=t5}function t5(){lt.point=lt.lineEnd=In}function i5(n,r){n*=J,r*=J,cf=n,wa=H(r),Ea=V(r),lt.point=a5}function a5(n,r){n*=J,r*=J;var e=H(r),t=V(r),i=Tn(n-cf),a=V(i),o=H(i),l=t*o,u=Ea*e-wa*t*a,c=wa*e+Ea*t*a;sf.add(Qn(Hn(l*l+u*u),c)),cf=n,wa=e,Ea=t}function f1(n){return sf.reset(),Dr(n,lt),+sf}var vf=[null,null],o5={type:"LineString",coordinates:vf};function jt(n,r){return vf[0]=n,vf[1]=r,f1(o5)}var l1={Feature:function(n,r){return Sa(n.geometry,r)},FeatureCollection:function(n,r){for(var e=n.features,t=-1,i=e.length;++t<i;)if(Sa(e[t].geometry,r))return!0;return!1}},s1={Sphere:function(){return!0},Point:function(n,r){return c1(n.coordinates,r)},MultiPoint:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)if(c1(e[t],r))return!0;return!1},LineString:function(n,r){return v1(n.coordinates,r)},MultiLineString:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)if(v1(e[t],r))return!0;return!1},Polygon:function(n,r){return h1(n.coordinates,r)},MultiPolygon:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)if(h1(e[t],r))return!0;return!1},GeometryCollection:function(n,r){for(var e=n.geometries,t=-1,i=e.length;++t<i;)if(Sa(e[t],r))return!0;return!1}};function Sa(n,r){return n&&s1.hasOwnProperty(n.type)?s1[n.type](n,r):!1}function c1(n,r){return jt(n,r)===0}function v1(n,r){var e=jt(n[0],n[1]),t=jt(n[0],r),i=jt(r,n[1]);return t+i<=e+X}function h1(n,r){return!!u1(n.map(u5),g1(r))}function u5(n){return n=n.map(g1),n.pop(),n}function g1(n){return[n[0]*J,n[1]*J]}function f5(n,r){return(n&&l1.hasOwnProperty(n.type)?l1[n.type]:Sa)(n,r)}function p1(n,r,e){var t=_e(n,r-X,e).concat(r);return function(i){return t.map(function(a){return[i,a]})}}function d1(n,r,e){var t=_e(n,r-X,e).concat(r);return function(i){return t.map(function(a){return[a,i]})}}function m1(){var n,r,e,t,i,a,o,l,u=10,c=u,f=90,v=360,s,h,g,p,d=2.5;function S(){return{type:"MultiLineString",coordinates:m()}}function m(){return _e(na(t/f)*f,e,f).map(g).concat(_e(na(l/v)*v,o,v).map(p)).concat(_e(na(r/u)*u,n,u).filter(function(y){return Tn(y%f)>X}).map(s)).concat(_e(na(a/c)*c,i,c).filter(function(y){return Tn(y%v)>X}).map(h))}return S.lines=function(){return m().map(function(y){return{type:"LineString",coordinates:y}})},S.outline=function(){return{type:"Polygon",coordinates:[g(t).concat(p(o).slice(1),g(e).reverse().slice(1),p(l).reverse().slice(1))]}},S.extent=function(y){return arguments.length?S.extentMajor(y).extentMinor(y):S.extentMinor()},S.extentMajor=function(y){return arguments.length?(t=+y[0][0],e=+y[1][0],l=+y[0][1],o=+y[1][1],t>e&&(y=t,t=e,e=y),l>o&&(y=l,l=o,o=y),S.precision(d)):[[t,l],[e,o]]},S.extentMinor=function(y){return arguments.length?(r=+y[0][0],n=+y[1][0],a=+y[0][1],i=+y[1][1],r>n&&(y=r,r=n,n=y),a>i&&(y=a,a=i,i=y),S.precision(d)):[[r,a],[n,i]]},S.step=function(y){return arguments.length?S.stepMajor(y).stepMinor(y):S.stepMinor()},S.stepMajor=function(y){return arguments.length?(f=+y[0],v=+y[1],S):[f,v]},S.stepMinor=function(y){return arguments.length?(u=+y[0],c=+y[1],S):[u,c]},S.precision=function(y){return arguments.length?(d=+y,s=p1(a,i,90),h=d1(r,n,d),g=p1(l,o,90),p=d1(t,e,d),S):d},S.extentMajor([[-180,-90+X],[180,90-X]]).extentMinor([[-180,-80-X],[180,80+X]])}function l5(){return m1()()}function s5(n,r){var e=n[0]*J,t=n[1]*J,i=r[0]*J,a=r[1]*J,o=V(t),l=H(t),u=V(a),c=H(a),f=o*V(e),v=o*H(e),s=u*V(i),h=u*H(i),g=2*dr(Hn(L0(a-t)+o*u*L0(i-e))),p=H(g),d=g?function(S){var m=H(S*=g)/p,y=H(g-S)/p,E=y*f+m*s,$=y*v+m*h,T=y*l+m*c;return[Qn($,E)*kn,Qn(T,Hn(E*E+$*$))*kn]}:function(){return[e*kn,t*kn]};return d.distance=g,d}function Be(n){return n}var hf=Ee(),gf=Ee(),y1,w1,pf,df,oe={point:In,lineStart:In,lineEnd:In,polygonStart:function(){oe.lineStart=c5,oe.lineEnd=h5},polygonEnd:function(){oe.lineStart=oe.lineEnd=oe.point=In,hf.add(Tn(gf)),gf.reset()},result:function(){var n=hf/2;return hf.reset(),n}};function c5(){oe.point=v5}function v5(n,r){oe.point=E1,y1=pf=n,w1=df=r}function E1(n,r){gf.add(df*n-pf*r),pf=n,df=r}function h5(){E1(y1,w1)}var st=1/0,_a=st,Xt=-st,$a=Xt,Ta={point:g5,lineStart:In,lineEnd:In,polygonStart:In,polygonEnd:In,result:function(){var n=[[st,_a],[Xt,$a]];return Xt=$a=-(_a=st=1/0),n}};function g5(n,r){n<st&&(st=n),n>Xt&&(Xt=n),r<_a&&(_a=r),r>$a&&($a=r)}var mf=0,yf=0,Wt=0,Ma=0,Pa=0,ct=0,wf=0,Ef=0,Jt=0,S1,_1,Jr,Kr,kr={point:Ge,lineStart:$1,lineEnd:T1,polygonStart:function(){kr.lineStart=m5,kr.lineEnd=y5},polygonEnd:function(){kr.point=Ge,kr.lineStart=$1,kr.lineEnd=T1},result:function(){var n=Jt?[wf/Jt,Ef/Jt]:ct?[Ma/ct,Pa/ct]:Wt?[mf/Wt,yf/Wt]:[NaN,NaN];return mf=yf=Wt=Ma=Pa=ct=wf=Ef=Jt=0,n}};function Ge(n,r){mf+=n,yf+=r,++Wt}function $1(){kr.point=p5}function p5(n,r){kr.point=d5,Ge(Jr=n,Kr=r)}function d5(n,r){var e=n-Jr,t=r-Kr,i=Hn(e*e+t*t);Ma+=i*(Jr+n)/2,Pa+=i*(Kr+r)/2,ct+=i,Ge(Jr=n,Kr=r)}function T1(){kr.point=Ge}function m5(){kr.point=w5}function y5(){M1(S1,_1)}function w5(n,r){kr.point=M1,Ge(S1=Jr=n,_1=Kr=r)}function M1(n,r){var e=n-Jr,t=r-Kr,i=Hn(e*e+t*t);Ma+=i*(Jr+n)/2,Pa+=i*(Kr+r)/2,ct+=i,i=Kr*n-Jr*r,wf+=i*(Jr+n),Ef+=i*(Kr+r),Jt+=i*3,Ge(Jr=n,Kr=r)}function P1(n){this._context=n}P1.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,r){switch(this._point){case 0:{this._context.moveTo(n,r),this._point=1;break}case 1:{this._context.lineTo(n,r);break}default:{this._context.moveTo(n+this._radius,r),this._context.arc(n,r,this._radius,0,fr);break}}},result:In};var Sf=Ee(),_f,x1,R1,Kt,Zt,Qt={point:In,lineStart:function(){Qt.point=E5},lineEnd:function(){_f&&k1(x1,R1),Qt.point=In},polygonStart:function(){_f=!0},polygonEnd:function(){_f=null},result:function(){var n=+Sf;return Sf.reset(),n}};function E5(n,r){Qt.point=k1,x1=Kt=n,R1=Zt=r}function k1(n,r){Kt-=n,Zt-=r,Sf.add(Hn(Kt*Kt+Zt*Zt)),Kt=n,Zt=r}function b1(){this._string=[]}b1.prototype={_radius:4.5,_circle:C1(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,r){switch(this._point){case 0:{this._string.push("M",n,",",r),this._point=1;break}case 1:{this._string.push("L",n,",",r);break}default:{this._circle==null&&(this._circle=C1(this._radius)),this._string.push("M",n,",",r,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function C1(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function S5(n,r){var e=4.5,t,i;function a(o){return o&&(typeof e=="function"&&i.pointRadius(+e.apply(this,arguments)),Dr(o,t(i))),i.result()}return a.area=function(o){return Dr(o,t(oe)),oe.result()},a.measure=function(o){return Dr(o,t(Qt)),Qt.result()},a.bounds=function(o){return Dr(o,t(Ta)),Ta.result()},a.centroid=function(o){return Dr(o,t(kr)),kr.result()},a.projection=function(o){return arguments.length?(t=o==null?(n=null,Be):(n=o).stream,a):n},a.context=function(o){return arguments.length?(i=o==null?(r=null,new b1):new P1(r=o),typeof e!="function"&&i.pointRadius(e),a):r},a.pointRadius=function(o){return arguments.length?(e=typeof o=="function"?o:(i.pointRadius(+o),+o),a):e},a.projection(n).context(r)}function L1(n,r,e,t){return function(i,a){var o=r(a),l=i.invert(t[0],t[1]),u=i1(),c=r(u),f=!1,v,s,h,g={point:p,lineStart:S,lineEnd:m,polygonStart:function(){g.point=y,g.lineStart=E,g.lineEnd=$,s=[],v=[]},polygonEnd:function(){g.point=p,g.lineStart=S,g.lineEnd=m,s=Yt(s);var T=u1(v,l);s.length?(f||(a.polygonStart(),f=!0),a1(s,$5,T,e,a)):T&&(f||(a.polygonStart(),f=!0),a.lineStart(),e(null,null,1,a),a.lineEnd()),f&&(a.polygonEnd(),f=!1),s=v=null},sphere:function(){a.polygonStart(),a.lineStart(),e(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function p(T,k){var P=i(T,k);n(T=P[0],k=P[1])&&a.point(T,k)}function d(T,k){var P=i(T,k);o.point(P[0],P[1])}function S(){g.point=d,o.lineStart()}function m(){g.point=p,o.lineEnd()}function y(T,k){h.push([T,k]);var P=i(T,k);c.point(P[0],P[1])}function E(){c.lineStart(),h=[]}function $(){y(h[0][0],h[0][1]),c.lineEnd();var T=c.clean(),k=u.result(),P,R=k.length,C,b,L;if(h.pop(),v.push(h),h=null,!!R){if(T&1){if(b=k[0],(C=b.length-1)>0){for(f||(a.polygonStart(),f=!0),a.lineStart(),P=0;P<C;++P)a.point((L=b[P])[0],L[1]);a.lineEnd()}return}R>1&&T&2&&k.push(k.pop().concat(k.shift())),s.push(k.filter(_5))}}return g}}function _5(n){return n.length>1}function $5(n,r){return((n=n.x)[0]<0?n[1]-Un-X:Un-n[1])-((r=r.x)[0]<0?r[1]-Un-X:Un-r[1])}var N1=L1(function(){return!0},T5,P5,[-hn,-Un]);function T5(n){var r=NaN,e=NaN,t=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(a,o){var l=a>0?hn:-hn,u=Tn(a-r);Tn(u-hn)<X?(n.point(r,e=(e+o)/2>0?Un:-Un),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(l,e),n.point(a,e),i=0):t!==l&&u>=hn&&(Tn(r-t)<X&&(r-=t*X),Tn(a-l)<X&&(a-=l*X),e=M5(r,e,a,o),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(l,e),i=0),n.point(r=a,e=o),t=l},lineEnd:function(){n.lineEnd(),r=e=NaN},clean:function(){return 2-i}}}function M5(n,r,e,t){var i,a,o=H(n-e);return Tn(o)>X?at((H(r)*(a=V(t))*H(e)-H(t)*(i=V(r))*H(n))/(i*a*o)):(r+t)/2}function P5(n,r,e,t){var i;if(n==null)i=e*Un,t.point(-hn,i),t.point(0,i),t.point(hn,i),t.point(hn,0),t.point(hn,-i),t.point(0,-i),t.point(-hn,-i),t.point(-hn,0),t.point(-hn,i);else if(Tn(n[0]-r[0])>X){var a=n[0]<r[0]?hn:-hn;i=e*a/2,t.point(-a,i),t.point(0,i),t.point(a,i)}else t.point(r[0],r[1])}function x5(n,r){var e=V(n),t=e>0,i=Tn(e)>X;function a(f,v,s,h){e1(h,n,r,s,f,v)}function o(f,v){return V(f)*V(v)>e}function l(f){var v,s,h,g,p;return{lineStart:function(){g=h=!1,p=1},point:function(d,S){var m=[d,S],y,E=o(d,S),$=t?E?0:c(d,S):E?c(d+(d<0?hn:-hn),S):0;if(!v&&(g=h=E)&&f.lineStart(),E!==h&&(y=u(v,m),(!y||da(v,y)||da(m,y))&&(m[0]+=X,m[1]+=X,E=o(m[0],m[1]))),E!==h)p=0,E?(f.lineStart(),y=u(m,v),f.point(y[0],y[1])):(y=u(v,m),f.point(y[0],y[1]),f.lineEnd()),v=y;else if(i&&v&&t^E){var T;!($&s)&&(T=u(m,v,!0))&&(p=0,t?(f.lineStart(),f.point(T[0][0],T[0][1]),f.point(T[1][0],T[1][1]),f.lineEnd()):(f.point(T[1][0],T[1][1]),f.lineEnd(),f.lineStart(),f.point(T[0][0],T[0][1])))}E&&(!v||!da(v,m))&&f.point(m[0],m[1]),v=m,h=E,s=$},lineEnd:function(){h&&f.lineEnd(),v=null},clean:function(){return p|(g&&h)<<1}}}function u(f,v,s){var h=Fe(f),g=Fe(v),p=[1,0,0],d=ot(h,g),S=oa(d,d),m=d[0],y=S-m*m;if(!y)return!s&&f;var E=e*S/y,$=-e*m/y,T=ot(p,d),k=ua(p,E),P=ua(d,$);Ku(k,P);var R=T,C=oa(k,R),b=oa(R,R),L=C*C-b*(oa(k,k)-1);if(!(L<0)){var z=Hn(L),_=ua(R,(-C-z)/b);if(Ku(_,k),_=aa(_),!s)return _;var w=f[0],M=v[0],x=f[1],N=v[1],U;M<w&&(U=w,w=M,M=U);var vn=M-w,K=Tn(vn-hn)<X,an=K||vn<X;if(!K&&N<x&&(U=x,x=N,N=U),an?K?x+N>0^_[1]<(Tn(_[0]-w)<X?x:N):x<=_[1]&&_[1]<=N:vn>hn^(w<=_[0]&&_[0]<=M)){var fn=ua(R,(-C+z)/b);return Ku(fn,k),[_,aa(fn)]}}}function c(f,v){var s=t?n:hn-n,h=0;return f<-s?h|=1:f>s&&(h|=2),v<-s?h|=4:v>s&&(h|=8),h}return L1(o,l,a,t?[0,-n]:[-hn,n-hn])}function R5(n){return{stream:xa(n)}}function xa(n){return function(r){var e=new $f;for(var t in n)e[t]=n[t];return e.stream=r,e}}function $f(){}$f.prototype={constructor:$f,point:function(n,r){this.stream.point(n,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ra(n,r,e){var t=r[1][0]-r[0][0],i=r[1][1]-r[0][1],a=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),a!=null&&n.clipExtent(null),Dr(e,n.stream(Ta));var o=Ta.result(),l=Math.min(t/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),u=+r[0][0]+(t-l*(o[1][0]+o[0][0]))/2,c=+r[0][1]+(i-l*(o[1][1]+o[0][1]))/2;return a!=null&&n.clipExtent(a),n.scale(l*150).translate([u,c])}function Tf(n,r,e){return Ra(n,[[0,0],r],e)}var I1=16,k5=V(30*J);function A1(n,r){return+r?C5(n,r):b5(n)}function b5(n){return xa({point:function(r,e){r=n(r,e),this.stream.point(r[0],r[1])}})}function C5(n,r){function e(t,i,a,o,l,u,c,f,v,s,h,g,p,d){var S=c-t,m=f-i,y=S*S+m*m;if(y>4*r&&p--){var E=o+s,$=l+h,T=u+g,k=Hn(E*E+$*$+T*T),P=dr(T/=k),R=Tn(Tn(T)-1)<X||Tn(a-v)<X?(a+v)/2:Qn($,E),C=n(R,P),b=C[0],L=C[1],z=b-t,_=L-i,w=m*z-S*_;(w*w/y>r||Tn((S*z+m*_)/y-.5)>.3||o*s+l*h+u*g<k5)&&(e(t,i,a,o,l,u,b,L,R,E/=k,$/=k,T,p,d),d.point(b,L),e(b,L,R,E,$,T,c,f,v,s,h,g,p,d))}}return function(t){var i,a,o,l,u,c,f,v,s,h,g,p,d={point:S,lineStart:m,lineEnd:E,polygonStart:function(){t.polygonStart(),d.lineStart=$},polygonEnd:function(){t.polygonEnd(),d.lineStart=m}};function S(P,R){P=n(P,R),t.point(P[0],P[1])}function m(){v=NaN,d.point=y,t.lineStart()}function y(P,R){var C=Fe([P,R]),b=n(P,R);e(v,s,f,h,g,p,v=b[0],s=b[1],f=P,h=C[0],g=C[1],p=C[2],I1,t),t.point(v,s)}function E(){d.point=S,t.lineEnd()}function $(){m(),d.point=T,d.lineEnd=k}function T(P,R){y(i=P,R),a=v,o=s,l=h,u=g,c=p,d.point=y}function k(){e(v,s,f,h,g,p,a,o,i,l,u,c,I1,t),d.lineEnd=E,E()}return d}}var L5=xa({point:function(n,r){this.stream.point(n*J,r*J)}});function Te(n){return Mf(function(){return n})()}function Mf(n){var r,e=150,t=480,i=250,a,o,l=0,u=0,c=0,f=0,v=0,s,h,g=null,p=N1,d=null,S,m,y,E=Be,$=.5,T=A1(b,$),k,P;function R(_){return _=h(_[0]*J,_[1]*J),[_[0]*e+a,o-_[1]*e]}function C(_){return _=h.invert((_[0]-a)/e,(o-_[1])/e),_&&[_[0]*kn,_[1]*kn]}function b(_,w){return _=r(_,w),[_[0]*e+a,o-_[1]*e]}R.stream=function(_){return k&&P===_?k:k=L5(p(s,T(E(P=_))))},R.clipAngle=function(_){return arguments.length?(p=+_?x5(g=_*J,6*J):(g=null,N1),z()):g*kn},R.clipExtent=function(_){return arguments.length?(E=_==null?(d=S=m=y=null,Be):ff(d=+_[0][0],S=+_[0][1],m=+_[1][0],y=+_[1][1]),z()):d==null?null:[[d,S],[m,y]]},R.scale=function(_){return arguments.length?(e=+_,L()):e},R.translate=function(_){return arguments.length?(t=+_[0],i=+_[1],L()):[t,i]},R.center=function(_){return arguments.length?(l=_[0]%360*J,u=_[1]%360*J,L()):[l*kn,u*kn]},R.rotate=function(_){return arguments.length?(c=_[0]%360*J,f=_[1]%360*J,v=_.length>2?_[2]%360*J:0,L()):[c*kn,f*kn,v*kn]},R.precision=function(_){return arguments.length?(T=A1(b,$=_*_),z()):Hn($)},R.fitExtent=function(_,w){return Ra(R,_,w)},R.fitSize=function(_,w){return Tf(R,_,w)};function L(){h=K0(s=af(c,f,v),r);var _=r(l,u);return a=t-_[0]*e,o=i+_[1]*e,z()}function z(){return k=P=null,R}return function(){return r=n.apply(this,arguments),R.invert=r.invert&&C,L()}}function Pf(n){var r=0,e=hn/3,t=Mf(n),i=t(r,e);return i.parallels=function(a){return arguments.length?t(r=a[0]*J,e=a[1]*J):[r*kn,e*kn]},i}function N5(n){var r=V(n);function e(t,i){return[t*r,H(i)/r]}return e.invert=function(t,i){return[t/r,dr(i*r)]},e}function D1(n,r){var e=H(n),t=(e+H(r))/2;if(Tn(t)<X)return N5(n);var i=1+e*(2*t-e),a=Hn(i)/t;function o(l,u){var c=Hn(i-2*t*H(u))/t;return[c*H(l*=t),a-c*V(l)]}return o.invert=function(l,u){var c=a-u;return[Qn(l,Tn(c))/t*Bt(c),dr((i-(l*l+c*c)*t*t)/(2*t))]},o}function ka(){return Pf(D1).scale(155.424).center([0,33.6442])}function O1(){return ka().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function I5(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function A5(){var n,r,e=O1(),t,i=ka().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=ka().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l,u,c={point:function(s,h){u=[s,h]}};function f(s){var h=s[0],g=s[1];return u=null,t.point(h,g),u||(a.point(h,g),u)||(l.point(h,g),u)}f.invert=function(s){var h=e.scale(),g=e.translate(),p=(s[0]-g[0])/h,d=(s[1]-g[1])/h;return(d>=.12&&d<.234&&p>=-.425&&p<-.214?i:d>=.166&&d<.234&&p>=-.214&&p<-.115?o:e).invert(s)},f.stream=function(s){return n&&r===s?n:n=I5([e.stream(r=s),i.stream(s),o.stream(s)])},f.precision=function(s){return arguments.length?(e.precision(s),i.precision(s),o.precision(s),v()):e.precision()},f.scale=function(s){return arguments.length?(e.scale(s),i.scale(s*.35),o.scale(s),f.translate(e.translate())):e.scale()},f.translate=function(s){if(!arguments.length)return e.translate();var h=e.scale(),g=+s[0],p=+s[1];return t=e.translate(s).clipExtent([[g-.455*h,p-.238*h],[g+.455*h,p+.238*h]]).stream(c),a=i.translate([g-.307*h,p+.201*h]).clipExtent([[g-.425*h+X,p+.12*h+X],[g-.214*h-X,p+.234*h-X]]).stream(c),l=o.translate([g-.205*h,p+.212*h]).clipExtent([[g-.214*h+X,p+.166*h+X],[g-.115*h-X,p+.234*h-X]]).stream(c),v()},f.fitExtent=function(s,h){return Ra(f,s,h)},f.fitSize=function(s,h){return Tf(f,s,h)};function v(){return n=r=null,f}return f.scale(1070)}function q1(n){return function(r,e){var t=V(r),i=V(e),a=n(t*i);return[a*i*H(r),a*H(e)]}}function ni(n){return function(r,e){var t=Hn(r*r+e*e),i=n(t),a=H(i),o=V(i);return[Qn(r*a,t*o),dr(t&&e*a/t)]}}var xf=q1(function(n){return Hn(2/(1+n))});xf.invert=ni(function(n){return 2*dr(n/2)});function D5(){return Te(xf).scale(124.75).clipAngle(180-.001)}var Rf=q1(function(n){return(n=C0(n))&&n/H(n)});Rf.invert=ni(function(n){return n});function O5(){return Te(Rf).scale(79.4188).clipAngle(180-.001)}function ri(n,r){return[n,ra(Vu((Un+r)/2))]}ri.invert=function(n,r){return[n,2*at(b0(r))-Un]};function q5(){return F1(ri).scale(961/fr)}function F1(n){var r=Te(n),e=r.center,t=r.scale,i=r.translate,a=r.clipExtent,o=null,l,u,c;r.scale=function(v){return arguments.length?(t(v),f()):t()},r.translate=function(v){return arguments.length?(i(v),f()):i()},r.center=function(v){return arguments.length?(e(v),f()):e()},r.clipExtent=function(v){return arguments.length?(v==null?o=l=u=c=null:(o=+v[0][0],l=+v[0][1],u=+v[1][0],c=+v[1][1]),f()):o==null?null:[[o,l],[u,c]]};function f(){var v=hn*t(),s=r(r1(r.rotate()).invert([0,0]));return a(o==null?[[s[0]-v,s[1]-v],[s[0]+v,s[1]+v]]:n===ri?[[Math.max(s[0]-v,o),l],[Math.min(s[0]+v,u),c]]:[[o,Math.max(s[1]-v,l)],[u,Math.min(s[1]+v,c)]])}return f()}function ba(n){return Vu((Un+n)/2)}function z1(n,r){var e=V(n),t=n===r?H(n):ra(e/V(r))/ra(ba(r)/ba(n)),i=e*Yu(ba(n),t)/t;if(!t)return ri;function a(o,l){i>0?l<-Un+X&&(l=-Un+X):l>Un-X&&(l=Un-X);var u=i/Yu(ba(l),t);return[u*H(t*o),i-u*V(t*o)]}return a.invert=function(o,l){var u=i-l,c=Bt(t)*Hn(o*o+u*u);return[Qn(o,Tn(u))/t*Bt(u),2*at(Yu(i/c,1/t))-Un]},a}function F5(){return Pf(z1).scale(109.5).parallels([30,30])}function ei(n,r){return[n,r]}ei.invert=ei;function z5(){return Te(ei).scale(152.63)}function B1(n,r){var e=V(n),t=n===r?H(n):(e-V(r))/(r-n),i=e/t+n;if(Tn(t)<X)return ei;function a(o,l){var u=i-l,c=t*o;return[u*H(c),i-u*V(c)]}return a.invert=function(o,l){var u=i-l;return[Qn(o,Tn(u))/t*Bt(u),i-Bt(t)*Hn(o*o+u*u)]},a}function B5(){return Pf(B1).scale(131.154).center([0,13.9389])}function kf(n,r){var e=V(r),t=V(n)*e;return[e*H(n)/t,H(r)/t]}kf.invert=ni(at);function G5(){return Te(kf).scale(144.049).clipAngle(60)}function Ca(n,r,e,t){return n===1&&r===1&&e===0&&t===0?Be:xa({point:function(i,a){this.stream.point(i*n+e,a*r+t)}})}function U5(){var n=1,r=0,e=0,t=1,i=1,a=Be,o=null,l,u,c,f=Be,v,s,h;function g(){return v=s=null,h}return h={stream:function(p){return v&&s===p?v:v=a(f(s=p))},clipExtent:function(p){return arguments.length?(f=p==null?(o=l=u=c=null,Be):ff(o=+p[0][0],l=+p[0][1],u=+p[1][0],c=+p[1][1]),g()):o==null?null:[[o,l],[u,c]]},scale:function(p){return arguments.length?(a=Ca((n=+p)*t,n*i,r,e),g()):n},translate:function(p){return arguments.length?(a=Ca(n*t,n*i,r=+p[0],e=+p[1]),g()):[r,e]},reflectX:function(p){return arguments.length?(a=Ca(n*(t=p?-1:1),n*i,r,e),g()):t<0},reflectY:function(p){return arguments.length?(a=Ca(n*t,n*(i=p?-1:1),r,e),g()):i<0},fitExtent:function(p,d){return Ra(h,p,d)},fitSize:function(p,d){return Tf(h,p,d)}}}function bf(n,r){return[V(r)*H(n),H(r)]}bf.invert=ni(dr);function H5(){return Te(bf).scale(249.5).clipAngle(90+X)}function Cf(n,r){var e=V(r),t=1+V(n)*e;return[e*H(n)/t,H(r)/t]}Cf.invert=ni(function(n){return 2*at(n)});function Y5(){return Te(Cf).scale(250).clipAngle(142)}function Lf(n,r){return[ra(Vu((Un+r)/2)),-n]}Lf.invert=function(n,r){return[-r,2*at(b0(n))-Un]};function V5(){var n=F1(Lf),r=n.center,e=n.rotate;return n.center=function(t){return arguments.length?r([-t[1],t[0]]):(t=r(),[t[1],-t[0]])},n.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)}var j5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",geoArea:zm,geoBounds:Hm,geoCentroid:Jm,geoCircle:Km,geoClipExtent:r5,geoContains:f5,geoDistance:jt,geoGraticule:m1,geoGraticule10:l5,geoInterpolate:s5,geoLength:f1,geoPath:S5,geoAlbers:O1,geoAlbersUsa:A5,geoAzimuthalEqualArea:D5,geoAzimuthalEqualAreaRaw:xf,geoAzimuthalEquidistant:O5,geoAzimuthalEquidistantRaw:Rf,geoConicConformal:F5,geoConicConformalRaw:z1,geoConicEqualArea:ka,geoConicEqualAreaRaw:D1,geoConicEquidistant:B5,geoConicEquidistantRaw:B1,geoEquirectangular:z5,geoEquirectangularRaw:ei,geoGnomonic:G5,geoGnomonicRaw:kf,geoIdentity:U5,geoProjection:Te,geoProjectionMutator:Mf,geoMercator:q5,geoMercatorRaw:ri,geoOrthographic:H5,geoOrthographicRaw:bf,geoStereographic:Y5,geoStereographicRaw:Cf,geoTransverseMercator:V5,geoTransverseMercatorRaw:Lf,geoRotation:r1,geoStream:Dr,geoTransform:R5}),ti=Xr(j5);function La(){return new Na}function Na(){this.reset()}Na.prototype={constructor:Na,reset:function(){this.s=this.t=0},add:function(n){G1(Ia,n,this.t),G1(this,Ia.s,this.s),this.s?this.t+=Ia.t:this.s=Ia.t},valueOf:function(){return this.s}};var Ia=new Na;function G1(n,r,e){var t=n.s=r+e,i=t-r,a=t-i;n.t=r-a+(e-i)}var mn=1e-6,U1=1e-12,gn=Math.PI,br=gn/2,Aa=gn/4,wr=gn*2,bn=180/gn,nn=gn/180,Cn=Math.abs,H1=Math.atan,qr=Math.atan2,rn=Math.cos,Q=Math.sin,X5=Math.sign||function(n){return n>0?1:n<0?-1:0},Fr=Math.sqrt;function Y1(n){return n>1?0:n<-1?gn:Math.acos(n)}function zr(n){return n>1?br:n<-1?-br:Math.asin(n)}function V1(n){return(n=Q(n/2))*n}function Zr(){}function Da(n,r){n&&X1.hasOwnProperty(n.type)&&X1[n.type](n,r)}var j1={Feature:function(n,r){Da(n.geometry,r)},FeatureCollection:function(n,r){for(var e=n.features,t=-1,i=e.length;++t<i;)Da(e[t].geometry,r)}},X1={Sphere:function(n,r){r.sphere()},Point:function(n,r){n=n.coordinates,r.point(n[0],n[1],n[2])},MultiPoint:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)n=e[t],r.point(n[0],n[1],n[2])},LineString:function(n,r){Nf(n.coordinates,r,0)},MultiLineString:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)Nf(e[t],r,0)},Polygon:function(n,r){W1(n.coordinates,r)},MultiPolygon:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)W1(e[t],r)},GeometryCollection:function(n,r){for(var e=n.geometries,t=-1,i=e.length;++t<i;)Da(e[t],r)}};function Nf(n,r,e){var t=-1,i=n.length-e,a;for(r.lineStart();++t<i;)a=n[t],r.point(a[0],a[1],a[2]);r.lineEnd()}function W1(n,r){var e=-1,t=n.length;for(r.polygonStart();++e<t;)Nf(n[e],r,1);r.polygonEnd()}function vt(n,r){n&&j1.hasOwnProperty(n.type)?j1[n.type](n,r):Da(n,r)}var Oa=La(),J1=La(),K1,Z1,If,Af,Df,ue={point:Zr,lineStart:Zr,lineEnd:Zr,polygonStart:function(){Oa.reset(),ue.lineStart=W5,ue.lineEnd=J5},polygonEnd:function(){var n=+Oa;J1.add(n<0?wr+n:n),this.lineStart=this.lineEnd=this.point=Zr},sphere:function(){J1.add(wr)}};function W5(){ue.point=K5}function J5(){Q1(K1,Z1)}function K5(n,r){ue.point=Q1,K1=n,Z1=r,n*=nn,r*=nn,If=n,Af=rn(r=r/2+Aa),Df=Q(r)}function Q1(n,r){n*=nn,r*=nn,r=r/2+Aa;var e=n-If,t=e>=0?1:-1,i=t*e,a=rn(r),o=Q(r),l=Df*o,u=Af*a+l*rn(i),c=l*t*Q(i);Oa.add(qr(c,u)),If=n,Af=a,Df=o}function qa(n){return[qr(n[1],n[0]),zr(n[2])]}function Ue(n){var r=n[0],e=n[1],t=rn(e);return[t*rn(r),t*Q(r),Q(e)]}function Fa(n,r){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]}function ht(n,r){return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}function Of(n,r){n[0]+=r[0],n[1]+=r[1],n[2]+=r[2]}function za(n,r){return[n[0]*r,n[1]*r,n[2]*r]}function Ba(n){var r=Fr(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=r,n[1]/=r,n[2]/=r}var An,lr,Fn,Er,He,nv,rv,gt,ii=La(),Me,fe,le={point:qf,lineStart:tv,lineEnd:iv,polygonStart:function(){le.point=av,le.lineStart=Z5,le.lineEnd=Q5,ii.reset(),ue.polygonStart()},polygonEnd:function(){ue.polygonEnd(),le.point=qf,le.lineStart=tv,le.lineEnd=iv,Oa<0?(An=-(Fn=180),lr=-(Er=90)):ii>mn?Er=90:ii<-mn&&(lr=-90),fe[0]=An,fe[1]=Fn},sphere:function(){An=-(Fn=180),lr=-(Er=90)}};function qf(n,r){Me.push(fe=[An=n,Fn=n]),r<lr&&(lr=r),r>Er&&(Er=r)}function ev(n,r){var e=Ue([n*nn,r*nn]);if(gt){var t=ht(gt,e),i=[t[1],-t[0],0],a=ht(i,t);Ba(a),a=qa(a);var o=n-He,l=o>0?1:-1,u=a[0]*bn*l,c,f=Cn(o)>180;f^(l*He<u&&u<l*n)?(c=a[1]*bn,c>Er&&(Er=c)):(u=(u+360)%360-180,f^(l*He<u&&u<l*n)?(c=-a[1]*bn,c<lr&&(lr=c)):(r<lr&&(lr=r),r>Er&&(Er=r))),f?n<He?Sr(An,n)>Sr(An,Fn)&&(Fn=n):Sr(n,Fn)>Sr(An,Fn)&&(An=n):Fn>=An?(n<An&&(An=n),n>Fn&&(Fn=n)):n>He?Sr(An,n)>Sr(An,Fn)&&(Fn=n):Sr(n,Fn)>Sr(An,Fn)&&(An=n)}else Me.push(fe=[An=n,Fn=n]);r<lr&&(lr=r),r>Er&&(Er=r),gt=e,He=n}function tv(){le.point=ev}function iv(){fe[0]=An,fe[1]=Fn,le.point=qf,gt=null}function av(n,r){if(gt){var e=n-He;ii.add(Cn(e)>180?e+(e>0?360:-360):e)}else nv=n,rv=r;ue.point(n,r),ev(n,r)}function Z5(){ue.lineStart()}function Q5(){av(nv,rv),ue.lineEnd(),Cn(ii)>mn&&(An=-(Fn=180)),fe[0]=An,fe[1]=Fn,gt=null}function Sr(n,r){return(r-=n)<0?r+360:r}function ny(n,r){return n[0]-r[0]}function ov(n,r){return n[0]<=n[1]?n[0]<=r&&r<=n[1]:r<n[0]||n[1]<r}function ry(n){var r,e,t,i,a,o,l;if(Er=Fn=-(An=lr=1/0),Me=[],vt(n,le),e=Me.length){for(Me.sort(ny),r=1,t=Me[0],a=[t];r<e;++r)i=Me[r],ov(t,i[0])||ov(t,i[1])?(Sr(t[0],i[1])>Sr(t[0],t[1])&&(t[1]=i[1]),Sr(i[0],t[1])>Sr(t[0],t[1])&&(t[0]=i[0])):a.push(t=i);for(o=-1/0,e=a.length-1,r=0,t=a[e];r<=e;t=i,++r)i=a[r],(l=Sr(t[1],i[0]))>o&&(o=l,An=i[0],Fn=t[1])}return Me=fe=null,An===1/0||lr===1/0?[[NaN,NaN],[NaN,NaN]]:[[An,lr],[Fn,Er]]}var ai,Ga,Ua,Ha,Ya,Va,ja,Xa,Ff,zf,Bf,uv,fv,tr,ir,ar,Br={sphere:Zr,point:Gf,lineStart:lv,lineEnd:sv,polygonStart:function(){Br.lineStart=iy,Br.lineEnd=ay},polygonEnd:function(){Br.lineStart=lv,Br.lineEnd=sv}};function Gf(n,r){n*=nn,r*=nn;var e=rn(r);oi(e*rn(n),e*Q(n),Q(r))}function oi(n,r,e){++ai,Ua+=(n-Ua)/ai,Ha+=(r-Ha)/ai,Ya+=(e-Ya)/ai}function lv(){Br.point=ey}function ey(n,r){n*=nn,r*=nn;var e=rn(r);tr=e*rn(n),ir=e*Q(n),ar=Q(r),Br.point=ty,oi(tr,ir,ar)}function ty(n,r){n*=nn,r*=nn;var e=rn(r),t=e*rn(n),i=e*Q(n),a=Q(r),o=qr(Fr((o=ir*a-ar*i)*o+(o=ar*t-tr*a)*o+(o=tr*i-ir*t)*o),tr*t+ir*i+ar*a);Ga+=o,Va+=o*(tr+(tr=t)),ja+=o*(ir+(ir=i)),Xa+=o*(ar+(ar=a)),oi(tr,ir,ar)}function sv(){Br.point=Gf}function iy(){Br.point=oy}function ay(){cv(uv,fv),Br.point=Gf}function oy(n,r){uv=n,fv=r,n*=nn,r*=nn,Br.point=cv;var e=rn(r);tr=e*rn(n),ir=e*Q(n),ar=Q(r),oi(tr,ir,ar)}function cv(n,r){n*=nn,r*=nn;var e=rn(r),t=e*rn(n),i=e*Q(n),a=Q(r),o=ir*a-ar*i,l=ar*t-tr*a,u=tr*i-ir*t,c=Fr(o*o+l*l+u*u),f=zr(c),v=c&&-f/c;Ff+=v*o,zf+=v*l,Bf+=v*u,Ga+=f,Va+=f*(tr+(tr=t)),ja+=f*(ir+(ir=i)),Xa+=f*(ar+(ar=a)),oi(tr,ir,ar)}function ui(n){ai=Ga=Ua=Ha=Ya=Va=ja=Xa=Ff=zf=Bf=0,vt(n,Br);var r=Ff,e=zf,t=Bf,i=r*r+e*e+t*t;return i<U1&&(r=Va,e=ja,t=Xa,Ga<mn&&(r=Ua,e=Ha,t=Ya),i=r*r+e*e+t*t,i<U1)?[NaN,NaN]:[qr(e,r)*bn,zr(t/Fr(i))*bn]}function pt(n){return function(){return n}}function Uf(n,r){function e(t,i){return t=n(t,i),r(t[0],t[1])}return n.invert&&r.invert&&(e.invert=function(t,i){return t=r.invert(t,i),t&&n.invert(t[0],t[1])}),e}function Hf(n,r){return[Cn(n)>gn?n+Math.round(-n/wr)*wr:n,r]}Hf.invert=Hf;function Yf(n,r,e){return(n%=wr)?r||e?Uf(hv(n),gv(r,e)):hv(n):r||e?gv(r,e):Hf}function vv(n){return function(r,e){return r+=n,[r>gn?r-wr:r<-gn?r+wr:r,e]}}function hv(n){var r=vv(n);return r.invert=vv(-n),r}function gv(n,r){var e=rn(n),t=Q(n),i=rn(r),a=Q(r);function o(l,u){var c=rn(u),f=rn(l)*c,v=Q(l)*c,s=Q(u),h=s*e+f*t;return[qr(v*i-h*a,f*e-s*t),zr(h*i+v*a)]}return o.invert=function(l,u){var c=rn(u),f=rn(l)*c,v=Q(l)*c,s=Q(u),h=s*i-v*a;return[qr(v*i+s*a,f*e+h*t),zr(h*e-f*t)]},o}function Wa(n){n=Yf(n[0]*nn,n[1]*nn,n.length>2?n[2]*nn:0);function r(e){return e=n(e[0]*nn,e[1]*nn),e[0]*=bn,e[1]*=bn,e}return r.invert=function(e){return e=n.invert(e[0]*nn,e[1]*nn),e[0]*=bn,e[1]*=bn,e},r}function pv(n,r,e,t,i,a){if(!!e){var o=rn(r),l=Q(r),u=t*e;i==null?(i=r+t*wr,a=r-u/2):(i=dv(o,i),a=dv(o,a),(t>0?i<a:i>a)&&(i+=t*wr));for(var c,f=i;t>0?f>a:f<a;f-=u)c=qa([o,-l*rn(f),-l*Q(f)]),n.point(c[0],c[1])}}function dv(n,r){r=Ue(r),r[0]-=n,Ba(r);var e=Y1(-r[1]);return((-r[2]<0?-e:e)+wr-mn)%wr}function uy(){var n=pt([0,0]),r=pt(90),e=pt(6),t,i,a={point:o};function o(u,c){t.push(u=i(u,c)),u[0]*=bn,u[1]*=bn}function l(){var u=n.apply(this,arguments),c=r.apply(this,arguments)*nn,f=e.apply(this,arguments)*nn;return t=[],i=Yf(-u[0]*nn,-u[1]*nn,0).invert,pv(a,c,f,1),u={type:"Polygon",coordinates:[t]},t=i=null,u}return l.center=function(u){return arguments.length?(n=typeof u=="function"?u:pt([+u[0],+u[1]]),l):n},l.radius=function(u){return arguments.length?(r=typeof u=="function"?u:pt(+u),l):r},l.precision=function(u){return arguments.length?(e=typeof u=="function"?u:pt(+u),l):e},l}function mv(){var n=[],r;return{point:function(e,t,i){r.push([e,t,i])},lineStart:function(){n.push(r=[])},lineEnd:Zr,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],r=null,e}}}function Ja(n,r){return Cn(n[0]-r[0])<mn&&Cn(n[1]-r[1])<mn}function Ka(n,r,e,t){this.x=n,this.z=r,this.o=e,this.e=t,this.v=!1,this.n=this.p=null}function yv(n,r,e,t,i){var a=[],o=[],l,u;if(n.forEach(function(g){if(!((p=g.length-1)<=0)){var p,d=g[0],S=g[p],m;if(Ja(d,S)){if(!d[2]&&!S[2]){for(i.lineStart(),l=0;l<p;++l)i.point((d=g[l])[0],d[1]);i.lineEnd();return}S[0]+=2*mn}a.push(m=new Ka(d,g,null,!0)),o.push(m.o=new Ka(d,null,m,!1)),a.push(m=new Ka(S,g,null,!1)),o.push(m.o=new Ka(S,null,m,!0))}}),!!a.length){for(o.sort(r),wv(a),wv(o),l=0,u=o.length;l<u;++l)o[l].e=e=!e;for(var c=a[0],f,v;;){for(var s=c,h=!0;s.v;)if((s=s.n)===c)return;f=s.z,i.lineStart();do{if(s.v=s.o.v=!0,s.e){if(h)for(l=0,u=f.length;l<u;++l)i.point((v=f[l])[0],v[1]);else t(s.x,s.n.x,1,i);s=s.n}else{if(h)for(f=s.p.z,l=f.length-1;l>=0;--l)i.point((v=f[l])[0],v[1]);else t(s.x,s.p.x,-1,i);s=s.p}s=s.o,f=s.z,h=!h}while(!s.v);i.lineEnd()}}}function wv(n){if(!!(r=n.length)){for(var r,e=0,t=n[0],i;++e<r;)t.n=i=n[e],i.p=t,t=i;t.n=i=n[0],i.p=t}}var Vf=La();function jf(n){return Cn(n[0])<=gn?n[0]:X5(n[0])*((Cn(n[0])+gn)%wr-gn)}function fy(n,r){var e=jf(r),t=r[1],i=Q(t),a=[Q(e),-rn(e),0],o=0,l=0;Vf.reset(),i===1?t=br+mn:i===-1&&(t=-br-mn);for(var u=0,c=n.length;u<c;++u)if(!!(v=(f=n[u]).length))for(var f,v,s=f[v-1],h=jf(s),g=s[1]/2+Aa,p=Q(g),d=rn(g),S=0;S<v;++S,h=y,p=$,d=T,s=m){var m=f[S],y=jf(m),E=m[1]/2+Aa,$=Q(E),T=rn(E),k=y-h,P=k>=0?1:-1,R=P*k,C=R>gn,b=p*$;if(Vf.add(qr(b*P*Q(R),d*T+b*rn(R))),o+=C?k+P*wr:k,C^h>=e^y>=e){var L=ht(Ue(s),Ue(m));Ba(L);var z=ht(a,L);Ba(z);var _=(C^k>=0?-1:1)*zr(z[2]);(t>_||t===_&&(L[0]||L[1]))&&(l+=C^k>=0?1:-1)}}return(o<-mn||o<mn&&Vf<-mn)^l&1}function Ev(n,r,e,t){return function(i){var a=r(i),o=mv(),l=r(o),u=!1,c,f,v,s={point:h,lineStart:p,lineEnd:d,polygonStart:function(){s.point=S,s.lineStart=m,s.lineEnd=y,f=[],c=[]},polygonEnd:function(){s.point=h,s.lineStart=p,s.lineEnd=d,f=Yt(f);var E=fy(c,t);f.length?(u||(i.polygonStart(),u=!0),yv(f,sy,E,e,i)):E&&(u||(i.polygonStart(),u=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),f=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(E,$){n(E,$)&&i.point(E,$)}function g(E,$){a.point(E,$)}function p(){s.point=g,a.lineStart()}function d(){s.point=h,a.lineEnd()}function S(E,$){v.push([E,$]),l.point(E,$)}function m(){l.lineStart(),v=[]}function y(){S(v[0][0],v[0][1]),l.lineEnd();var E=l.clean(),$=o.result(),T,k=$.length,P,R,C;if(v.pop(),c.push(v),v=null,!!k){if(E&1){if(R=$[0],(P=R.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),T=0;T<P;++T)i.point((C=R[T])[0],C[1]);i.lineEnd()}return}k>1&&E&2&&$.push($.pop().concat($.shift())),f.push($.filter(ly))}}return s}}function ly(n){return n.length>1}function sy(n,r){return((n=n.x)[0]<0?n[1]-br-mn:br-n[1])-((r=r.x)[0]<0?r[1]-br-mn:br-r[1])}var Sv=Ev(function(){return!0},cy,hy,[-gn,-br]);function cy(n){var r=NaN,e=NaN,t=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(a,o){var l=a>0?gn:-gn,u=Cn(a-r);Cn(u-gn)<mn?(n.point(r,e=(e+o)/2>0?br:-br),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(l,e),n.point(a,e),i=0):t!==l&&u>=gn&&(Cn(r-t)<mn&&(r-=t*mn),Cn(a-l)<mn&&(a-=l*mn),e=vy(r,e,a,o),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(l,e),i=0),n.point(r=a,e=o),t=l},lineEnd:function(){n.lineEnd(),r=e=NaN},clean:function(){return 2-i}}}function vy(n,r,e,t){var i,a,o=Q(n-e);return Cn(o)>mn?H1((Q(r)*(a=rn(t))*Q(e)-Q(t)*(i=rn(r))*Q(n))/(i*a*o)):(r+t)/2}function hy(n,r,e,t){var i;if(n==null)i=e*br,t.point(-gn,i),t.point(0,i),t.point(gn,i),t.point(gn,0),t.point(gn,-i),t.point(0,-i),t.point(-gn,-i),t.point(-gn,0),t.point(-gn,i);else if(Cn(n[0]-r[0])>mn){var a=n[0]<r[0]?gn:-gn;i=e*a/2,t.point(-a,i),t.point(0,i),t.point(a,i)}else t.point(r[0],r[1])}function gy(n){var r=rn(n),e=6*nn,t=r>0,i=Cn(r)>mn;function a(f,v,s,h){pv(h,n,e,s,f,v)}function o(f,v){return rn(f)*rn(v)>r}function l(f){var v,s,h,g,p;return{lineStart:function(){g=h=!1,p=1},point:function(d,S){var m=[d,S],y,E=o(d,S),$=t?E?0:c(d,S):E?c(d+(d<0?gn:-gn),S):0;if(!v&&(g=h=E)&&f.lineStart(),E!==h&&(y=u(v,m),(!y||Ja(v,y)||Ja(m,y))&&(m[2]=1)),E!==h)p=0,E?(f.lineStart(),y=u(m,v),f.point(y[0],y[1])):(y=u(v,m),f.point(y[0],y[1],2),f.lineEnd()),v=y;else if(i&&v&&t^E){var T;!($&s)&&(T=u(m,v,!0))&&(p=0,t?(f.lineStart(),f.point(T[0][0],T[0][1]),f.point(T[1][0],T[1][1]),f.lineEnd()):(f.point(T[1][0],T[1][1]),f.lineEnd(),f.lineStart(),f.point(T[0][0],T[0][1],3)))}E&&(!v||!Ja(v,m))&&f.point(m[0],m[1]),v=m,h=E,s=$},lineEnd:function(){h&&f.lineEnd(),v=null},clean:function(){return p|(g&&h)<<1}}}function u(f,v,s){var h=Ue(f),g=Ue(v),p=[1,0,0],d=ht(h,g),S=Fa(d,d),m=d[0],y=S-m*m;if(!y)return!s&&f;var E=r*S/y,$=-r*m/y,T=ht(p,d),k=za(p,E),P=za(d,$);Of(k,P);var R=T,C=Fa(k,R),b=Fa(R,R),L=C*C-b*(Fa(k,k)-1);if(!(L<0)){var z=Fr(L),_=za(R,(-C-z)/b);if(Of(_,k),_=qa(_),!s)return _;var w=f[0],M=v[0],x=f[1],N=v[1],U;M<w&&(U=w,w=M,M=U);var vn=M-w,K=Cn(vn-gn)<mn,an=K||vn<mn;if(!K&&N<x&&(U=x,x=N,N=U),an?K?x+N>0^_[1]<(Cn(_[0]-w)<mn?x:N):x<=_[1]&&_[1]<=N:vn>gn^(w<=_[0]&&_[0]<=M)){var fn=za(R,(-C+z)/b);return Of(fn,k),[_,qa(fn)]}}}function c(f,v){var s=t?n:gn-n,h=0;return f<-s?h|=1:f>s&&(h|=2),v<-s?h|=4:v>s&&(h|=8),h}return Ev(o,l,a,t?[0,-n]:[-gn,n-gn])}function py(n,r,e,t,i,a){var o=n[0],l=n[1],u=r[0],c=r[1],f=0,v=1,s=u-o,h=c-l,g;if(g=e-o,!(!s&&g>0)){if(g/=s,s<0){if(g<f)return;g<v&&(v=g)}else if(s>0){if(g>v)return;g>f&&(f=g)}if(g=i-o,!(!s&&g<0)){if(g/=s,s<0){if(g>v)return;g>f&&(f=g)}else if(s>0){if(g<f)return;g<v&&(v=g)}if(g=t-l,!(!h&&g>0)){if(g/=h,h<0){if(g<f)return;g<v&&(v=g)}else if(h>0){if(g>v)return;g>f&&(f=g)}if(g=a-l,!(!h&&g<0)){if(g/=h,h<0){if(g>v)return;g>f&&(f=g)}else if(h>0){if(g<f)return;g<v&&(v=g)}return f>0&&(n[0]=o+f*s,n[1]=l+f*h),v<1&&(r[0]=o+v*s,r[1]=l+v*h),!0}}}}}var fi=1e9,Za=-fi;function dy(n,r,e,t){function i(c,f){return n<=c&&c<=e&&r<=f&&f<=t}function a(c,f,v,s){var h=0,g=0;if(c==null||(h=o(c,v))!==(g=o(f,v))||u(c,f)<0^v>0)do s.point(h===0||h===3?n:e,h>1?t:r);while((h=(h+v+4)%4)!==g);else s.point(f[0],f[1])}function o(c,f){return Cn(c[0]-n)<mn?f>0?0:3:Cn(c[0]-e)<mn?f>0?2:1:Cn(c[1]-r)<mn?f>0?1:0:f>0?3:2}function l(c,f){return u(c.x,f.x)}function u(c,f){var v=o(c,1),s=o(f,1);return v!==s?v-s:v===0?f[1]-c[1]:v===1?c[0]-f[0]:v===2?c[1]-f[1]:f[0]-c[0]}return function(c){var f=c,v=mv(),s,h,g,p,d,S,m,y,E,$,T,k={point:P,lineStart:L,lineEnd:z,polygonStart:C,polygonEnd:b};function P(w,M){i(w,M)&&f.point(w,M)}function R(){for(var w=0,M=0,x=h.length;M<x;++M)for(var N=h[M],U=1,vn=N.length,K=N[0],an,fn,On=K[0],Nn=K[1];U<vn;++U)an=On,fn=Nn,K=N[U],On=K[0],Nn=K[1],fn<=t?Nn>t&&(On-an)*(t-fn)>(Nn-fn)*(n-an)&&++w:Nn<=t&&(On-an)*(t-fn)<(Nn-fn)*(n-an)&&--w;return w}function C(){f=v,s=[],h=[],T=!0}function b(){var w=R(),M=T&&w,x=(s=Yt(s)).length;(M||x)&&(c.polygonStart(),M&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),x&&yv(s,l,w,a,c),c.polygonEnd()),f=c,s=h=g=null}function L(){k.point=_,h&&h.push(g=[]),$=!0,E=!1,m=y=NaN}function z(){s&&(_(p,d),S&&E&&v.rejoin(),s.push(v.result())),k.point=P,E&&f.lineEnd()}function _(w,M){var x=i(w,M);if(h&&g.push([w,M]),$)p=w,d=M,S=x,$=!1,x&&(f.lineStart(),f.point(w,M));else if(x&&E)f.point(w,M);else{var N=[m=Math.max(Za,Math.min(fi,m)),y=Math.max(Za,Math.min(fi,y))],U=[w=Math.max(Za,Math.min(fi,w)),M=Math.max(Za,Math.min(fi,M))];py(N,U,n,r,e,t)?(E||(f.lineStart(),f.point(N[0],N[1])),f.point(U[0],U[1]),x||f.lineEnd(),T=!1):x&&(f.lineStart(),f.point(w,M),T=!1)}m=w,y=M,E=x}return k}}function Xf(n,r){var e=n[0]*nn,t=n[1]*nn,i=r[0]*nn,a=r[1]*nn,o=rn(t),l=Q(t),u=rn(a),c=Q(a),f=o*rn(e),v=o*Q(e),s=u*rn(i),h=u*Q(i),g=2*zr(Fr(V1(a-t)+o*u*V1(i-e))),p=Q(g),d=g?function(S){var m=Q(S*=g)/p,y=Q(g-S)/p,E=y*f+m*s,$=y*v+m*h,T=y*l+m*c;return[qr($,E)*bn,qr(T,Fr(E*E+$*$))*bn]}:function(){return[e*bn,t*bn]};return d.distance=g,d}function _v(n){return n}var dt=1/0,Qa=dt,li=-dt,no=li,my={point:yy,lineStart:Zr,lineEnd:Zr,polygonStart:Zr,polygonEnd:Zr,result:function(){var n=[[dt,Qa],[li,no]];return li=no=-(Qa=dt=1/0),n}};function yy(n,r){n<dt&&(dt=n),n>li&&(li=n),r<Qa&&(Qa=r),r>no&&(no=r)}var $v=my;function Wf(n){return function(r){var e=new Jf;for(var t in n)e[t]=n[t];return e.stream=r,e}}function Jf(){}Jf.prototype={constructor:Jf,point:function(n,r){this.stream.point(n,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Kf(n,r,e){var t=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),t!=null&&n.clipExtent(null),vt(e,n.stream($v)),r($v.result()),t!=null&&n.clipExtent(t),n}function Tv(n,r,e){return Kf(n,function(t){var i=r[1][0]-r[0][0],a=r[1][1]-r[0][1],o=Math.min(i/(t[1][0]-t[0][0]),a/(t[1][1]-t[0][1])),l=+r[0][0]+(i-o*(t[1][0]+t[0][0]))/2,u=+r[0][1]+(a-o*(t[1][1]+t[0][1]))/2;n.scale(150*o).translate([l,u])},e)}function wy(n,r,e){return Tv(n,[[0,0],r],e)}function Ey(n,r,e){return Kf(n,function(t){var i=+r,a=i/(t[1][0]-t[0][0]),o=(i-a*(t[1][0]+t[0][0]))/2,l=-a*t[0][1];n.scale(150*a).translate([o,l])},e)}function Sy(n,r,e){return Kf(n,function(t){var i=+r,a=i/(t[1][1]-t[0][1]),o=-a*t[0][0],l=(i-a*(t[1][1]+t[0][1]))/2;n.scale(150*a).translate([o,l])},e)}var Mv=16,_y=rn(30*nn);function Pv(n,r){return+r?Ty(n,r):$y(n)}function $y(n){return Wf({point:function(r,e){r=n(r,e),this.stream.point(r[0],r[1])}})}function Ty(n,r){function e(t,i,a,o,l,u,c,f,v,s,h,g,p,d){var S=c-t,m=f-i,y=S*S+m*m;if(y>4*r&&p--){var E=o+s,$=l+h,T=u+g,k=Fr(E*E+$*$+T*T),P=zr(T/=k),R=Cn(Cn(T)-1)<mn||Cn(a-v)<mn?(a+v)/2:qr($,E),C=n(R,P),b=C[0],L=C[1],z=b-t,_=L-i,w=m*z-S*_;(w*w/y>r||Cn((S*z+m*_)/y-.5)>.3||o*s+l*h+u*g<_y)&&(e(t,i,a,o,l,u,b,L,R,E/=k,$/=k,T,p,d),d.point(b,L),e(b,L,R,E,$,T,c,f,v,s,h,g,p,d))}}return function(t){var i,a,o,l,u,c,f,v,s,h,g,p,d={point:S,lineStart:m,lineEnd:E,polygonStart:function(){t.polygonStart(),d.lineStart=$},polygonEnd:function(){t.polygonEnd(),d.lineStart=m}};function S(P,R){P=n(P,R),t.point(P[0],P[1])}function m(){v=NaN,d.point=y,t.lineStart()}function y(P,R){var C=Ue([P,R]),b=n(P,R);e(v,s,f,h,g,p,v=b[0],s=b[1],f=P,h=C[0],g=C[1],p=C[2],Mv,t),t.point(v,s)}function E(){d.point=S,t.lineEnd()}function $(){m(),d.point=T,d.lineEnd=k}function T(P,R){y(i=P,R),a=v,o=s,l=h,u=g,c=p,d.point=y}function k(){e(v,s,f,h,g,p,a,o,i,l,u,c,Mv,t),d.lineEnd=E,E()}return d}}var My=Wf({point:function(n,r){this.stream.point(n*nn,r*nn)}});function Py(n){return Wf({point:function(r,e){var t=n(r,e);return this.stream.point(t[0],t[1])}})}function xy(n,r,e,t,i){function a(o,l){return o*=t,l*=i,[r+n*o,e-n*l]}return a.invert=function(o,l){return[(o-r)/n*t,(e-l)/n*i]},a}function xv(n,r,e,t,i,a){var o=rn(a),l=Q(a),u=o*n,c=l*n,f=o/n,v=l/n,s=(l*e-o*r)/n,h=(l*r+o*e)/n;function g(p,d){return p*=t,d*=i,[u*p-c*d+r,e-c*p-u*d]}return g.invert=function(p,d){return[t*(f*p-v*d+s),i*(h-v*p-f*d)]},g}function Y(n){return _r(function(){return n})()}function _r(n){var r,e=150,t=480,i=250,a=0,o=0,l=0,u=0,c=0,f,v=0,s=1,h=1,g=null,p=Sv,d=null,S,m,y,E=_v,$=.5,T,k,P,R,C;function b(w){return P(w[0]*nn,w[1]*nn)}function L(w){return w=P.invert(w[0],w[1]),w&&[w[0]*bn,w[1]*bn]}b.stream=function(w){return R&&C===w?R:R=My(Py(f)(p(T(E(C=w)))))},b.preclip=function(w){return arguments.length?(p=w,g=void 0,_()):p},b.postclip=function(w){return arguments.length?(E=w,d=S=m=y=null,_()):E},b.clipAngle=function(w){return arguments.length?(p=+w?gy(g=w*nn):(g=null,Sv),_()):g*bn},b.clipExtent=function(w){return arguments.length?(E=w==null?(d=S=m=y=null,_v):dy(d=+w[0][0],S=+w[0][1],m=+w[1][0],y=+w[1][1]),_()):d==null?null:[[d,S],[m,y]]},b.scale=function(w){return arguments.length?(e=+w,z()):e},b.translate=function(w){return arguments.length?(t=+w[0],i=+w[1],z()):[t,i]},b.center=function(w){return arguments.length?(a=w[0]%360*nn,o=w[1]%360*nn,z()):[a*bn,o*bn]},b.rotate=function(w){return arguments.length?(l=w[0]%360*nn,u=w[1]%360*nn,c=w.length>2?w[2]%360*nn:0,z()):[l*bn,u*bn,c*bn]},b.angle=function(w){return arguments.length?(v=w%360*nn,z()):v*bn},b.reflectX=function(w){return arguments.length?(s=w?-1:1,z()):s<0},b.reflectY=function(w){return arguments.length?(h=w?-1:1,z()):h<0},b.precision=function(w){return arguments.length?(T=Pv(k,$=w*w),_()):Fr($)},b.fitExtent=function(w,M){return Tv(b,w,M)},b.fitSize=function(w,M){return wy(b,w,M)},b.fitWidth=function(w,M){return Ey(b,w,M)},b.fitHeight=function(w,M){return Sy(b,w,M)};function z(){var w=xv(e,0,0,s,h,v).apply(null,r(a,o)),M=(v?xv:xy)(e,t-w[0],i-w[1],s,h,v);return f=Yf(l,u,c),k=Uf(r,M),P=Uf(f,k),T=Pv(k,$),_()}function _(){return R=C=null,b}return function(){return r=n.apply(this,arguments),b.invert=r.invert&&L,z()}}function Rv(n){return function(r,e){var t=rn(r),i=rn(e),a=n(t*i);return[a*i*Q(r),a*Q(e)]}}function ro(n){return function(r,e){var t=Fr(r*r+e*e),i=n(t),a=Q(i),o=rn(i);return[qr(r*a,t*o),zr(t&&e*a/t)]}}var eo=Rv(function(n){return Fr(2/(1+n))});eo.invert=ro(function(n){return 2*zr(n/2)});var mt=Rv(function(n){return(n=Y1(n))&&n/Q(n)});mt.invert=ro(function(n){return n});function Zf(n,r){return[n,r]}Zf.invert=Zf;function Ry(){return Y(Zf).scale(152.63)}function to(n,r){var e=rn(r),t=rn(n)*e;return[e*Q(n)/t,Q(r)/t]}to.invert=ro(H1);function kv(){return Y(to).scale(144.049).clipAngle(60)}function bv(n,r){return[rn(r)*Q(n),Q(r)]}bv.invert=ro(zr);function ky(){return Y(bv).scale(249.5).clipAngle(90+mn)}var F=Math.abs,Dn=Math.atan,sn=Math.atan2,A=Math.cos,Qr=Math.exp,yt=Math.floor,Yn=Math.log,si=Math.max,Gr=Math.min,Qf=Math.pow,io=Math.round,cn=Math.sign||function(n){return n>0?1:n<0?-1:0},D=Math.sin,en=Math.tan,B=1e-6,wt=1e-12,O=Math.PI,G=O/2,sr=O/4,Cr=Math.SQRT1_2,En=q(2),Lr=q(O),Ur=O*2,xn=180/O,pn=O/180;function by(n){return n?n/Math.sin(n):1}function j(n){return n>1?G:n<-1?-G:Math.asin(n)}function jn(n){return n>1?0:n<-1?O:Math.acos(n)}function q(n){return n>0?Math.sqrt(n):0}function Cy(n){return n=Qr(2*n),(n-1)/(n+1)}function nl(n){return(Qr(n)-Qr(-n))/2}function Cv(n){return(Qr(n)+Qr(-n))/2}function Ly(n){return Yn(n+q(n*n+1))}function Ny(n){return Yn(n+q(n*n-1))}function Lv(n){var r=en(n/2),e=2*Yn(A(n/2))/(r*r);function t(i,a){var o=A(i),l=A(a),u=D(a),c=l*o,f=-((1-c?Yn((1+c)/2)/(1-c):-.5)+e/(1+c));return[f*l*D(i),f*u]}return t.invert=function(i,a){var o=q(i*i+a*a),l=-n/2,u=50,c;if(!o)return[0,0];do{var f=l/2,v=A(f),s=D(f),h=en(f),g=Yn(1/v);l-=c=(2/h*g-e*h-o)/(-g/(s*s)+1-e/(2*v*v))}while(F(c)>B&&--u>0);var p=D(l);return[sn(i*p,o*A(l)),j(a*p/o)]},t}function Iy(){var n=G,r=_r(Lv),e=r(n);return e.radius=function(t){return arguments.length?r(n=t*pn):n*xn},e.scale(179.976).clipAngle(147)}function ao(n,r){var e=A(r),t=by(jn(e*A(n/=2)));return[2*e*D(n)*t,D(r)*t]}ao.invert=function(n,r){if(!(n*n+4*r*r>O*O+B)){var e=n,t=r,i=25;do{var a=D(e),o=D(e/2),l=A(e/2),u=D(t),c=A(t),f=D(2*t),v=u*u,s=c*c,h=o*o,g=1-s*l*l,p=g?jn(c*l)*q(d=1/g):d=0,d,S=2*p*c*o-n,m=p*u-r,y=d*(s*h+p*c*l*v),E=d*(.5*a*f-p*2*u*o),$=d*.25*(f*o-p*u*s*a),T=d*(v*l+p*h*c),k=E*$-T*y;if(!k)break;var P=(m*E-S*T)/k,R=(S*$-m*y)/k;e-=P,t-=R}while((F(P)>B||F(R)>B)&&--i>0);return[e,t]}};function Ay(){return Y(ao).scale(152.63)}function Nv(n){var r=D(n),e=A(n),t=n>=0?1:-1,i=en(t*n),a=(1+r-e)/2;function o(l,u){var c=A(u),f=A(l/=2);return[(1+c)*D(l),(t*u>-sn(f,i)-.001?0:-t*10)+a+D(u)*e-(1+c)*r*f]}return o.invert=function(l,u){var c=0,f=0,v=50;do{var s=A(c),h=D(c),g=A(f),p=D(f),d=1+g,S=d*h-l,m=a+p*e-d*r*s-u,y=d*s/2,E=-h*p,$=r*d*h/2,T=e*g+r*s*p,k=E*$-T*y,P=(m*E-S*T)/k/2,R=(S*$-m*y)/k;c-=P,f-=R}while((F(P)>B||F(R)>B)&&--v>0);return t*f>-sn(A(c),i)-.001?[c*2,f]:null},o}function Dy(){var n=20*pn,r=n>=0?1:-1,e=en(r*n),t=_r(Nv),i=t(n),a=i.stream;return i.parallel=function(o){return arguments.length?(e=en((r=(n=o*pn)>=0?1:-1)*n),t(n)):n*xn},i.stream=function(o){var l=i.rotate(),u=a(o),c=(i.rotate([0,0]),a(o));return i.rotate(l),u.sphere=function(){c.polygonStart(),c.lineStart();for(var f=r*-180;r*f<180;f+=r*90)c.point(f,r*90);for(;r*(f-=n)>=-180;)c.point(f,r*-sn(A(f*pn/2),e)*xn);c.lineEnd(),c.polygonEnd()},u},i.scale(218.695).center([0,28.0974])}function oo(n,r){var e=en(r/2),t=q(1-e*e),i=1+t*A(n/=2),a=D(n)*t/i,o=e/i,l=a*a,u=o*o;return[4/3*a*(3+l-3*u),4/3*o*(3+3*l-u)]}oo.invert=function(n,r){if(n*=3/8,r*=3/8,!n&&F(r)>1)return null;var e=n*n,t=r*r,i=1+e+t,a=q((i-q(i*i-4*r*r))/2),o=j(a)/3,l=a?Ny(F(r/a))/3:Ly(F(n))/3,u=A(o),c=Cv(l),f=c*c-u*u;return[cn(n)*2*sn(nl(l)*u,.25-f),cn(r)*2*sn(c*D(o),.25+f)]};function Oy(){return Y(oo).scale(66.1603)}var rl=q(8),qy=Yn(1+En);function el(n,r){var e=F(r);return e<sr?[n,Yn(en(sr+r/2))]:[n*A(e)*(2*En-1/D(e)),cn(r)*(2*En*(e-sr)-Yn(en(e/2)))]}el.invert=function(n,r){if((a=F(r))<qy)return[n,2*Dn(Qr(r))-G];var e=sr,t=25,i,a;do{var o=A(e/2),l=en(e/2);e-=i=(rl*(e-sr)-Yn(l)-a)/(rl-o*o/(2*l))}while(F(i)>wt&&--t>0);return[n/(A(e)*(rl-1/D(e))),cn(r)*e]};function Fy(){return Y(el).scale(112.314)}function Iv(n){var r=2*O/n;function e(t,i){var a=mt(t,i);if(F(t)>G){var o=sn(a[1],a[0]),l=q(a[0]*a[0]+a[1]*a[1]),u=r*io((o-G)/r)+G,c=sn(D(o-=u),2-A(o));o=u+j(O/l*D(c))-c,a[0]=l*A(o),a[1]=l*D(o)}return a}return e.invert=function(t,i){var a=q(t*t+i*i);if(a>G){var o=sn(i,t),l=r*io((o-G)/r)+G,u=o>l?-1:1,c=a*A(l-o),f=1/en(u*jn((c-O)/q(O*(O-2*c)+a*a)));o=l+2*Dn((f+u*q(f*f-3))/3),t=a*A(o),i=a*D(o)}return mt.invert(t,i)},e}function zy(){var n=5,r=_r(Iv),e=r(n),t=e.stream,i=.01,a=-A(i*pn),o=D(i*pn);return e.lobes=function(l){return arguments.length?r(n=+l):n},e.stream=function(l){var u=e.rotate(),c=t(l),f=(e.rotate([0,0]),t(l));return e.rotate(u),c.sphere=function(){f.polygonStart(),f.lineStart();for(var v=0,s=360/n,h=2*O/n,g=90-180/n,p=G;v<n;++v,g-=s,p-=h)f.point(sn(o*A(p),a)*xn,j(o*D(p))*xn),g<-90?(f.point(-90,-180-g-i),f.point(-90,-180-g+i)):(f.point(90,g+i),f.point(90,g-i));f.lineEnd(),f.polygonEnd()},c},e.scale(87.8076).center([0,17.1875]).clipAngle(180-.001)}function Av(n,r){var e=n*D(r),t=30,i;do r-=i=(r+D(r)-e)/(1+A(r));while(F(i)>B&&--t>0);return r/2}function tl(n,r,e){function t(i,a){return[n*i*A(a=Av(e,a)),r*D(a)]}return t.invert=function(i,a){return a=j(a/r),[i/(n*A(a)),j((2*a+D(2*a))/e)]},t}var Pe=tl(En/G,En,O);function By(){return Y(Pe).scale(169.529)}var uo=2.00276,Dv=1.11072;function fo(n,r){var e=Av(O,r);return[uo*n/(1/A(r)+Dv/A(e)),(r+En*D(e))/uo]}fo.invert=function(n,r){var e=uo*r,t=r<0?-sr:sr,i=25,a,o;do o=e-En*D(t),t-=a=(D(2*t)+2*t-O*D(o))/(2*A(2*t)+2+O*A(o)*En*A(t));while(F(a)>B&&--i>0);return o=e-En*D(t),[n*(1/A(o)+Dv/A(t))/uo,o]};function Gy(){return Y(fo).scale(160.857)}function Et(n){var r=0,e=_r(n),t=e(r);return t.parallel=function(i){return arguments.length?e(r=i*pn):r*xn},t}function se(n,r){return[n*A(r),r]}se.invert=function(n,r){return[n/A(r),r]};function Uy(){return Y(se).scale(152.63)}function Ov(n){if(!n)return se;var r=1/en(n);function e(t,i){var a=r+n-i,o=a&&t*A(i)/a;return[a*D(o),r-a*A(o)]}return e.invert=function(t,i){var a=q(t*t+(i=r-i)*i),o=r+n-a;return[a/A(o)*sn(t,i),o]},e}function Hy(){return Et(Ov).scale(123.082).center([0,26.1441]).parallel(45)}function qv(n){function r(e,t){var i=G-t,a=i&&e*n*D(i)/i;return[i*D(a)/n,G-i*A(a)]}return r.invert=function(e,t){var i=e*n,a=G-t,o=q(i*i+a*a),l=sn(i,a);return[(o?o/D(o):1)*l/n,G-o]},r}function Yy(){var n=.5,r=_r(qv),e=r(n);return e.fraction=function(t){return arguments.length?r(n=+t):n},e.scale(158.837)}var Fv=tl(1,4/O,O);function Vy(){return Y(Fv).scale(152.63)}function zv(n,r,e,t,i,a){var o=A(a),l;if(F(n)>1||F(a)>1)l=jn(e*i+r*t*o);else{var u=D(n/2),c=D(a/2);l=2*j(q(u*u+r*t*c*c))}return F(l)>B?[l,sn(t*D(a),r*i-e*t*o)]:[0,0]}function il(n,r,e){return jn((n*n+r*r-e*e)/(2*n*r))}function jy(n){return n-2*O*yt((n+O)/(2*O))}function Bv(n,r,e){for(var t=[[n[0],n[1],D(n[1]),A(n[1])],[r[0],r[1],D(r[1]),A(r[1])],[e[0],e[1],D(e[1]),A(e[1])]],i=t[2],a,o=0;o<3;++o,i=a)a=t[o],i.v=zv(a[1]-i[1],i[3],i[2],a[3],a[2],a[0]-i[0]),i.point=[0,0];var l=il(t[0].v[0],t[2].v[0],t[1].v[0]),u=il(t[0].v[0],t[1].v[0],t[2].v[0]),c=O-l;t[2].point[1]=0,t[0].point[0]=-(t[1].point[0]=t[0].v[0]/2);var f=[t[2].point[0]=t[0].point[0]+t[2].v[0]*A(l),2*(t[0].point[1]=t[1].point[1]=t[2].v[0]*D(l))];function v(s,h){var g=D(h),p=A(h),d=new Array(3),S;for(S=0;S<3;++S){var m=t[S];if(d[S]=zv(h-m[1],m[3],m[2],p,g,s-m[0]),!d[S][0])return m.point;d[S][1]=jy(d[S][1]-m.v[1])}var y=f.slice();for(S=0;S<3;++S){var E=S==2?0:S+1,$=il(t[S].v[0],d[S][0],d[E][0]);d[S][1]<0&&($=-$),S?S==1?($=u-$,y[0]-=d[S][0]*A($),y[1]-=d[S][0]*D($)):($=c-$,y[0]+=d[S][0]*A($),y[1]+=d[S][0]*D($)):(y[0]+=d[S][0]*A($),y[1]-=d[S][0]*D($))}return y[0]/=3,y[1]/=3,y}return v}function al(n){return n[0]*=pn,n[1]*=pn,n}function Xy(){return Gv([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Gv(n,r,e){var t=ui({type:"MultiPoint",coordinates:[n,r,e]}),i=[-t[0],-t[1]],a=Wa(i),o=Y(Bv(al(a(n)),al(a(r)),al(a(e)))).rotate(i),l=o.center;return delete o.rotate,o.center=function(u){return arguments.length?l(a(u)):a.invert(l())},o.clipAngle(90)}function ne(n,r){var e=q(1-D(r));return[2/Lr*n*e,Lr*(1-e)]}ne.invert=function(n,r){var e=(e=r/Lr-1)*e;return[e>0?n*q(O/e)/2:0,j(1-e)]};function Wy(){return Y(ne).scale(95.6464).center([0,30])}function Uv(n){var r=en(n);function e(t,i){return[t,(t?t/D(t):1)*(D(i)*A(t)-r*A(i))]}return e.invert=r?function(t,i){t&&(i*=D(t)/t);var a=A(t);return[t,2*sn(q(a*a+r*r-i*i)-a,r-i)]}:function(t,i){return[t,j(t?i*en(t)/t:i)]},e}function Jy(){return Et(Uv).scale(249.828).clipAngle(90)}var lo=q(3);function ol(n,r){return[lo*n*(2*A(2*r/3)-1)/Lr,lo*Lr*D(r/3)]}ol.invert=function(n,r){var e=3*j(r/(lo*Lr));return[Lr*n/(lo*(2*A(2*e/3)-1)),e]};function Ky(){return Y(ol).scale(156.19)}function ul(n){var r=A(n);function e(t,i){return[t*r,D(i)/r]}return e.invert=function(t,i){return[t/r,j(i*r)]},e}function Zy(){return Et(ul).parallel(38.58).scale(195.044)}function Hv(n){var r=A(n);function e(t,i){return[t*r,(1+r)*en(i/2)]}return e.invert=function(t,i){return[t/r,Dn(i/(1+r))*2]},e}function Qy(){return Et(Hv).scale(124.75)}function fl(n,r){var e=q(8/(3*O));return[e*n*(1-F(r)/O),e*r]}fl.invert=function(n,r){var e=q(8/(3*O)),t=r/e;return[n/(e*(1-F(t)/O)),t]};function nw(){return Y(fl).scale(165.664)}function ll(n,r){var e=q(4-3*D(F(r)));return[2/q(6*O)*n*e,cn(r)*q(2*O/3)*(2-e)]}ll.invert=function(n,r){var e=2-F(r)/q(2*O/3);return[n*q(6*O)/(2*e),cn(r)*j((4-e*e)/3)]};function rw(){return Y(ll).scale(165.664)}function sl(n,r){var e=q(O*(4+O));return[2/e*n*(1+q(1-4*r*r/(O*O))),4/e*r]}sl.invert=function(n,r){var e=q(O*(4+O))/2;return[n*e/(1+q(1-r*r*(4+O)/(4*O))),r*e/2]};function ew(){return Y(sl).scale(180.739)}function cl(n,r){var e=(2+G)*D(r);r/=2;for(var t=0,i=1/0;t<10&&F(i)>B;t++){var a=A(r);r-=i=(r+D(r)*(a+2)-e)/(2*a*(1+a))}return[2/q(O*(4+O))*n*(1+A(r)),2*q(O/(4+O))*D(r)]}cl.invert=function(n,r){var e=r*q((4+O)/O)/2,t=j(e),i=A(t);return[n/(2/q(O*(4+O))*(1+i)),j((t+e*(i+2))/(2+G))]};function tw(){return Y(cl).scale(180.739)}function vl(n,r){return[n*(1+A(r))/q(2+O),2*r/q(2+O)]}vl.invert=function(n,r){var e=q(2+O),t=r*e/2;return[e*n/(1+A(t)),t]};function iw(){return Y(vl).scale(173.044)}function hl(n,r){for(var e=(1+G)*D(r),t=0,i=1/0;t<10&&F(i)>B;t++)r-=i=(r+D(r)-e)/(1+A(r));return e=q(2+O),[n*(1+A(r))/e,2*r/e]}hl.invert=function(n,r){var e=1+G,t=q(e/2);return[n*2*t/(1+A(r*=t)),j((r+D(r))/e)]};function aw(){return Y(hl).scale(173.044)}var so=3+2*En;function gl(n,r){var e=D(n/=2),t=A(n),i=q(A(r)),a=A(r/=2),o=D(r)/(a+En*t*i),l=q(2/(1+o*o)),u=q((En*a+(t+e)*i)/(En*a+(t-e)*i));return[so*(l*(u-1/u)-2*Yn(u)),so*(l*o*(u+1/u)-2*Dn(o))]}gl.invert=function(n,r){if(!(a=oo.invert(n/1.2,r*1.065)))return null;var e=a[0],t=a[1],i=20,a;n/=so,r/=so;do{var o=e/2,l=t/2,u=D(o),c=A(o),f=D(l),v=A(l),s=A(t),h=q(s),g=f/(v+En*c*h),p=g*g,d=q(2/(1+p)),S=En*v+(c+u)*h,m=En*v+(c-u)*h,y=S/m,E=q(y),$=E-1/E,T=E+1/E,k=d*$-2*Yn(E)-n,P=d*g*T-2*Dn(g)-r,R=f&&Cr*h*u*p/f,C=(En*c*v+h)/(2*(v+En*c*h)*(v+En*c*h)*h),b=-.5*g*d*d*d,L=b*R,z=b*C,_=(_=2*v+En*h*(c-u))*_*E,w=(En*c*v*h+s)/_,M=-(En*u*f)/(h*_),x=$*L-2*w/E+d*(w+w/y),N=$*z-2*M/E+d*(M+M/y),U=g*T*L-2*R/(1+p)+d*T*R+d*g*(w-w/y),vn=g*T*z-2*C/(1+p)+d*T*C+d*g*(M-M/y),K=N*U-vn*x;if(!K)break;var an=(P*N-k*vn)/K,fn=(k*U-P*x)/K;e-=an,t=si(-G,Gr(G,t-fn))}while((F(an)>B||F(fn)>B)&&--i>0);return F(F(t)-G)<B?[0,t]:i&&[e,t]};function ow(){return Y(gl).scale(62.5271)}var co=A(35*pn);function pl(n,r){var e=en(r/2);return[n*co*q(1-e*e),(1+co)*e]}pl.invert=function(n,r){var e=r/(1+co);return[n&&n/(co*q(1-e*e)),2*Dn(e)]};function uw(){return Y(pl).scale(137.152)}function dl(n,r){var e=r/2,t=A(e);return[2*n/Lr*A(r)*t*t,Lr*en(e)]}dl.invert=function(n,r){var e=Dn(r/Lr),t=A(e),i=2*e;return[n*Lr/2/(A(i)*t*t),i]};function fw(){return Y(dl).scale(135.264)}function Yv(n){return[n[0]/2,j(en(n[1]/2*pn))*xn]}function Vv(n){return[n[0]*2,2*Dn(D(n[1]*pn))*xn]}function lw(n){n==null&&(n=ky);var r=n(),e=Ry().scale(xn).precision(0).clipAngle(null).translate([0,0]);function t(a){return r(Yv(a))}r.invert&&(t.invert=function(a){return Vv(r.invert(a))}),t.stream=function(a){var o=r.stream(a),l=e.stream({point:function(u,c){o.point(u/2,j(en(-c/2*pn))*xn)},lineStart:function(){o.lineStart()},lineEnd:function(){o.lineEnd()},polygonStart:function(){o.polygonStart()},polygonEnd:function(){o.polygonEnd()}});return l.sphere=o.sphere,l};function i(a){t[a]=function(o){return arguments.length?(r[a](o),t):r[a]()}}return t.rotate=function(a){return arguments.length?(e.rotate(a),t):e.rotate()},t.center=function(a){return arguments.length?(r.center(Yv(a)),t):Vv(r.center())},i("clipAngle"),i("clipExtent"),i("scale"),i("translate"),i("precision"),t.scale(249.5)}function jv(n,r){var e=2*O/r,t=n*n;function i(a,o){var l=mt(a,o),u=l[0],c=l[1],f=u*u+c*c;if(f>t){var v=q(f),s=sn(c,u),h=e*io(s/e),g=s-h,p=n*A(g),d=(n*D(g)-g*D(p))/(G-p),S=Xv(g,d),m=(O-n)/vo(S,p,O);u=v;var y=50,E;do u-=E=(n+vo(S,p,u)*m-v)/(S(u)*m);while(F(E)>B&&--y>0);c=g*D(u),u<G&&(c-=d*(u-G));var $=D(h),T=A(h);l[0]=u*T-c*$,l[1]=u*$+c*T}return l}return i.invert=function(a,o){var l=a*a+o*o;if(l>t){var u=q(l),c=sn(o,a),f=e*io(c/e),v=c-f;a=u*A(v),o=u*D(v);for(var s=a-G,h=D(a),g=o/h,p=a<G?1/0:0,d=10;;){var S=n*D(g),m=n*A(g),y=D(m),E=G-m,$=(S-g*y)/E,T=Xv(g,$);if(F(p)<wt||!--d)break;g-=p=(g*h-$*s-o)/(h-s*2*(E*(m+g*S*A(m)-y)-S*(S-g*y))/(E*E))}u=n+vo(T,m,a)*(O-n)/vo(T,m,O),c=f+g,a=u*A(c),o=u*D(c)}return mt.invert(a,o)},i}function Xv(n,r){return function(e){var t=n*A(e);return e<G&&(t-=r),q(1+t*t)}}function vo(n,r,e){for(var t=50,i=(e-r)/t,a=n(r)+n(e),o=1,l=r;o<t;++o)a+=2*n(l+=i);return a*.5*i}function sw(){var n=6,r=30*pn,e=A(r),t=D(r),i=_r(jv),a=i(r,n),o=a.stream,l=.01,u=-A(l*pn),c=D(l*pn);return a.radius=function(f){return arguments.length?(e=A(r=f*pn),t=D(r),i(r,n)):r*xn},a.lobes=function(f){return arguments.length?i(r,n=+f):n},a.stream=function(f){var v=a.rotate(),s=o(f),h=(a.rotate([0,0]),o(f));return a.rotate(v),s.sphere=function(){h.polygonStart(),h.lineStart();for(var g=0,p=2*O/n,d=0;g<n;++g,d-=p)h.point(sn(c*A(d),u)*xn,j(c*D(d))*xn),h.point(sn(t*A(d-p/2),e)*xn,j(t*D(d-p/2))*xn);h.lineEnd(),h.polygonEnd()},s},a.rotate([90,-40]).scale(91.7095).clipAngle(180-.001)}function ho(n,r,e,t,i,a,o,l){arguments.length<8&&(l=0);function u(c,f){if(!f)return[n*c/O,0];var v=f*f,s=n+v*(r+v*(e+v*t)),h=f*(i-1+v*(a-l+v*o)),g=(s*s+h*h)/(2*h),p=c*j(s/g)/O;return[g*D(p),f*(1+v*l)+g*(1-A(p))]}return u.invert=function(c,f){var v=O*c/n,s=f,h,g,p=50;do{var d=s*s,S=n+d*(r+d*(e+d*t)),m=s*(i-1+d*(a-l+d*o)),y=S*S+m*m,E=2*m,$=y/E,T=$*$,k=j(S/$)/O,P=v*k,R=S*S,C=(2*r+d*(4*e+d*6*t))*s,b=i+d*(3*a+d*5*o),L=2*(S*C+m*(b-1)),z=2*(b-1),_=(L*E-y*z)/(E*E),w=A(P),M=D(P),x=$*w,N=$*M,U=v/O*(1/q(1-R/T))*(C*$-S*_)/T,vn=N-c,K=s*(1+d*l)+$-x-f,an=_*M+x*U,fn=x*k,On=1+_-(_*w-N*U),Nn=N*k,Gu=an*Nn-On*fn;if(!Gu)break;v-=h=(K*an-vn*On)/Gu,s-=g=(vn*Nn-K*fn)/Gu}while((F(h)>B||F(g)>B)&&--p>0);return[v,s]},u}var Wv=ho(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function cw(){return Y(Wv).scale(149.995)}var Jv=ho(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function vw(){return Y(Jv).scale(153.93)}var Kv=ho(5/6*O,-.62636,-.0344,0,1.3493,-.05524,0,.045);function hw(){return Y(Kv).scale(130.945)}function ml(n,r){var e=n*n,t=r*r;return[n*(1-.162388*t)*(.87-952426e-9*e*e),r*(1+t/12)]}ml.invert=function(n,r){var e=n,t=r,i=50,a;do{var o=t*t;t-=a=(t*(1+o/12)-r)/(1+o/4)}while(F(a)>B&&--i>0);i=50,n/=1-.162388*o;do{var l=(l=e*e)*l;e-=a=(e*(.87-952426e-9*l)-n)/(.87-.00476213*l)}while(F(a)>B&&--i>0);return[e,t]};function gw(){return Y(ml).scale(131.747)}var Zv=ho(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function pw(){return Y(Zv).scale(131.087)}function Qv(n){var r=n(G,0)[0]-n(-G,0)[0];function e(t,i){var a=t>0?-.5:.5,o=n(t+a*O,i);return o[0]-=a*r,o}return n.invert&&(e.invert=function(t,i){var a=t>0?-.5:.5,o=n.invert(t+a*r,i),l=o[0]-a*O;return l<-O?l+=2*O:l>O&&(l-=2*O),o[0]=l,o}),e}function go(n,r){var e=cn(n),t=cn(r),i=A(r),a=A(n)*i,o=D(n)*i,l=D(t*r);n=F(sn(o,l)),r=j(a),F(n-G)>B&&(n%=G);var u=dw(n>O/4?G-n:n,r);return n>O/4&&(l=u[0],u[0]=-u[1],u[1]=-l),u[0]*=e,u[1]*=-t,u}go.invert=function(n,r){F(n)>1&&(n=cn(n)*2-n),F(r)>1&&(r=cn(r)*2-r);var e=cn(n),t=cn(r),i=-e*n,a=-t*r,o=a/i<1,l=mw(o?a:i,o?i:a),u=l[0],c=l[1],f=A(c);return o&&(u=-G-u),[e*(sn(D(u)*f,-D(c))+O),t*j(A(u)*f)]};function dw(n,r){if(r===G)return[0,0];var e=D(r),t=e*e,i=t*t,a=1+i,o=1+3*i,l=1-i,u=j(1/q(a)),c=l+t*a*u,f=(1-e)/c,v=q(f),s=f*a,h=q(s),g=v*l,p,d;if(n===0)return[0,-(g+t*h)];var S=A(r),m=1/S,y=2*e*S,E=(-3*t+u*o)*y,$=(-c*S-(1-e)*E)/(c*c),T=.5*$/v,k=l*T-2*t*v*y,P=t*a*$+f*o*y,R=-m*y,C=-m*P,b=-2*m*k,L=4*n/O,z;if(n>.222*O||r<O/4&&n>.175*O){if(p=(g+t*q(s*(1+i)-g*g))/(1+i),n>O/4)return[p,p];var _=p,w=.5*p;p=.5*(w+_),d=50;do{var M=q(s-p*p),x=p*(b+R*M)+C*j(p/h)-L;if(!x)break;x<0?w=p:_=p,p=.5*(w+_)}while(F(_-w)>B&&--d>0)}else{p=B,d=25;do{var N=p*p,U=q(s-N),vn=b+R*U,K=p*vn+C*j(p/h)-L,an=vn+(C-R*N)/U;p-=z=U?K/an:0}while(F(z)>B&&--d>0)}return[p,-g-t*q(s-p*p)]}function mw(n,r){for(var e=0,t=1,i=.5,a=50;;){var o=i*i,l=q(i),u=j(1/q(1+o)),c=1-o+i*(1+o)*u,f=(1-l)/c,v=q(f),s=f*(1+o),h=v*(1-o),g=s-n*n,p=q(g),d=r+h+i*p;if(F(t-e)<wt||--a==0||d===0)break;d>0?e=i:t=i,i=.5*(e+t)}if(!a)return null;var S=j(l),m=A(S),y=1/m,E=2*l*m,$=(-3*i+u*(1+3*o))*E,T=(-c*m-(1-l)*$)/(c*c),k=.5*T/v,P=(1-o)*k-2*i*v*E,R=-2*y*P,C=-y*E,b=-y*(i*(1+o)*T+f*(1+3*o)*E);return[O/4*(n*(R+C*p)+b*j(n/q(s))),S]}function yw(){return Y(Qv(go)).scale(239.75)}function ww(n,r,e){var t,i,a;return n?(t=yl(n,e),r?(i=yl(r,1-e),a=i[1]*i[1]+e*t[0]*t[0]*i[0]*i[0],[[t[0]*i[2]/a,t[1]*t[2]*i[0]*i[1]/a],[t[1]*i[1]/a,-t[0]*t[2]*i[0]*i[2]/a],[t[2]*i[1]*i[2]/a,-e*t[0]*t[1]*i[0]/a]]):[[t[0],0],[t[1],0],[t[2],0]]):(i=yl(r,1-e),[[0,i[0]/i[1]],[1/i[1],0],[i[2]/i[1],0]])}function yl(n,r){var e,t,i,a,o;if(r<B)return a=D(n),t=A(n),e=r*(n-a*t)/4,[a-e*t,t+e*a,1-r*a*a/2,n-e];if(r>=1-B)return e=(1-r)/4,t=Cv(n),a=Cy(n),i=1/t,o=t*nl(n),[a+e*(o-n)/(t*t),i-e*a*i*(o-n),i+e*a*i*(o+n),2*Dn(Qr(n))-G+e*(o-n)/t];var l=[1,0,0,0,0,0,0,0,0],u=[q(r),0,0,0,0,0,0,0,0],c=0;for(t=q(1-r),o=1;F(u[c]/l[c])>B&&c<8;)e=l[c++],u[c]=(e-t)/2,l[c]=(e+t)/2,t=q(e*t),o*=2;i=o*l[c]*n;do a=u[c]*D(t=i)/l[c],i=(j(a)+i)/2;while(--c);return[D(i),a=A(i),a/A(i-t),i]}function Ew(n,r,e){var t=F(n),i=F(r),a=nl(i);if(t){var o=1/D(t),l=1/(en(t)*en(t)),u=-(l+e*(a*a*o*o)-1+e),c=(e-1)*l,f=(-u+q(u*u-4*c))/2;return[ci(Dn(1/q(f)),e)*cn(n),ci(Dn(q((f/l-1)/e)),1-e)*cn(r)]}return[0,ci(Dn(a),1-e)*cn(r)]}function ci(n,r){if(!r)return n;if(r===1)return Yn(en(n/2+sr));for(var e=1,t=q(1-r),i=q(r),a=0;F(i)>B;a++){if(n%O){var o=Dn(t*en(n)/e);o<0&&(o+=O),n+=o+~~(n/O)*O}else n+=n;i=(e+t)/2,t=q(e*t),i=((e=i)-t)/2}return n/(Qf(2,a)*e)}function po(n,r){var e=(En-1)/(En+1),t=q(1-e*e),i=ci(G,t*t),a=-1,o=Yn(en(O/4+F(r)/2)),l=Qr(a*o)/q(e),u=Sw(l*A(a*n),l*D(a*n)),c=Ew(u[0],u[1],t*t);return[-c[1],(r>=0?1:-1)*(.5*i-c[0])]}function Sw(n,r){var e=n*n,t=r+1,i=1-e-r*r;return[.5*((n>=0?G:-G)-sn(i,2*n)),-.25*Yn(i*i+4*e)+.5*Yn(t*t+e)]}function _w(n,r){var e=r[0]*r[0]+r[1]*r[1];return[(n[0]*r[0]+n[1]*r[1])/e,(n[1]*r[0]-n[0]*r[1])/e]}po.invert=function(n,r){var e=(En-1)/(En+1),t=q(1-e*e),i=ci(G,t*t),a=-1,o=ww(.5*i-r,-n,t*t),l=_w(o[0],o[1]),u=sn(l[1],l[0])/a;return[u,2*Dn(Qr(.5/a*Yn(e*l[0]*l[0]+e*l[1]*l[1])))-G]};function $w(){return Y(Qv(po)).scale(151.496)}function nh(n,r){if(arguments.length<2&&(r=n),r===1)return eo;if(r===1/0)return rh;function e(t,i){var a=eo(t/r,i);return a[0]*=n,a}return e.invert=function(t,i){var a=eo.invert(t/n,i);return a[0]*=r,a},e}function rh(n,r){return[n*A(r)/A(r/=2),2*D(r)]}rh.invert=function(n,r){var e=2*j(r/2);return[n*A(e/2)/A(e),e]};function Tw(){var n=2,r=_r(nh),e=r(n);return e.coefficient=function(t){return arguments.length?r(n=+t):n},e.scale(169.529)}function eh(n){var r=D(n),e=A(n),t=th(n);t.invert=th(-n);function i(a,o){var l=t(a,o);a=l[0],o=l[1];var u=D(o),c=A(o),f=A(a),v=jn(r*u+e*c*f),s=D(v),h=F(s)>B?v/s:1;return[h*e*D(a),(F(a)>G?h:-h)*(r*c-e*u*f)]}return i.invert=function(a,o){var l=q(a*a+o*o),u=-D(l),c=A(l),f=l*c,v=-o*u,s=l*r,h=q(f*f+v*v-s*s),g=sn(f*s+v*h,v*s-f*h),p=(l>G?-1:1)*sn(a*u,l*A(g)*c+o*D(g)*u);return t.invert(p,g)},i}function th(n){var r=D(n),e=A(n);return function(t,i){var a=A(i),o=A(t)*a,l=D(t)*a,u=D(i);return[sn(l,o*e-u*r),j(u*e+o*r)]}}function Mw(){var n=0,r=_r(eh),e=r(n),t=e.rotate,i=e.stream,a=uy();return e.parallel=function(o){if(!arguments.length)return n*xn;var l=e.rotate();return r(n=o*pn).rotate(l)},e.rotate=function(o){return arguments.length?(t.call(e,[o[0],o[1]-n*xn]),a.center([-o[0],-o[1]]),e):(o=t.call(e),o[1]+=n*xn,o)},e.stream=function(o){return o=i(o),o.sphere=function(){o.polygonStart();var l=.01,u=a.radius(90-l)().coordinates[0],c=u.length-1,f=-1,v;for(o.lineStart();++f<c;)o.point((v=u[f])[0],v[1]);for(o.lineEnd(),u=a.radius(90+l)().coordinates[0],c=u.length-1,o.lineStart();--f>=0;)o.point((v=u[f])[0],v[1]);o.lineEnd(),o.polygonEnd()},o},e.scale(79.4187).parallel(45).clipAngle(180-.001)}var wl=41+48/36+37/3600,El=ul(0);function ih(n){var r=wl*pn,e=ne(O,r)[0]-ne(-O,r)[0],t=El(0,r)[1],i=ne(0,r)[1],a=Lr-i,o=Ur/n,l=4/Ur,u=t+a*a*4/Ur;function c(f,v){var s,h=F(v);if(h>r){var g=Gr(n-1,si(0,yt((f+O)/o)));f+=O*(n-1)/n-g*o,s=ne(f,h),s[0]=s[0]*Ur/e-Ur*(n-1)/(2*n)+g*Ur/n,s[1]=t+(s[1]-i)*4*a/Ur,v<0&&(s[1]=-s[1])}else s=El(f,v);return s[0]*=l,s[1]/=u,s}return c.invert=function(f,v){f/=l,v*=u;var s=F(v);if(s>t){var h=Gr(n-1,si(0,yt((f+O)/o)));f=(f+O*(n-1)/n-h*o)*e/Ur;var g=ne.invert(f,.25*(s-t)*Ur/a+i);return g[0]-=O*(n-1)/n-h*o,v<0&&(g[1]=-g[1]),g}return El.invert(f,v)},c}function Pw(n){return{type:"Polygon",coordinates:[_e(-180,180+n/2,n).map(function(r,e){return[r,e&1?90-1e-6:wl]}).concat(_e(180,-180-n/2,-n).map(function(r,e){return[r,e&1?-90+1e-6:-wl]}))]}}function xw(){var n=4,r=_r(ih),e=r(n),t=e.stream;return e.lobes=function(i){return arguments.length?r(n=+i):n},e.stream=function(i){var a=e.rotate(),o=t(i),l=(e.rotate([0,0]),t(i));return e.rotate(a),o.sphere=function(){vt(Pw(180/n),l)},o},e.scale(239.75)}function ah(n){var r=1+n,e=D(1/r),t=j(e),i=2*q(O/(a=O+4*t*r)),a,o=.5*i*(r+q(n*(2+n))),l=n*n,u=r*r;function c(f,v){var s=1-D(v),h,g;if(s&&s<2){var p=G-v,d=25,S;do{var m=D(p),y=A(p),E=t+sn(m,r-y),$=1+u-2*r*y;p-=S=(p-l*t-r*m+$*E-.5*s*a)/(2*r*m*E)}while(F(S)>wt&&--d>0);h=i*q($),g=f*E/O}else h=i*(n+s),g=f*t/O;return[h*D(g),o-h*A(g)]}return c.invert=function(f,v){var s=f*f+(v-=o)*v,h=(1+u-s/(i*i))/(2*r),g=jn(h),p=D(g),d=t+sn(p,r-h);return[j(f/q(s))*O/d,j(1-2*(g-l*t-r*p+(1+u-2*r*h)*d)/a)]},c}function Rw(){var n=1,r=_r(ah),e=r(n);return e.ratio=function(t){return arguments.length?r(n=+t):n},e.scale(167.774).center([0,18.67])}var mo=.7109889596207567,St=.0528035274542;function yo(n,r){return r>-mo?(n=Pe(n,r),n[1]+=St,n):se(n,r)}yo.invert=function(n,r){return r>-mo?Pe.invert(n,r-St):se.invert(n,r)};function kw(){return Y(yo).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function wo(n,r){return F(r)>mo?(n=Pe(n,r),n[1]-=r>0?St:-St,n):se(n,r)}wo.invert=function(n,r){return F(r)>mo?Pe.invert(n,r+(r>0?St:-St)):se.invert(n,r)};function bw(){return Y(wo).scale(152.63)}function Cw(n,r){return F(n[0]-r[0])<B&&F(n[1]-r[1])<B}function oh(n,r){for(var e=-1,t=n.length,i=n[0],a,o,l,u=[];++e<t;){a=n[e],o=(a[0]-i[0])/r,l=(a[1]-i[1])/r;for(var c=0;c<r;++c)u.push([i[0]+c*o,i[1]+c*l]);i=a}return u.push(a),u}function Lw(n){var r=[],e,t,i,a,o,l,u,c=n[0].length;for(u=0;u<c;++u)e=n[0][u],t=e[0][0],i=e[0][1],a=e[1][1],o=e[2][0],l=e[2][1],r.push(oh([[t+B,i+B],[t+B,a-B],[o-B,a-B],[o-B,l+B]],30));for(u=n[1].length-1;u>=0;--u)e=n[1][u],t=e[0][0],i=e[0][1],a=e[1][1],o=e[2][0],l=e[2][1],r.push(oh([[o-B,l-B],[o-B,a+B],[t+B,a+B],[t+B,i-B]],30));return{type:"Polygon",coordinates:[Yt(r)]}}function Ye(n,r){var e=Lw(r);r=r.map(function(l){return l.map(function(u){return[[u[0][0]*pn,u[0][1]*pn],[u[1][0]*pn,u[1][1]*pn],[u[2][0]*pn,u[2][1]*pn]]})});var t=r.map(function(l){return l.map(function(u){var c=n(u[0][0],u[0][1])[0],f=n(u[2][0],u[2][1])[0],v=n(u[1][0],u[0][1])[1],s=n(u[1][0],u[1][1])[1],h;return v>s&&(h=v,v=s,s=h),[[c,v],[f,s]]})});function i(l,u){for(var c=u<0?-1:1,f=r[+(u<0)],v=0,s=f.length-1;v<s&&l>f[v][2][0];++v);var h=n(l-f[v][1][0],u);return h[0]+=n(f[v][1][0],c*u>c*f[v][0][1]?f[v][0][1]:u)[0],h}n.invert&&(i.invert=function(l,u){for(var c=t[+(u<0)],f=r[+(u<0)],v=0,s=c.length;v<s;++v){var h=c[v];if(h[0][0]<=l&&l<h[1][0]&&h[0][1]<=u&&u<h[1][1]){var g=n.invert(l-n(f[v][1][0],0)[0],u);return g[0]+=f[v][1][0],Cw(i(g[0],g[1]),[l,u])?g:null}}});var a=Y(i),o=a.stream;return a.stream=function(l){var u=a.rotate(),c=o(l),f=(a.rotate([0,0]),o(l));return a.rotate(u),c.sphere=function(){vt(e,f)},c},a}var Nw=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Iw(){return Ye(fo,Nw).scale(160.857)}var Aw=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Dw(){return Ye(wo,Aw).scale(152.63)}var Ow=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function qw(){return Ye(Pe,Ow).scale(169.529)}var Fw=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function zw(){return Ye(Pe,Fw).scale(169.529).rotate([20,0])}var Bw=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Gw(){return Ye(yo,Bw).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Uw=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Hw(){return Ye(se,Uw).scale(152.63).rotate([-20,0])}function Sl(n,r){return[3/Ur*n*q(O*O/3-r*r),r]}Sl.invert=function(n,r){return[Ur/3*n/q(O*O/3-r*r),r]};function Yw(){return Y(Sl).scale(158.837)}function uh(n){function r(e,t){if(F(F(t)-G)<B)return[0,t<0?-2:2];var i=D(t),a=Qf((1+i)/(1-i),n/2),o=.5*(a+1/a)+A(e*=n);return[2*D(e)/o,(a-1/a)/o]}return r.invert=function(e,t){var i=F(t);if(F(i-2)<B)return e?null:[0,cn(t)*G];if(i>2)return null;e/=2,t/=2;var a=e*e,o=t*t,l=2*t/(1+a+o);return l=Qf((1+l)/(1-l),1/n),[sn(2*e,1-a-o)/n,j((l-1)/(l+1))]},r}function Vw(){var n=.5,r=_r(uh),e=r(n);return e.spacing=function(t){return arguments.length?r(n=+t):n},e.scale(124.75)}var _l=O/En;function $l(n,r){return[n*(1+q(A(r)))/2,r/(A(r/2)*A(n/6))]}$l.invert=function(n,r){var e=F(n),t=F(r),i=B,a=G;t<_l?a*=t/_l:i+=6*jn(_l/t);for(var o=0;o<25;o++){var l=D(a),u=q(A(a)),c=D(a/2),f=A(a/2),v=D(i/6),s=A(i/6),h=.5*i*(1+u)-e,g=a/(f*s)-t,p=u?-.25*i*l/u:0,d=.5*(1+u),S=(1+.5*a*c/f)/(f*s),m=a/f*(v/6)/(s*s),y=p*m-S*d,E=(h*m-g*d)/y,$=(g*p-h*S)/y;if(a-=E,i-=$,F(E)<B&&F($)<B)break}return[n<0?-i:i,r<0?-a:a]};function jw(){return Y($l).scale(97.2672)}function Tl(n,r){var e=n*n,t=r*r;return[n*(.975534+t*(-.119161+e*-.0143059+t*-.0547009)),r*(1.00384+e*(.0802894+t*-.02855+e*199025e-9)+t*(.0998909+t*-.0491032))]}Tl.invert=function(n,r){var e=cn(n)*O,t=r/2,i=50;do{var a=e*e,o=t*t,l=e*t,u=e*(.975534+o*(-.119161+a*-.0143059+o*-.0547009))-n,c=t*(1.00384+a*(.0802894+o*-.02855+a*199025e-9)+o*(.0998909+o*-.0491032))-r,f=.975534-o*(.119161+3*a*.0143059+o*.0547009),v=-l*(2*.119161+4*.0547009*o+2*.0143059*a),s=l*(2*.0802894+4*199025e-9*a+2*-.02855*o),h=1.00384+a*(.0802894+199025e-9*a)+o*(3*(.0998909-.02855*a)-5*.0491032*o),g=v*s-h*f,p=(c*v-u*h)/g,d=(u*s-c*f)/g;e-=p,t-=d}while((F(p)>B||F(d)>B)&&--i>0);return i&&[e,t]};function Xw(){return Y(Tl).scale(139.98)}function Ml(n,r){return[D(n)/A(r),en(r)*A(n)]}Ml.invert=function(n,r){var e=n*n,t=r*r,i=t+1,a=n?Cr*q((i-q(e*e+2*e*(t-1)+i*i))/e+1):1/q(i);return[j(n*a),cn(r)*jn(a)]};function Ww(){return Y(Ml).scale(144.049).clipAngle(90-.001)}function fh(n){var r=A(n),e=en(sr+n/2);function t(i,a){var o=a-n,l=F(o)<B?i*r:F(l=sr+a/2)<B||F(F(l)-G)<B?0:i*o/Yn(en(l)/e);return[l,o]}return t.invert=function(i,a){var o,l=a+n;return[F(a)<B?i/r:F(o=sr+l/2)<B||F(F(o)-G)<B?0:i*Yn(en(o)/e)/a,l]},t}function Jw(){return Et(fh).parallel(40).scale(158.837)}function Pl(n,r){return[n,1.25*Yn(en(sr+.4*r))]}Pl.invert=function(n,r){return[n,2.5*Dn(Qr(.8*r))-.625*O]};function Kw(){return Y(Pl).scale(108.318)}function lh(n){var r=n.length-1;function e(t,i){for(var a=A(i),o=2/(1+a*A(t)),l=o*a*D(t),u=o*D(i),c=r,f=n[c],v=f[0],s=f[1],h;--c>=0;)f=n[c],v=f[0]+l*(h=v)-u*s,s=f[1]+l*s+u*h;return v=l*(h=v)-u*s,s=l*s+u*h,[v,s]}return e.invert=function(t,i){var a=20,o=t,l=i;do{for(var u=r,c=n[u],f=c[0],v=c[1],s=0,h=0,g;--u>=0;)c=n[u],s=f+o*(g=s)-l*h,h=v+o*h+l*g,f=c[0]+o*(g=f)-l*v,v=c[1]+o*v+l*g;s=f+o*(g=s)-l*h,h=v+o*h+l*g,f=o*(g=f)-l*v-t,v=o*v+l*g-i;var p=s*s+h*h,d,S;o-=d=(f*s+v*h)/p,l-=S=(v*s-f*h)/p}while(F(d)+F(S)>B*B&&--a>0);if(a){var m=q(o*o+l*l),y=2*Dn(m*.5),E=D(y);return[sn(o*E,m*A(y)),m?j(l*E/m):0]}},e}var Zw=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Qw=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],n3=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],r3=[[.9245,0],[0,0],[.01943,0]],e3=[[.721316,0],[0,0],[-.00881625,-.00617325]];function t3(){return _t(Zw,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)}function i3(){return _t(Qw,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function a3(){return _t(n3,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function o3(){return _t(r3,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function u3(){return _t(e3,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function _t(n,r){var e=Y(lh(n)).rotate(r).clipAngle(90),t=Wa(r),i=e.center;return delete e.rotate,e.center=function(a){return arguments.length?i(t(a)):t.invert(i())},e}var Eo=q(6),So=q(7);function xl(n,r){var e=j(7*D(r)/(3*Eo));return[Eo*n*(2*A(2*e/3)-1)/So,9*D(e/3)/So]}xl.invert=function(n,r){var e=3*j(r*So/9);return[n*So/(Eo*(2*A(2*e/3)-1)),j(D(e)*3*Eo/7)]};function f3(){return Y(xl).scale(164.859)}function Rl(n,r){for(var e=(1+Cr)*D(r),t=r,i=0,a;i<25&&(t-=a=(D(t/2)+D(t)-e)/(.5*A(t/2)+A(t)),!(F(a)<B));i++);return[n*(1+2*A(t)/A(t/2))/(3*En),2*q(3)*D(t/2)/q(2+En)]}Rl.invert=function(n,r){var e=r*q(2+En)/(2*q(3)),t=2*j(e);return[3*En*n/(1+2*A(t)/A(t/2)),j((e+D(t))/(1+Cr))]};function l3(){return Y(Rl).scale(188.209)}function kl(n,r){for(var e=q(6/(4+O)),t=(1+O/4)*D(r),i=r/2,a=0,o;a<25&&(i-=o=(i/2+D(i)-t)/(.5+A(i)),!(F(o)<B));a++);return[e*(.5+A(i))*n/1.5,e*i]}kl.invert=function(n,r){var e=q(6/(4+O)),t=r/e;return F(F(t)-G)<B&&(t=t<0?-G:G),[1.5*n/(e*(.5+A(t))),j((t/2+D(t))/(1+O/4))]};function s3(){return Y(kl).scale(166.518)}function bl(n,r){var e=r*r,t=e*e;return[n*(.8707-.131979*e+t*(-.013791+t*(.003971*e-.001529*t))),r*(1.007226+e*(.015085+t*(-.044475+.028874*e-.005916*t)))]}bl.invert=function(n,r){var e=r,t=25,i;do{var a=e*e,o=a*a;e-=i=(e*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-r)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(F(i)>B&&--t>0);return[n/(.8707+(a=e*e)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),e]};function c3(){return Y(bl).scale(175.295)}function Cl(n,r){var e=r*r,t=e*e,i=e*t;return[n*(.84719-.13063*e+i*i*(-.04515+.05494*e-.02326*t+.00331*i)),r*(1.01183+t*t*(-.02625+.01926*e-.00396*t))]}Cl.invert=function(n,r){var e=r,t=25,i,a,o,l;do a=e*e,o=a*a,e-=i=(e*(1.01183+o*o*(-.02625+.01926*a-.00396*o))-r)/(1.01183+o*o*(9*-.02625+11*.01926*a+13*-.00396*o));while(F(i)>wt&&--t>0);return a=e*e,o=a*a,l=a*o,[n/(.84719-.13063*a+l*l*(-.04515+.05494*a-.02326*o+.00331*l)),e]};function v3(){return Y(Cl).scale(175.295)}function Ll(n,r){return[n*(1+A(r))/2,2*(r-en(r/2))]}Ll.invert=function(n,r){for(var e=r/2,t=0,i=1/0;t<10&&F(i)>B;++t){var a=A(r/2);r-=i=(r-en(r/2)-e)/(1-.5/(a*a))}return[2*n/(1+A(r)),r]};function h3(){return Y(Ll).scale(152.63)}var Nl=1.0148,Il=.23185,Al=-.14499,Dl=.02406,g3=Nl,p3=5*Il,d3=7*Al,m3=9*Dl,_o=1.790857183;function Ol(n,r){var e=r*r;return[n,r*(Nl+e*e*(Il+e*(Al+Dl*e)))]}Ol.invert=function(n,r){r>_o?r=_o:r<-_o&&(r=-_o);var e=r,t;do{var i=e*e;e-=t=(e*(Nl+i*i*(Il+i*(Al+Dl*i)))-r)/(g3+i*i*(p3+i*(d3+m3*i)))}while(F(t)>B);return[n,e]};function y3(){return Y(Ol).scale(139.319)}function ql(n,r){if(F(r)<B)return[n,0];var e=en(r),t=n*D(r);return[D(t)/e,r+(1-A(t))/e]}ql.invert=function(n,r){if(F(r)<B)return[n,0];var e=n*n+r*r,t=r*.5,i=10,a;do{var o=en(t),l=1/A(t),u=e-2*r*t+t*t;t-=a=(o*u+2*(t-r))/(2+u*l*l+2*(t-r)*o)}while(F(a)>B&&--i>0);return o=en(t),[(F(r)<F(t+1/o)?j(n*o):cn(n)*(jn(F(n*o))+G))/D(t),t]};function w3(){return Y(ql).scale(103.74)}function E3(n,r){var e=sh(n[1],n[0]),t=sh(r[1],r[0]),i=_3(e,t),a=ch(e)/ch(t);return $o([1,0,n[0][0],0,1,n[0][1]],$o([a,0,0,0,a,0],$o([A(i),D(i),0,-D(i),A(i),0],[1,0,-r[0][0],0,1,-r[0][1]])))}function S3(n){var r=1/(n[0]*n[4]-n[1]*n[3]);return[r*n[4],-r*n[1],r*(n[1]*n[5]-n[2]*n[4]),-r*n[3],r*n[0],r*(n[2]*n[3]-n[0]*n[5])]}function $o(n,r){return[n[0]*r[0]+n[1]*r[3],n[0]*r[1]+n[1]*r[4],n[0]*r[2]+n[1]*r[5]+n[2],n[3]*r[0]+n[4]*r[3],n[3]*r[1]+n[4]*r[4],n[3]*r[2]+n[4]*r[5]+n[5]]}function sh(n,r){return[n[0]-r[0],n[1]-r[1]]}function ch(n){return q(n[0]*n[0]+n[1]*n[1])}function _3(n,r){return sn(n[0]*r[1]-n[1]*r[0],n[0]*r[0]+n[1]*r[1])}function To(n,r,e){e=e==null?-O/6:e,t(n,{transform:[A(e),D(e),0,-D(e),A(e),0]});function t(c,f){if(c.edges=T3(c.face),f.face){var v=c.shared=$3(c.face,f.face),s=E3(v.map(f.project),v.map(c.project));c.transform=f.transform?$o(f.transform,s):s;for(var h=f.edges,g=0,p=h.length;g<p;++g)xe(v[0],h[g][1])&&xe(v[1],h[g][0])&&(h[g]=c),xe(v[0],h[g][0])&&xe(v[1],h[g][1])&&(h[g]=c);for(h=c.edges,g=0,p=h.length;g<p;++g)xe(v[0],h[g][0])&&xe(v[1],h[g][1])&&(h[g]=f),xe(v[0],h[g][1])&&xe(v[1],h[g][0])&&(h[g]=f)}else c.transform=f.transform;return c.children&&c.children.forEach(function(d){t(d,c)}),c}function i(c,f){var v=r(c,f),s=v.project([c*xn,f*xn]),h;return(h=v.transform)?[h[0]*s[0]+h[1]*s[1]+h[2],-(h[3]*s[0]+h[4]*s[1]+h[5])]:(s[1]=-s[1],s)}hh(n)&&(i.invert=function(c,f){var v=a(n,[c,-f]);return v&&(v[0]*=pn,v[1]*=pn,v)});function a(c,f){var v=c.project.invert,s=c.transform,h=f;if(s&&(s=S3(s),h=[s[0]*h[0]+s[1]*h[1]+s[2],s[3]*h[0]+s[4]*h[1]+s[5]]),v&&c===o(g=v(h)))return g;for(var g,p=c.children,d=0,S=p&&p.length;d<S;++d)if(g=a(p[d],f))return g}function o(c){return r(c[0]*pn,c[1]*pn)}var l=Y(i),u=l.stream;return l.stream=function(c){var f=l.rotate(),v=u(c),s=(l.rotate([0,0]),u(c));return l.rotate(f),v.sphere=function(){s.polygonStart(),s.lineStart(),vh(s,n),s.lineEnd(),s.polygonEnd()},v},l}function vh(n,r,e){var t,i=r.edges,a=i.length,o,l={type:"MultiPoint",coordinates:r.face},u=r.face.filter(function(p){return F(p[1])!==90}),c=ry({type:"MultiPoint",coordinates:u}),f=!1,v=-1,s=c[1][0]-c[0][0],h=s===180||s===360?[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]:ui(l);if(e)for(;++v<a&&i[v]!==e;);++v;for(var g=0;g<a;++g)o=i[(g+v)%a],Array.isArray(o)?(f||(n.point((t=Xf(o[0],h)(B))[0],t[1]),f=!0),n.point((t=Xf(o[1],h)(B))[0],t[1])):(f=!1,o!==e&&vh(n,o,r))}function xe(n,r){return n&&r&&n[0]===r[0]&&n[1]===r[1]}function $3(n,r){for(var e,t,i=n.length,a=null,o=0;o<i;++o){e=n[o];for(var l=r.length;--l>=0;)if(t=r[l],e[0]===t[0]&&e[1]===t[1]){if(a)return[a,e];a=e}}}function T3(n){for(var r=n.length,e=[],t=n[r-1],i=0;i<r;++i)e.push([t,t=n[i]]);return e}function hh(n){return n.project.invert||n.children&&n.children.some(hh)}var M3=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Mo=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(n){return n.map(function(r){return M3[r]})});function P3(n){n=n||function(e){var t=ui({type:"MultiPoint",coordinates:e});return kv().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var r=Mo.map(function(e){return{face:e,project:n(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,t){var i=r[e];i&&(i.children||(i.children=[])).push(r[t])}),To(r[0],function(e,t){return r[e<-O/2?t<0?6:4:e<0?t<0?2:0:e<O/2?t<0?3:1:t<0?7:5]}).scale(101.858).center([0,45])}var gh=2/q(3);function ph(n,r){var e=ne(n,r);return[e[0]*gh,e[1]]}ph.invert=function(n,r){return ne.invert(n/gh,r)};function x3(n){n=n||function(e){var t=ui({type:"MultiPoint",coordinates:e});return Y(ph).translate([0,0]).scale(1).rotate(t[1]>0?[-t[0],0]:[180-t[0],180])};var r=Mo.map(function(e){return{face:e,project:n(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,t){var i=r[e];i&&(i.children||(i.children=[])).push(r[t])}),To(r[0],function(e,t){return r[e<-O/2?t<0?6:4:e<0?t<0?2:0:e<O/2?t<0?3:1:t<0?7:5]}).scale(121.906).center([0,48.5904])}function R3(n){n=n||function(o){var l=o.length===6?ui({type:"MultiPoint",coordinates:o}):o[0];return kv().scale(1).translate([0,0]).rotate([-l[0],-l[1]])};var r=Mo.map(function(o){for(var l=o.map(zl),u=l.length,c=l[u-1],f,v=[],s=0;s<u;++s)f=l[s],v.push(dh([c[0]*.9486832980505138+f[0]*.31622776601683794,c[1]*.9486832980505138+f[1]*.31622776601683794,c[2]*.9486832980505138+f[2]*.31622776601683794]),dh([f[0]*.9486832980505138+c[0]*.31622776601683794,f[1]*.9486832980505138+c[1]*.31622776601683794,f[2]*.9486832980505138+c[2]*.31622776601683794])),c=f;return v}),e=[],t=[-1,0,0,1,0,1,4,5];r.forEach(function(o,l){for(var u=Mo[l],c=u.length,f=e[l]=[],v=0;v<c;++v)r.push([u[v],o[(v*2+2)%(2*c)],o[(v*2+1)%(2*c)]]),t.push(l),f.push(k3(zl(o[(v*2+2)%(2*c)]),zl(o[(v*2+1)%(2*c)])))});var i=r.map(function(o){return{project:n(o),face:o}});t.forEach(function(o,l){var u=i[o];u&&(u.children||(u.children=[])).push(i[l])});function a(o,l){var u=A(l),c=[u*A(o),u*D(o),D(l)],f=o<-O/2?l<0?6:4:o<0?l<0?2:0:o<O/2?l<0?3:1:l<0?7:5,v=e[f];return i[Fl(v[0],c)<0?8+3*f:Fl(v[1],c)<0?8+3*f+1:Fl(v[2],c)<0?8+3*f+2:f]}return To(i[0],a).scale(110.625).center([0,45])}function Fl(n,r){for(var e=0,t=n.length,i=0;e<t;++e)i+=n[e]*r[e];return i}function k3(n,r){return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}function dh(n){return[sn(n[1],n[0])*xn,j(si(-1,Gr(1,n[2])))*xn]}function zl(n){var r=n[0]*pn,e=n[1]*pn,t=A(e);return[t*A(r),t*D(r),D(e)]}function Po(){}function b3(n){if((e=n.length)<4)return!1;for(var r=0,e,t=n[e-1][1]*n[0][0]-n[e-1][0]*n[0][1];++r<e;)t+=n[r-1][1]*n[r][0]-n[r-1][0]*n[r][1];return t<=0}function C3(n,r){for(var e=r[0],t=r[1],i=!1,a=0,o=n.length,l=o-1;a<o;l=a++){var u=n[a],c=u[0],f=u[1],v=n[l],s=v[0],h=v[1];f>t^h>t&&e<(s-c)*(t-f)/(h-f)+c&&(i=!i)}return i}function L3(n,r){var e=r.stream,t;if(!e)throw new Error("invalid projection");switch(n&&n.type){case"Feature":t=mh;break;case"FeatureCollection":t=N3;break;default:t=Bl;break}return t(n,e)}function N3(n,r){return{type:"FeatureCollection",features:n.features.map(function(e){return mh(e,r)})}}function mh(n,r){return{type:"Feature",id:n.id,properties:n.properties,geometry:Bl(n.geometry,r)}}function I3(n,r){return{type:"GeometryCollection",geometries:n.geometries.map(function(e){return Bl(e,r)})}}function Bl(n,r){if(!n)return null;if(n.type==="GeometryCollection")return I3(n,r);var e;switch(n.type){case"Point":e=yh;break;case"MultiPoint":e=yh;break;case"LineString":e=wh;break;case"MultiLineString":e=wh;break;case"Polygon":e=Gl;break;case"MultiPolygon":e=Gl;break;case"Sphere":e=Gl;break;default:return null}return vt(n,r(e)),e.result()}var Jn=[],re=[],yh={point:function(n,r){Jn.push([n,r])},result:function(){var n=Jn.length?Jn.length<2?{type:"Point",coordinates:Jn[0]}:{type:"MultiPoint",coordinates:Jn}:null;return Jn=[],n}},wh={lineStart:Po,point:function(n,r){Jn.push([n,r])},lineEnd:function(){Jn.length&&(re.push(Jn),Jn=[])},result:function(){var n=re.length?re.length<2?{type:"LineString",coordinates:re[0]}:{type:"MultiLineString",coordinates:re}:null;return re=[],n}},Gl={polygonStart:Po,lineStart:Po,point:function(n,r){Jn.push([n,r])},lineEnd:function(){var n=Jn.length;if(n){do Jn.push(Jn[0].slice());while(++n<4);re.push(Jn),Jn=[]}},polygonEnd:Po,result:function(){if(!re.length)return null;var n=[],r=[];return re.forEach(function(e){b3(e)?n.push([e]):r.push(e)}),r.forEach(function(e){var t=e[0];n.some(function(i){if(C3(i[0],t))return i.push(e),!0})||n.push([e])}),re=[],n.length?n.length>1?{type:"MultiPolygon",coordinates:n}:{type:"Polygon",coordinates:n[0]}:null}};function Ul(n){var r=n(G,0)[0]-n(-G,0)[0];function e(t,i){var a=F(t)<G,o=n(a?t:t>0?t-O:t+O,i),l=(o[0]-o[1])*Cr,u=(o[0]+o[1])*Cr;if(a)return[l,u];var c=r*Cr,f=l>0^u>0?-1:1;return[f*l-cn(u)*c,f*u-cn(l)*c]}return n.invert&&(e.invert=function(t,i){var a=(t+i)*Cr,o=(i-t)*Cr,l=F(a)<.5*r&&F(o)<.5*r;if(!l){var u=r*Cr,c=a>0^o>0?-1:1,f=-c*t+(o>0?1:-1)*u,v=-c*i+(a>0?1:-1)*u;a=(-f-v)*Cr,o=(f-v)*Cr}var s=n.invert(a,o);return l||(s[0]+=a>0?O:-O),s}),Y(e).rotate([-90,-90,45]).clipAngle(180-.001)}function A3(){return Ul(go).scale(176.423)}function Eh(){return Ul(po).scale(111.48)}function D3(n,r){if(!(0<=(r=+r)&&r<=20))throw new Error("invalid digits");function e(u){var c=u.length,f=2,v=new Array(c);for(v[0]=+u[0].toFixed(r),v[1]=+u[1].toFixed(r);f<c;)v[f]=u[f],++f;return v}function t(u){return u.map(e)}function i(u){return u.map(t)}function a(u){if(u==null)return u;var c;switch(u.type){case"GeometryCollection":c={type:"GeometryCollection",geometries:u.geometries.map(a)};break;case"Point":c={type:"Point",coordinates:e(u.coordinates)};break;case"MultiPoint":case"LineString":c={type:u.type,coordinates:t(u.coordinates)};break;case"MultiLineString":case"Polygon":c={type:u.type,coordinates:i(u.coordinates)};break;case"MultiPolygon":c={type:"MultiPolygon",coordinates:u.coordinates.map(i)};break;default:return u}return u.bbox!=null&&(c.bbox=u.bbox),c}function o(u){var c={type:"Feature",properties:u.properties,geometry:a(u.geometry)};return u.id!=null&&(c.id=u.id),u.bbox!=null&&(c.bbox=u.bbox),c}if(n!=null)switch(n.type){case"Feature":return o(n);case"FeatureCollection":{var l={type:"FeatureCollection",features:n.features.map(o)};return n.bbox!=null&&(l.bbox=n.bbox),l}default:return a(n)}return n}function Sh(n){var r=D(n);function e(t,i){var a=r?en(t*r/2)/r:t/2;if(!i)return[2*a,-n];var o=2*Dn(a*D(i)),l=1/en(i);return[D(o)*l,i+(1-A(o))*l-n]}return e.invert=function(t,i){if(F(i+=n)<B)return[r?2*Dn(r*t/2)/r:t,0];var a=t*t+i*i,o=0,l=10,u;do{var c=en(o),f=1/A(o),v=a-2*i*o+o*o;o-=u=(c*v+2*(o-i))/(2+v*f*f+2*(o-i)*c)}while(F(u)>B&&--l>0);var s=t*(c=en(o)),h=en(F(i)<F(o+1/c)?j(s)*.5:jn(s)*.5+O/4)/D(o);return[r?2*Dn(r*h)/r:2*h,o]},e}function O3(){return Et(Sh).scale(131.215)}var $r=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];$r.forEach(function(n){n[1]*=1.0144});function Hl(n,r){var e=Gr(18,F(r)*36/O),t=yt(e),i=e-t,a=(v=$r[t])[0],o=v[1],l=(v=$r[++t])[0],u=v[1],c=(v=$r[Gr(19,++t)])[0],f=v[1],v;return[n*(l+i*(c-a)/2+i*i*(c-2*l+a)/2),(r>0?G:-G)*(u+i*(f-o)/2+i*i*(f-2*u+o)/2)]}Hl.invert=function(n,r){var e=r/G,t=e*90,i=Gr(18,F(t/5)),a=si(0,yt(i));do{var o=$r[a][1],l=$r[a+1][1],u=$r[Gr(19,a+2)][1],c=u-o,f=u-2*l+o,v=2*(F(e)-l)/c,s=f/c,h=v*(1-s*v*(1-2*s*v));if(h>=0||a===1){t=(r>=0?5:-5)*(h+i);var g=50,p;do i=Gr(18,F(t)/5),a=yt(i),h=i-a,o=$r[a][1],l=$r[a+1][1],u=$r[Gr(19,a+2)][1],t-=(p=(r>=0?G:-G)*(l+h*(u-o)/2+h*h*(u-2*l+o)/2)-r)*xn;while(F(p)>wt&&--g>0);break}}while(--a>=0);var d=$r[a][0],S=$r[a+1][0],m=$r[Gr(19,a+2)][0];return[n/(S+h*(m-d)/2+h*h*(m-2*S+d)/2),t*pn]};function q3(){return Y(Hl).scale(152.63)}function F3(n){function r(e,t){var i=A(t),a=(n-1)/(n-i*A(e));return[a*i*D(e),a*D(t)]}return r.invert=function(e,t){var i=e*e+t*t,a=q(i),o=(n-q(1-i*(n+1)/(n-1)))/((n-1)/a+a/(n-1));return[sn(e*o,a*q(1-o*o)),a?j(t*o/a):0]},r}function _h(n,r){var e=F3(n);if(!r)return e;var t=A(r),i=D(r);function a(o,l){var u=e(o,l),c=u[1],f=c*i/(n-1)+t;return[u[0]*t/f,c/f]}return a.invert=function(o,l){var u=(n-1)/(n-1-l*i);return e.invert(u*o,u*l*t)},a}function z3(){var n=2,r=0,e=_r(_h),t=e(n,r);return t.distance=function(i){return arguments.length?e(n=+i,r):n},t.tilt=function(i){return arguments.length?e(n,r=i*pn):r*xn},t.scale(432.147).clipAngle(jn(1/n)*xn-1e-6)}var xo=1e-4,$h=1e4,Yl=-180,Vl=Yl+xo,Th=180,jl=Th-xo,Xl=-90,Wl=Xl+xo,Jl=90,Kl=Jl-xo;function B3(n){return n.length>0}function G3(n){return Math.floor(n*$h)/$h}function Mh(n){return n===Xl||n===Jl?[0,n]:[Yl,G3(n)]}function Zl(n){var r=n[0],e=n[1],t=!1;return r<=Vl?(r=Yl,t=!0):r>=jl&&(r=Th,t=!0),e<=Wl?(e=Xl,t=!0):e>=Kl&&(e=Jl,t=!0),t?[r,e]:n}function Ph(n){return n.map(Zl)}function xh(n,r,e){for(var t=0,i=n.length;t<i;++t){var a=n[t].slice();e.push({index:-1,polygon:r,ring:a});for(var o=0,l=a.length;o<l;++o){var u=a[o],c=u[0],f=u[1];if(c<=Vl||c>=jl||f<=Wl||f>=Kl){a[o]=Zl(u);for(var v=o+1;v<l;++v){var s=a[v],h=s[0],g=s[1];if(h>Vl&&h<jl&&g>Wl&&g<Kl)break}if(v===o+1)continue;if(o){var p={index:-1,polygon:r,ring:a.slice(0,o+1)};p.ring[p.ring.length-1]=Mh(f),e[e.length-1]=p}else e.pop();if(v>=l)break;e.push({index:-1,polygon:r,ring:a=a.slice(v-1)}),a[0]=Mh(a[0][1]),o=-1,l=a.length}}}}function Rh(n){var r,e=n.length,t={},i={},a,o,l,u,c;for(r=0;r<e;++r){if(a=n[r],o=a.ring[0],u=a.ring[a.ring.length-1],o[0]===u[0]&&o[1]===u[1]){a.polygon.push(a.ring),n[r]=null;continue}a.index=r,t[o]=i[u]=a}for(r=0;r<e;++r)if(a=n[r],a){if(o=a.ring[0],u=a.ring[a.ring.length-1],l=i[o],c=t[u],delete t[o],delete i[u],o[0]===u[0]&&o[1]===u[1]){a.polygon.push(a.ring);continue}l?(delete i[o],delete t[l.ring[0]],l.ring.pop(),n[l.index]=null,a={index:-1,polygon:l.polygon,ring:l.ring.concat(a.ring)},l===c?a.polygon.push(a.ring):(a.index=e++,n.push(t[a.ring[0]]=i[a.ring[a.ring.length-1]]=a))):c?(delete t[u],delete i[c.ring[c.ring.length-1]],a.ring.pop(),a={index:e++,polygon:c.polygon,ring:a.ring.concat(c.ring)},n[c.index]=null,n.push(t[a.ring[0]]=i[a.ring[a.ring.length-1]]=a)):(a.ring.push(a.ring[0]),a.polygon.push(a.ring))}}function kh(n){var r={type:"Feature",geometry:Ql(n.geometry)};return n.id!=null&&(r.id=n.id),n.bbox!=null&&(r.bbox=n.bbox),n.properties!=null&&(r.properties=n.properties),r}function Ql(n){if(n==null)return n;var r,e,t,i;switch(n.type){case"GeometryCollection":r={type:"GeometryCollection",geometries:n.geometries.map(Ql)};break;case"Point":r={type:"Point",coordinates:Zl(n.coordinates)};break;case"MultiPoint":case"LineString":r={type:n.type,coordinates:Ph(n.coordinates)};break;case"MultiLineString":r={type:"MultiLineString",coordinates:n.coordinates.map(Ph)};break;case"Polygon":{var a=[];xh(n.coordinates,a,e=[]),Rh(e),r={type:"Polygon",coordinates:a};break}case"MultiPolygon":{e=[],t=-1,i=n.coordinates.length;for(var o=new Array(i);++t<i;)xh(n.coordinates[t],o[t]=[],e);Rh(e),r={type:"MultiPolygon",coordinates:o.filter(B3)};break}default:return n}return n.bbox!=null&&(r.bbox=n.bbox),r}function U3(n){if(n==null)return n;switch(n.type){case"Feature":return kh(n);case"FeatureCollection":{var r={type:"FeatureCollection",features:n.features.map(kh)};return n.bbox!=null&&(r.bbox=n.bbox),r}default:return Ql(n)}}function ns(n,r){var e=en(r/2),t=D(sr*e);return[n*(.74482-.34588*t*t),1.70711*e]}ns.invert=function(n,r){var e=r/1.70711,t=D(sr*e);return[n/(.74482-.34588*t*t),2*Dn(e)]};function H3(){return Y(ns).scale(146.153)}function bh(n,r,e){var t=Xf(r,e),i=t(.5),a=Wa([-i[0],-i[1]])(r),o=t.distance/2,l=-j(D(a[1]*pn)/D(o)),u=[-i[0],-i[1],-(a[0]>0?O-l:l)*xn],c=Y(n(o)).rotate(u),f=Wa(u),v=c.center;return delete c.rotate,c.center=function(s){return arguments.length?v(f(s)):f.invert(v())},c.clipAngle(90)}function Ch(n){var r=A(n);function e(t,i){var a=to(t,i);return a[0]*=r,a}return e.invert=function(t,i){return to.invert(t/r,i)},e}function Y3(){return Lh([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Lh(n,r){return bh(Ch,n,r)}function Nh(n){if(!(n*=2))return mt;var r=-n/2,e=-r,t=n*n,i=en(e),a=.5/D(e);function o(l,u){var c=jn(A(u)*A(l-r)),f=jn(A(u)*A(l-e)),v=u<0?-1:1;return c*=c,f*=f,[(c-f)/(2*n),v*q(4*t*f-(t-c+f)*(t-c+f))/(2*n)]}return o.invert=function(l,u){var c=u*u,f=A(q(c+(s=l+r)*s)),v=A(q(c+(s=l+e)*s)),s,h;return[sn(h=f-v,s=(f+v)*i),(u<0?-1:1)*jn(q(s*s+h*h)*a)]},o}function V3(){return Ih([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Ih(n,r){return bh(Nh,n,r)}function rs(n,r){if(F(r)<B)return[n,0];var e=F(r/G),t=j(e);if(F(n)<B||F(F(r)-G)<B)return[0,cn(r)*O*en(t/2)];var i=A(t),a=F(O/n-n/O)/2,o=a*a,l=i/(e+i-1),u=l*(2/e-1),c=u*u,f=c+o,v=l-c,s=o+l;return[cn(n)*O*(a*v+q(o*v*v-f*(l*l-c)))/f,cn(r)*O*(u*s-a*q((o+1)*f-s*s))/f]}rs.invert=function(n,r){if(F(r)<B)return[n,0];if(F(n)<B)return[0,G*D(2*Dn(r/O))];var e=(n/=O)*n,t=(r/=O)*r,i=e+t,a=i*i,o=-F(r)*(1+i),l=o-2*t+e,u=-2*o+1+2*t+a,c=t/u+(2*l*l*l/(u*u*u)-9*o*l/(u*u))/27,f=(o-l*l/(3*u))/u,v=2*q(-f/3),s=jn(3*c/(f*v))/3;return[O*(i-1+q(1+2*(e-t)+a))/(2*n),cn(r)*O*(-v*A(s+O/3)-l/(3*u))]};function j3(){return Y(rs).scale(79.4183)}function es(n,r){if(F(r)<B)return[n,0];var e=F(r/G),t=j(e);if(F(n)<B||F(F(r)-G)<B)return[0,cn(r)*O*en(t/2)];var i=A(t),a=F(O/n-n/O)/2,o=a*a,l=i*(q(1+o)-a*i)/(1+o*e*e);return[cn(n)*O*l,cn(r)*O*q(1-l*(2*a+l))]}es.invert=function(n,r){if(!n)return[0,G*D(2*Dn(r/O))];var e=F(n/O),t=(1-e*e-(r/=O)*r)/(2*e),i=t*t,a=q(i+1);return[cn(n)*O*(a-t),cn(r)*G*D(2*sn(q((1-2*t*e)*(t+a)-e),q(a+t+e)))]};function X3(){return Y(es).scale(79.4183)}function ts(n,r){if(F(r)<B)return[n,0];var e=r/G,t=j(e);if(F(n)<B||F(F(r)-G)<B)return[0,O*en(t/2)];var i=(O/n-n/O)/2,a=e/(1+A(t));return[O*(cn(n)*q(i*i+1-a*a)-i),O*a]}ts.invert=function(n,r){if(!r)return[n,0];var e=r/O,t=(O*O*(1-e*e)-n*n)/(2*O*n);return[n?O*(cn(n)*q(t*t+1)-t):0,G*D(2*Dn(e))]};function W3(){return Y(ts).scale(79.4183)}function is(n,r){if(!r)return[n,0];var e=F(r);if(!n||e===G)return[0,r];var t=e/G,i=t*t,a=(8*t-i*(i+2)-5)/(2*i*(t-1)),o=a*a,l=t*a,u=i+o+2*l,c=t+3*a,f=n/G,v=f+1/f,s=cn(F(n)-G)*q(v*v-4),h=s*s,g=u*(i+o*h-1)+(1-i)*(i*(c*c+4*o)+12*l*o+4*o*o),p=(s*(u+o-1)+2*q(g))/(4*u+h);return[cn(n)*G*p,cn(r)*G*q(1+s*F(p)-p*p)]}is.invert=function(n,r){var e;if(!n||!r)return[n,r];r/=O;var t=cn(n)*n/G,i=(t*t-1+4*r*r)/F(t),a=i*i,o=2*r,l=50;do{var u=o*o,c=(8*o-u*(u+2)-5)/(2*u*(o-1)),f=(3*o-u*o-10)/(2*u*o),v=c*c,s=o*c,h=o+c,g=h*h,p=o+3*c,d=g*(u+v*a-1)+(1-u)*(u*(p*p+4*v)+v*(12*s+4*v)),S=-2*h*(4*s*v+(1-4*u+3*u*u)*(1+f)+v*(-6+14*u-a+(-8+8*u-2*a)*f)+s*(-8+12*u+(-10+10*u-a)*f)),m=q(d),y=i*(g+v-1)+2*m-t*(4*g+a),E=i*(2*c*f+2*h*(1+f))+S/m-8*h*(i*(-1+v+g)+2*m)*(1+f)/(a+4*g);o-=e=y/E}while(e>B&&--l>0);return[cn(n)*(q(i*i+4)+i)*O/4,G*o]};function J3(){return Y(is).scale(127.16)}var Ah=4*O+3*q(3),Dh=2*q(2*O*q(3)/Ah),Oh=tl(Dh*q(3)/O,Dh,Ah/6);function K3(){return Y(Oh).scale(176.84)}function as(n,r){return[n*q(1-3*r*r/(O*O)),r]}as.invert=function(n,r){return[n/q(1-3*r*r/(O*O)),r]};function Z3(){return Y(as).scale(152.63)}function os(n,r){var e=.90631*D(r),t=q(1-e*e),i=q(2/(1+t*A(n/=3)));return[2.66723*t*i*D(n),1.24104*e*i]}os.invert=function(n,r){var e=n/2.66723,t=r/1.24104,i=q(e*e+t*t),a=2*j(i/2);return[3*sn(n*en(a),2.66723*i),i&&j(r*D(a)/(1.24104*.90631*i))]};function Q3(){return Y(os).scale(172.632)}function us(n,r){var e=A(r),t=A(n)*e,i=1-t,a=A(n=sn(D(n)*e,-D(r))),o=D(n);return e=q(1-t*t),[o*e-a*i,-a*e-o*i]}us.invert=function(n,r){var e=(n*n+r*r)/-2,t=q(-e*(2+e)),i=r*e+n*t,a=n*e-r*t,o=q(a*a+i*i);return[sn(t*i,o*(1+e)),o?-j(t*a/o):0]};function n4(){return Y(us).rotate([0,-90,45]).scale(124.75).clipAngle(180-.001)}function fs(n,r){var e=ao(n,r);return[(e[0]+n/G)/2,(e[1]+r)/2]}fs.invert=function(n,r){var e=n,t=r,i=25;do{var a=A(t),o=D(t),l=D(2*t),u=o*o,c=a*a,f=D(e),v=A(e/2),s=D(e/2),h=s*s,g=1-c*v*v,p=g?jn(a*v)*q(d=1/g):d=0,d,S=.5*(2*p*a*s+e/G)-n,m=.5*(p*o+t)-r,y=.5*d*(c*h+p*a*v*u)+.5/G,E=d*(f*l/4-p*o*s),$=.125*d*(l*s-p*o*c*f),T=.5*d*(u*v+p*h*a)+.5,k=E*$-T*y,P=(m*E-S*T)/k,R=(S*$-m*y)/k;e-=P,t-=R}while((F(P)>B||F(R)>B)&&--i>0);return[e,t]};function r4(){return Y(fs).scale(158.837)}var e4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",geoAiry:Iy,geoAiryRaw:Lv,geoAitoff:Ay,geoAitoffRaw:ao,geoArmadillo:Dy,geoArmadilloRaw:Nv,geoAugust:Oy,geoAugustRaw:oo,geoBaker:Fy,geoBakerRaw:el,geoBerghaus:zy,geoBerghausRaw:Iv,geoBoggs:Gy,geoBoggsRaw:fo,geoBonne:Hy,geoBonneRaw:Ov,geoBottomley:Yy,geoBottomleyRaw:qv,geoBromley:Vy,geoBromleyRaw:Fv,geoChamberlin:Gv,geoChamberlinRaw:Bv,geoChamberlinAfrica:Xy,geoCollignon:Wy,geoCollignonRaw:ne,geoCraig:Jy,geoCraigRaw:Uv,geoCraster:Ky,geoCrasterRaw:ol,geoCylindricalEqualArea:Zy,geoCylindricalEqualAreaRaw:ul,geoCylindricalStereographic:Qy,geoCylindricalStereographicRaw:Hv,geoEckert1:nw,geoEckert1Raw:fl,geoEckert2:rw,geoEckert2Raw:ll,geoEckert3:ew,geoEckert3Raw:sl,geoEckert4:tw,geoEckert4Raw:cl,geoEckert5:iw,geoEckert5Raw:vl,geoEckert6:aw,geoEckert6Raw:hl,geoEisenlohr:ow,geoEisenlohrRaw:gl,geoFahey:uw,geoFaheyRaw:pl,geoFoucaut:fw,geoFoucautRaw:dl,geoGilbert:lw,geoGingery:sw,geoGingeryRaw:jv,geoGinzburg4:cw,geoGinzburg4Raw:Wv,geoGinzburg5:vw,geoGinzburg5Raw:Jv,geoGinzburg6:hw,geoGinzburg6Raw:Kv,geoGinzburg8:gw,geoGinzburg8Raw:ml,geoGinzburg9:pw,geoGinzburg9Raw:Zv,geoGringorten:yw,geoGringortenRaw:go,geoGuyou:$w,geoGuyouRaw:po,geoHammer:Tw,geoHammerRaw:nh,geoHammerRetroazimuthal:Mw,geoHammerRetroazimuthalRaw:eh,geoHealpix:xw,geoHealpixRaw:ih,geoHill:Rw,geoHillRaw:ah,geoHomolosine:bw,geoHomolosineRaw:wo,geoInterrupt:Ye,geoInterruptedBoggs:Iw,geoInterruptedHomolosine:Dw,geoInterruptedMollweide:qw,geoInterruptedMollweideHemispheres:zw,geoInterruptedSinuMollweide:Gw,geoInterruptedSinusoidal:Hw,geoKavrayskiy7:Yw,geoKavrayskiy7Raw:Sl,geoLagrange:Vw,geoLagrangeRaw:uh,geoLarrivee:jw,geoLarriveeRaw:$l,geoLaskowski:Xw,geoLaskowskiRaw:Tl,geoLittrow:Ww,geoLittrowRaw:Ml,geoLoximuthal:Jw,geoLoximuthalRaw:fh,geoMiller:Kw,geoMillerRaw:Pl,geoModifiedStereographic:_t,geoModifiedStereographicRaw:lh,geoModifiedStereographicAlaska:t3,geoModifiedStereographicGs48:i3,geoModifiedStereographicGs50:a3,geoModifiedStereographicMiller:o3,geoModifiedStereographicLee:u3,geoMollweide:By,geoMollweideRaw:Pe,geoMtFlatPolarParabolic:f3,geoMtFlatPolarParabolicRaw:xl,geoMtFlatPolarQuartic:l3,geoMtFlatPolarQuarticRaw:Rl,geoMtFlatPolarSinusoidal:s3,geoMtFlatPolarSinusoidalRaw:kl,geoNaturalEarth:c3,geoNaturalEarthRaw:bl,geoNaturalEarth2:v3,geoNaturalEarth2Raw:Cl,geoNellHammer:h3,geoNellHammerRaw:Ll,geoPatterson:y3,geoPattersonRaw:Ol,geoPolyconic:w3,geoPolyconicRaw:ql,geoPolyhedral:To,geoPolyhedralButterfly:P3,geoPolyhedralCollignon:x3,geoPolyhedralWaterman:R3,geoProject:L3,geoGringortenQuincuncial:A3,geoPeirceQuincuncial:Eh,geoPierceQuincuncial:Eh,geoQuantize:D3,geoQuincuncial:Ul,geoRectangularPolyconic:O3,geoRectangularPolyconicRaw:Sh,geoRobinson:q3,geoRobinsonRaw:Hl,geoSatellite:z3,geoSatelliteRaw:_h,geoSinuMollweide:kw,geoSinuMollweideRaw:yo,geoSinusoidal:Uy,geoSinusoidalRaw:se,geoStitch:U3,geoTimes:H3,geoTimesRaw:ns,geoTwoPointAzimuthal:Lh,geoTwoPointAzimuthalRaw:Ch,geoTwoPointAzimuthalUsa:Y3,geoTwoPointEquidistant:Ih,geoTwoPointEquidistantRaw:Nh,geoTwoPointEquidistantUsa:V3,geoVanDerGrinten:j3,geoVanDerGrintenRaw:rs,geoVanDerGrinten2:X3,geoVanDerGrinten2Raw:es,geoVanDerGrinten3:W3,geoVanDerGrinten3Raw:ts,geoVanDerGrinten4:J3,geoVanDerGrinten4Raw:is,geoWagner4:K3,geoWagner4Raw:Oh,geoWagner6:Z3,geoWagner6Raw:as,geoWagner7:Q3,geoWagner7Raw:os,geoWiechel:n4,geoWiechelRaw:us,geoWinkel3:r4,geoWinkel3Raw:fs}),qh=Xr(e4),Re={},ls={exports:{}};/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */(function(n){(function(r){function e(){}var t=e.prototype,i=r.EventEmitter;function a(u,c){for(var f=u.length;f--;)if(u[f].listener===c)return f;return-1}function o(u){return function(){return this[u].apply(this,arguments)}}t.getListeners=function(c){var f=this._getEvents(),v,s;if(c instanceof RegExp){v={};for(s in f)f.hasOwnProperty(s)&&c.test(s)&&(v[s]=f[s])}else v=f[c]||(f[c]=[]);return v},t.flattenListeners=function(c){var f=[],v;for(v=0;v<c.length;v+=1)f.push(c[v].listener);return f},t.getListenersAsObject=function(c){var f=this.getListeners(c),v;return f instanceof Array&&(v={},v[c]=f),v||f};function l(u){return typeof u=="function"||u instanceof RegExp?!0:u&&typeof u=="object"?l(u.listener):!1}t.addListener=function(c,f){if(!l(f))throw new TypeError("listener must be a function");var v=this.getListenersAsObject(c),s=typeof f=="object",h;for(h in v)v.hasOwnProperty(h)&&a(v[h],f)===-1&&v[h].push(s?f:{listener:f,once:!1});return this},t.on=o("addListener"),t.addOnceListener=function(c,f){return this.addListener(c,{listener:f,once:!0})},t.once=o("addOnceListener"),t.defineEvent=function(c){return this.getListeners(c),this},t.defineEvents=function(c){for(var f=0;f<c.length;f+=1)this.defineEvent(c[f]);return this},t.removeListener=function(c,f){var v=this.getListenersAsObject(c),s,h;for(h in v)v.hasOwnProperty(h)&&(s=a(v[h],f),s!==-1&&v[h].splice(s,1));return this},t.off=o("removeListener"),t.addListeners=function(c,f){return this.manipulateListeners(!1,c,f)},t.removeListeners=function(c,f){return this.manipulateListeners(!0,c,f)},t.manipulateListeners=function(c,f,v){var s,h,g=c?this.removeListener:this.addListener,p=c?this.removeListeners:this.addListeners;if(typeof f=="object"&&!(f instanceof RegExp))for(s in f)f.hasOwnProperty(s)&&(h=f[s])&&(typeof h=="function"?g.call(this,s,h):p.call(this,s,h));else for(s=v.length;s--;)g.call(this,f,v[s]);return this},t.removeEvent=function(c){var f=typeof c,v=this._getEvents(),s;if(f==="string")delete v[c];else if(c instanceof RegExp)for(s in v)v.hasOwnProperty(s)&&c.test(s)&&delete v[s];else delete this._events;return this},t.removeAllListeners=o("removeEvent"),t.emitEvent=function(c,f){var v=this.getListenersAsObject(c),s,h,g,p,d;for(p in v)if(v.hasOwnProperty(p))for(s=v[p].slice(0),g=0;g<s.length;g++)h=s[g],h.once===!0&&this.removeListener(c,h.listener),d=h.listener.apply(this,f||[]),d===this._getOnceReturnValue()&&this.removeListener(c,h.listener);return this},t.trigger=o("emitEvent"),t.emit=function(c){var f=Array.prototype.slice.call(arguments,1);return this.emitEvent(c,f)},t.setOnceReturnValue=function(c){return this._onceReturnValue=c,this},t._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},t._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=i,e},n.exports?n.exports=e:r.EventEmitter=e})(typeof window!="undefined"?window:S0||{})})(ls);Object.defineProperty(Re,"__esModule",{value:!0});Re.View=void 0;var Fh=ln.exports,t4=Fh.__importDefault(ls.exports),Xn=Z;function i4(n){var r={};return Xn.forIn(n,function(e,t){Xn.isObject(e)&&e.isView?r[t]=e:Xn.isArray(e)?r[t]=e.concat([]):Xn.isPlainObject(e)?r[t]=Xn.clone(e):r[t]=e}),r}var a4=function(n){Fh.__extends(r,n);function r(e,t){var i=n.call(this)||this;if(i.isView=!0,i.isDataView=!0,i.watchingStates=null,i.dataType="table",i.transforms=[],i.origin=[],i.rows=[],e&&e.isDataSet?i.dataSet=e:(i.dataSet=null,t=e),i.loose=!i.dataSet,t&&(i.watchingStates=t.watchingStates),!i.loose){var a=i.watchingStates;e.on("statechange",function(o){Xn.isArray(a)?a.indexOf(o)>-1&&i._reExecute():i._reExecute()})}return i}return r.prototype._parseStateExpression=function(e){var t=this.dataSet;if(t!==null){var i=/^\$state\.(\w+)/.exec(e);return i?t.state[i[1]]:e}},r.prototype._preparseOptions=function(e){var t=this,i=i4(e);return this.loose||Xn.forIn(i,function(a,o){Xn.isString(a)&&/^\$state\./.test(a)&&(i[o]=t._parseStateExpression(a))}),i},r.prototype._prepareSource=function(e,t){if(this._source={source:e,options:t},t){var i=this._preparseOptions(t);this.origin=r.DataSet.getConnector(i.type)(e,i,this)}else if(e instanceof r||Xn.isString(e))this.origin=r.DataSet.getConnector("default")(e,this.dataSet);else if(Xn.isArray(e))this.origin=e;else if(Xn.isObject(e)&&e.type){var i=this._preparseOptions(e);this.origin=r.DataSet.getConnector(i.type)(i,this)}else throw new TypeError("Invalid source");return this.rows=Xn.deepMix([],this.origin),this},r.prototype.source=function(e,t){return this._prepareSource(e,t)._reExecuteTransforms(),this.trigger("change",[]),this},r.prototype.transform=function(e){return e&&e.type&&(this.transforms.push(e),this._executeTransform(e)),this},r.prototype._executeTransform=function(e){e=this._preparseOptions(e);var t=r.DataSet.getTransform(e.type);t(this,e)},r.prototype._reExecuteTransforms=function(){var e=this;this.transforms.forEach(function(t){e._executeTransform(t)})},r.prototype.addRow=function(e){this.rows.push(e)},r.prototype.removeRow=function(e){this.rows.splice(e,1)},r.prototype.updateRow=function(e,t){Xn.assign(this.rows[e],t)},r.prototype.findRows=function(e){return this.rows.filter(function(t){return Xn.isMatch(t,e)})},r.prototype.findRow=function(e){return Xn.find(this.rows,e)},r.prototype.getColumnNames=function(){var e=this.rows[0];return e?Xn.keys(e):[]},r.prototype.getColumnName=function(e){return this.getColumnNames()[e]},r.prototype.getColumnIndex=function(e){var t=this.getColumnNames();return t.indexOf(e)},r.prototype.getColumn=function(e){return this.rows.map(function(t){return t[e]})},r.prototype.getColumnData=function(e){return this.getColumn(e)},r.prototype.getSubset=function(e,t,i){for(var a=[],o=e;o<=t;o++)a.push(Xn.pick(this.rows[o],i));return a},r.prototype.toString=function(e){return e===void 0&&(e=!1),e?JSON.stringify(this.rows,null,2):JSON.stringify(this.rows)},r.prototype._reExecute=function(){var e=this._source,t=e.source,i=e.options;this._prepareSource(t,i),this._reExecuteTransforms(),this.trigger("change",[])},r}(t4.default);Re.View=a4;var Ro={},I=1e-6;class o4{constructor(){this._partials=new Float64Array(32),this._n=0}add(r){const e=this._partials;let t=0;for(let i=0;i<this._n&&i<32;i++){const a=e[i],o=r+a,l=Math.abs(r)<Math.abs(a)?r-(o-a):a-(o-r);l&&(e[t++]=l),r=o}return e[t]=r,this._n=t+1,this}valueOf(){const r=this._partials;let e=this._n,t,i,a,o=0;if(e>0){for(o=r[--e];e>0&&(t=o,i=r[--e],o=t+i,a=i-(o-t),!a););e>0&&(a<0&&r[e-1]<0||a>0&&r[e-1]>0)&&(i=a*2,t=o+i,i==t-o&&(o=t))}return o}}function*u4(n){for(const r of n)yield*r}function zh(n){return Array.from(u4(n))}var yn=1e-6,f4=1e-12,on=Math.PI,zn=on/2,Bh=on/4,Nr=on*2,or=180/on,Bn=on/180,Rn=Math.abs,vi=Math.atan,ce=Math.atan2,wn=Math.cos,Gh=Math.exp,ko=Math.log,ss=Math.pow,dn=Math.sin,Ir=Math.sign||function(n){return n>0?1:n<0?-1:0},ve=Math.sqrt,cs=Math.tan;function l4(n){return n>1?0:n<-1?on:Math.acos(n)}function ke(n){return n>1?zn:n<-1?-zn:Math.asin(n)}function hi(){}function bo(n,r){n&&Hh.hasOwnProperty(n.type)&&Hh[n.type](n,r)}var Uh={Feature:function(n,r){bo(n.geometry,r)},FeatureCollection:function(n,r){for(var e=n.features,t=-1,i=e.length;++t<i;)bo(e[t].geometry,r)}},Hh={Sphere:function(n,r){r.sphere()},Point:function(n,r){n=n.coordinates,r.point(n[0],n[1],n[2])},MultiPoint:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)n=e[t],r.point(n[0],n[1],n[2])},LineString:function(n,r){vs(n.coordinates,r,0)},MultiLineString:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)vs(e[t],r,0)},Polygon:function(n,r){Yh(n.coordinates,r)},MultiPolygon:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)Yh(e[t],r)},GeometryCollection:function(n,r){for(var e=n.geometries,t=-1,i=e.length;++t<i;)bo(e[t],r)}};function vs(n,r,e){var t=-1,i=n.length-e,a;for(r.lineStart();++t<i;)a=n[t],r.point(a[0],a[1],a[2]);r.lineEnd()}function Yh(n,r){var e=-1,t=n.length;for(r.polygonStart();++e<t;)vs(n[e],r,1);r.polygonEnd()}function Vh(n,r){n&&Uh.hasOwnProperty(n.type)?Uh[n.type](n,r):bo(n,r)}function hs(n){return[ce(n[1],n[0]),ke(n[2])]}function $t(n){var r=n[0],e=n[1],t=wn(e);return[t*wn(r),t*dn(r),dn(e)]}function Co(n,r){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]}function Lo(n,r){return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}function gs(n,r){n[0]+=r[0],n[1]+=r[1],n[2]+=r[2]}function No(n,r){return[n[0]*r,n[1]*r,n[2]*r]}function ps(n){var r=ve(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=r,n[1]/=r,n[2]/=r}function ds(n,r){function e(t,i){return t=n(t,i),r(t[0],t[1])}return n.invert&&r.invert&&(e.invert=function(t,i){return t=r.invert(t,i),t&&n.invert(t[0],t[1])}),e}function ms(n,r){return[Rn(n)>on?n+Math.round(-n/Nr)*Nr:n,r]}ms.invert=ms;function jh(n,r,e){return(n%=Nr)?r||e?ds(Wh(n),Jh(r,e)):Wh(n):r||e?Jh(r,e):ms}function Xh(n){return function(r,e){return r+=n,[r>on?r-Nr:r<-on?r+Nr:r,e]}}function Wh(n){var r=Xh(n);return r.invert=Xh(-n),r}function Jh(n,r){var e=wn(n),t=dn(n),i=wn(r),a=dn(r);function o(l,u){var c=wn(u),f=wn(l)*c,v=dn(l)*c,s=dn(u),h=s*e+f*t;return[ce(v*i-h*a,f*e-s*t),ke(h*i+v*a)]}return o.invert=function(l,u){var c=wn(u),f=wn(l)*c,v=dn(l)*c,s=dn(u),h=s*i-v*a;return[ce(v*i+s*a,f*e+h*t),ke(h*e-f*t)]},o}function s4(n){n=jh(n[0]*Bn,n[1]*Bn,n.length>2?n[2]*Bn:0);function r(e){return e=n(e[0]*Bn,e[1]*Bn),e[0]*=or,e[1]*=or,e}return r.invert=function(e){return e=n.invert(e[0]*Bn,e[1]*Bn),e[0]*=or,e[1]*=or,e},r}function c4(n,r,e,t,i,a){if(!!e){var o=wn(r),l=dn(r),u=t*e;i==null?(i=r+t*Nr,a=r-u/2):(i=Kh(o,i),a=Kh(o,a),(t>0?i<a:i>a)&&(i+=t*Nr));for(var c,f=i;t>0?f>a:f<a;f-=u)c=hs([o,-l*wn(f),-l*dn(f)]),n.point(c[0],c[1])}}function Kh(n,r){r=$t(r),r[0]-=n,ps(r);var e=l4(-r[1]);return((-r[2]<0?-e:e)+Nr-yn)%Nr}function Zh(){var n=[],r;return{point:function(e,t,i){r.push([e,t,i])},lineStart:function(){n.push(r=[])},lineEnd:hi,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],r=null,e}}}function Io(n,r){return Rn(n[0]-r[0])<yn&&Rn(n[1]-r[1])<yn}function Ao(n,r,e,t){this.x=n,this.z=r,this.o=e,this.e=t,this.v=!1,this.n=this.p=null}function Qh(n,r,e,t,i){var a=[],o=[],l,u;if(n.forEach(function(g){if(!((p=g.length-1)<=0)){var p,d=g[0],S=g[p],m;if(Io(d,S)){if(!d[2]&&!S[2]){for(i.lineStart(),l=0;l<p;++l)i.point((d=g[l])[0],d[1]);i.lineEnd();return}S[0]+=2*yn}a.push(m=new Ao(d,g,null,!0)),o.push(m.o=new Ao(d,null,m,!1)),a.push(m=new Ao(S,g,null,!1)),o.push(m.o=new Ao(S,null,m,!0))}}),!!a.length){for(o.sort(r),ng(a),ng(o),l=0,u=o.length;l<u;++l)o[l].e=e=!e;for(var c=a[0],f,v;;){for(var s=c,h=!0;s.v;)if((s=s.n)===c)return;f=s.z,i.lineStart();do{if(s.v=s.o.v=!0,s.e){if(h)for(l=0,u=f.length;l<u;++l)i.point((v=f[l])[0],v[1]);else t(s.x,s.n.x,1,i);s=s.n}else{if(h)for(f=s.p.z,l=f.length-1;l>=0;--l)i.point((v=f[l])[0],v[1]);else t(s.x,s.p.x,-1,i);s=s.p}s=s.o,f=s.z,h=!h}while(!s.v);i.lineEnd()}}}function ng(n){if(!!(r=n.length)){for(var r,e=0,t=n[0],i;++e<r;)t.n=i=n[e],i.p=t,t=i;t.n=i=n[0],i.p=t}}function ys(n){return Rn(n[0])<=on?n[0]:Ir(n[0])*((Rn(n[0])+on)%Nr-on)}function v4(n,r){var e=ys(r),t=r[1],i=dn(t),a=[dn(e),-wn(e),0],o=0,l=0,u=new o4;i===1?t=zn+yn:i===-1&&(t=-zn-yn);for(var c=0,f=n.length;c<f;++c)if(!!(s=(v=n[c]).length))for(var v,s,h=v[s-1],g=ys(h),p=h[1]/2+Bh,d=dn(p),S=wn(p),m=0;m<s;++m,g=E,d=T,S=k,h=y){var y=v[m],E=ys(y),$=y[1]/2+Bh,T=dn($),k=wn($),P=E-g,R=P>=0?1:-1,C=R*P,b=C>on,L=d*T;if(u.add(ce(L*R*dn(C),S*k+L*wn(C))),o+=b?P+R*Nr:P,b^g>=e^E>=e){var z=Lo($t(h),$t(y));ps(z);var _=Lo(a,z);ps(_);var w=(b^P>=0?-1:1)*ke(_[2]);(t>w||t===w&&(z[0]||z[1]))&&(l+=b^P>=0?1:-1)}}return(o<-yn||o<yn&&u<-f4)^l&1}function rg(n,r,e,t){return function(i){var a=r(i),o=Zh(),l=r(o),u=!1,c,f,v,s={point:h,lineStart:p,lineEnd:d,polygonStart:function(){s.point=S,s.lineStart=m,s.lineEnd=y,f=[],c=[]},polygonEnd:function(){s.point=h,s.lineStart=p,s.lineEnd=d,f=zh(f);var E=v4(c,t);f.length?(u||(i.polygonStart(),u=!0),Qh(f,g4,E,e,i)):E&&(u||(i.polygonStart(),u=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),f=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(E,$){n(E,$)&&i.point(E,$)}function g(E,$){a.point(E,$)}function p(){s.point=g,a.lineStart()}function d(){s.point=h,a.lineEnd()}function S(E,$){v.push([E,$]),l.point(E,$)}function m(){l.lineStart(),v=[]}function y(){S(v[0][0],v[0][1]),l.lineEnd();var E=l.clean(),$=o.result(),T,k=$.length,P,R,C;if(v.pop(),c.push(v),v=null,!!k){if(E&1){if(R=$[0],(P=R.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),T=0;T<P;++T)i.point((C=R[T])[0],C[1]);i.lineEnd()}return}k>1&&E&2&&$.push($.pop().concat($.shift())),f.push($.filter(h4))}}return s}}function h4(n){return n.length>1}function g4(n,r){return((n=n.x)[0]<0?n[1]-zn-yn:zn-n[1])-((r=r.x)[0]<0?r[1]-zn-yn:zn-r[1])}var eg=rg(function(){return!0},p4,m4,[-on,-zn]);function p4(n){var r=NaN,e=NaN,t=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(a,o){var l=a>0?on:-on,u=Rn(a-r);Rn(u-on)<yn?(n.point(r,e=(e+o)/2>0?zn:-zn),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(l,e),n.point(a,e),i=0):t!==l&&u>=on&&(Rn(r-t)<yn&&(r-=t*yn),Rn(a-l)<yn&&(a-=l*yn),e=d4(r,e,a,o),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(l,e),i=0),n.point(r=a,e=o),t=l},lineEnd:function(){n.lineEnd(),r=e=NaN},clean:function(){return 2-i}}}function d4(n,r,e,t){var i,a,o=dn(n-e);return Rn(o)>yn?vi((dn(r)*(a=wn(t))*dn(e)-dn(t)*(i=wn(r))*dn(n))/(i*a*o)):(r+t)/2}function m4(n,r,e,t){var i;if(n==null)i=e*zn,t.point(-on,i),t.point(0,i),t.point(on,i),t.point(on,0),t.point(on,-i),t.point(0,-i),t.point(-on,-i),t.point(-on,0),t.point(-on,i);else if(Rn(n[0]-r[0])>yn){var a=n[0]<r[0]?on:-on;i=e*a/2,t.point(-a,i),t.point(0,i),t.point(a,i)}else t.point(r[0],r[1])}function y4(n){var r=wn(n),e=6*Bn,t=r>0,i=Rn(r)>yn;function a(f,v,s,h){c4(h,n,e,s,f,v)}function o(f,v){return wn(f)*wn(v)>r}function l(f){var v,s,h,g,p;return{lineStart:function(){g=h=!1,p=1},point:function(d,S){var m=[d,S],y,E=o(d,S),$=t?E?0:c(d,S):E?c(d+(d<0?on:-on),S):0;if(!v&&(g=h=E)&&f.lineStart(),E!==h&&(y=u(v,m),(!y||Io(v,y)||Io(m,y))&&(m[2]=1)),E!==h)p=0,E?(f.lineStart(),y=u(m,v),f.point(y[0],y[1])):(y=u(v,m),f.point(y[0],y[1],2),f.lineEnd()),v=y;else if(i&&v&&t^E){var T;!($&s)&&(T=u(m,v,!0))&&(p=0,t?(f.lineStart(),f.point(T[0][0],T[0][1]),f.point(T[1][0],T[1][1]),f.lineEnd()):(f.point(T[1][0],T[1][1]),f.lineEnd(),f.lineStart(),f.point(T[0][0],T[0][1],3)))}E&&(!v||!Io(v,m))&&f.point(m[0],m[1]),v=m,h=E,s=$},lineEnd:function(){h&&f.lineEnd(),v=null},clean:function(){return p|(g&&h)<<1}}}function u(f,v,s){var h=$t(f),g=$t(v),p=[1,0,0],d=Lo(h,g),S=Co(d,d),m=d[0],y=S-m*m;if(!y)return!s&&f;var E=r*S/y,$=-r*m/y,T=Lo(p,d),k=No(p,E),P=No(d,$);gs(k,P);var R=T,C=Co(k,R),b=Co(R,R),L=C*C-b*(Co(k,k)-1);if(!(L<0)){var z=ve(L),_=No(R,(-C-z)/b);if(gs(_,k),_=hs(_),!s)return _;var w=f[0],M=v[0],x=f[1],N=v[1],U;M<w&&(U=w,w=M,M=U);var vn=M-w,K=Rn(vn-on)<yn,an=K||vn<yn;if(!K&&N<x&&(U=x,x=N,N=U),an?K?x+N>0^_[1]<(Rn(_[0]-w)<yn?x:N):x<=_[1]&&_[1]<=N:vn>on^(w<=_[0]&&_[0]<=M)){var fn=No(R,(-C+z)/b);return gs(fn,k),[_,hs(fn)]}}}function c(f,v){var s=t?n:on-n,h=0;return f<-s?h|=1:f>s&&(h|=2),v<-s?h|=4:v>s&&(h|=8),h}return rg(o,l,a,t?[0,-n]:[-on,n-on])}function w4(n,r,e,t,i,a){var o=n[0],l=n[1],u=r[0],c=r[1],f=0,v=1,s=u-o,h=c-l,g;if(g=e-o,!(!s&&g>0)){if(g/=s,s<0){if(g<f)return;g<v&&(v=g)}else if(s>0){if(g>v)return;g>f&&(f=g)}if(g=i-o,!(!s&&g<0)){if(g/=s,s<0){if(g>v)return;g>f&&(f=g)}else if(s>0){if(g<f)return;g<v&&(v=g)}if(g=t-l,!(!h&&g>0)){if(g/=h,h<0){if(g<f)return;g<v&&(v=g)}else if(h>0){if(g>v)return;g>f&&(f=g)}if(g=a-l,!(!h&&g<0)){if(g/=h,h<0){if(g>v)return;g>f&&(f=g)}else if(h>0){if(g<f)return;g<v&&(v=g)}return f>0&&(n[0]=o+f*s,n[1]=l+f*h),v<1&&(r[0]=o+v*s,r[1]=l+v*h),!0}}}}}var gi=1e9,Do=-gi;function E4(n,r,e,t){function i(c,f){return n<=c&&c<=e&&r<=f&&f<=t}function a(c,f,v,s){var h=0,g=0;if(c==null||(h=o(c,v))!==(g=o(f,v))||u(c,f)<0^v>0)do s.point(h===0||h===3?n:e,h>1?t:r);while((h=(h+v+4)%4)!==g);else s.point(f[0],f[1])}function o(c,f){return Rn(c[0]-n)<yn?f>0?0:3:Rn(c[0]-e)<yn?f>0?2:1:Rn(c[1]-r)<yn?f>0?1:0:f>0?3:2}function l(c,f){return u(c.x,f.x)}function u(c,f){var v=o(c,1),s=o(f,1);return v!==s?v-s:v===0?f[1]-c[1]:v===1?c[0]-f[0]:v===2?c[1]-f[1]:f[0]-c[0]}return function(c){var f=c,v=Zh(),s,h,g,p,d,S,m,y,E,$,T,k={point:P,lineStart:L,lineEnd:z,polygonStart:C,polygonEnd:b};function P(w,M){i(w,M)&&f.point(w,M)}function R(){for(var w=0,M=0,x=h.length;M<x;++M)for(var N=h[M],U=1,vn=N.length,K=N[0],an,fn,On=K[0],Nn=K[1];U<vn;++U)an=On,fn=Nn,K=N[U],On=K[0],Nn=K[1],fn<=t?Nn>t&&(On-an)*(t-fn)>(Nn-fn)*(n-an)&&++w:Nn<=t&&(On-an)*(t-fn)<(Nn-fn)*(n-an)&&--w;return w}function C(){f=v,s=[],h=[],T=!0}function b(){var w=R(),M=T&&w,x=(s=zh(s)).length;(M||x)&&(c.polygonStart(),M&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),x&&Qh(s,l,w,a,c),c.polygonEnd()),f=c,s=h=g=null}function L(){k.point=_,h&&h.push(g=[]),$=!0,E=!1,m=y=NaN}function z(){s&&(_(p,d),S&&E&&v.rejoin(),s.push(v.result())),k.point=P,E&&f.lineEnd()}function _(w,M){var x=i(w,M);if(h&&g.push([w,M]),$)p=w,d=M,S=x,$=!1,x&&(f.lineStart(),f.point(w,M));else if(x&&E)f.point(w,M);else{var N=[m=Math.max(Do,Math.min(gi,m)),y=Math.max(Do,Math.min(gi,y))],U=[w=Math.max(Do,Math.min(gi,w)),M=Math.max(Do,Math.min(gi,M))];w4(N,U,n,r,e,t)?(E||(f.lineStart(),f.point(N[0],N[1])),f.point(U[0],U[1]),x||f.lineEnd(),T=!1):x&&(f.lineStart(),f.point(w,M),T=!1)}m=w,y=M,E=x}return k}}var tg=n=>n,Tt=1/0,Oo=Tt,pi=-Tt,qo=pi,S4={point:_4,lineStart:hi,lineEnd:hi,polygonStart:hi,polygonEnd:hi,result:function(){var n=[[Tt,Oo],[pi,qo]];return pi=qo=-(Oo=Tt=1/0),n}};function _4(n,r){n<Tt&&(Tt=n),n>pi&&(pi=n),r<Oo&&(Oo=r),r>qo&&(qo=r)}var ig=S4;function ws(n){return function(r){var e=new Es;for(var t in n)e[t]=n[t];return e.stream=r,e}}function Es(){}Es.prototype={constructor:Es,point:function(n,r){this.stream.point(n,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ss(n,r,e){var t=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),t!=null&&n.clipExtent(null),Vh(e,n.stream(ig)),r(ig.result()),t!=null&&n.clipExtent(t),n}function ag(n,r,e){return Ss(n,function(t){var i=r[1][0]-r[0][0],a=r[1][1]-r[0][1],o=Math.min(i/(t[1][0]-t[0][0]),a/(t[1][1]-t[0][1])),l=+r[0][0]+(i-o*(t[1][0]+t[0][0]))/2,u=+r[0][1]+(a-o*(t[1][1]+t[0][1]))/2;n.scale(150*o).translate([l,u])},e)}function $4(n,r,e){return ag(n,[[0,0],r],e)}function T4(n,r,e){return Ss(n,function(t){var i=+r,a=i/(t[1][0]-t[0][0]),o=(i-a*(t[1][0]+t[0][0]))/2,l=-a*t[0][1];n.scale(150*a).translate([o,l])},e)}function M4(n,r,e){return Ss(n,function(t){var i=+r,a=i/(t[1][1]-t[0][1]),o=-a*t[0][0],l=(i-a*(t[1][1]+t[0][1]))/2;n.scale(150*a).translate([o,l])},e)}var og=16,P4=wn(30*Bn);function ug(n,r){return+r?R4(n,r):x4(n)}function x4(n){return ws({point:function(r,e){r=n(r,e),this.stream.point(r[0],r[1])}})}function R4(n,r){function e(t,i,a,o,l,u,c,f,v,s,h,g,p,d){var S=c-t,m=f-i,y=S*S+m*m;if(y>4*r&&p--){var E=o+s,$=l+h,T=u+g,k=ve(E*E+$*$+T*T),P=ke(T/=k),R=Rn(Rn(T)-1)<yn||Rn(a-v)<yn?(a+v)/2:ce($,E),C=n(R,P),b=C[0],L=C[1],z=b-t,_=L-i,w=m*z-S*_;(w*w/y>r||Rn((S*z+m*_)/y-.5)>.3||o*s+l*h+u*g<P4)&&(e(t,i,a,o,l,u,b,L,R,E/=k,$/=k,T,p,d),d.point(b,L),e(b,L,R,E,$,T,c,f,v,s,h,g,p,d))}}return function(t){var i,a,o,l,u,c,f,v,s,h,g,p,d={point:S,lineStart:m,lineEnd:E,polygonStart:function(){t.polygonStart(),d.lineStart=$},polygonEnd:function(){t.polygonEnd(),d.lineStart=m}};function S(P,R){P=n(P,R),t.point(P[0],P[1])}function m(){v=NaN,d.point=y,t.lineStart()}function y(P,R){var C=$t([P,R]),b=n(P,R);e(v,s,f,h,g,p,v=b[0],s=b[1],f=P,h=C[0],g=C[1],p=C[2],og,t),t.point(v,s)}function E(){d.point=S,t.lineEnd()}function $(){m(),d.point=T,d.lineEnd=k}function T(P,R){y(i=P,R),a=v,o=s,l=h,u=g,c=p,d.point=y}function k(){e(v,s,f,h,g,p,a,o,i,l,u,c,og,t),d.lineEnd=E,E()}return d}}var k4=ws({point:function(n,r){this.stream.point(n*Bn,r*Bn)}});function b4(n){return ws({point:function(r,e){var t=n(r,e);return this.stream.point(t[0],t[1])}})}function C4(n,r,e,t,i){function a(o,l){return o*=t,l*=i,[r+n*o,e-n*l]}return a.invert=function(o,l){return[(o-r)/n*t,(e-l)/n*i]},a}function fg(n,r,e,t,i,a){if(!a)return C4(n,r,e,t,i);var o=wn(a),l=dn(a),u=o*n,c=l*n,f=o/n,v=l/n,s=(l*e-o*r)/n,h=(l*r+o*e)/n;function g(p,d){return p*=t,d*=i,[u*p-c*d+r,e-c*p-u*d]}return g.invert=function(p,d){return[t*(f*p-v*d+s),i*(h-v*p-f*d)]},g}function _s(n){return lg(function(){return n})()}function lg(n){var r,e=150,t=480,i=250,a=0,o=0,l=0,u=0,c=0,f,v=0,s=1,h=1,g=null,p=eg,d=null,S,m,y,E=tg,$=.5,T,k,P,R,C;function b(w){return P(w[0]*Bn,w[1]*Bn)}function L(w){return w=P.invert(w[0],w[1]),w&&[w[0]*or,w[1]*or]}b.stream=function(w){return R&&C===w?R:R=k4(b4(f)(p(T(E(C=w)))))},b.preclip=function(w){return arguments.length?(p=w,g=void 0,_()):p},b.postclip=function(w){return arguments.length?(E=w,d=S=m=y=null,_()):E},b.clipAngle=function(w){return arguments.length?(p=+w?y4(g=w*Bn):(g=null,eg),_()):g*or},b.clipExtent=function(w){return arguments.length?(E=w==null?(d=S=m=y=null,tg):E4(d=+w[0][0],S=+w[0][1],m=+w[1][0],y=+w[1][1]),_()):d==null?null:[[d,S],[m,y]]},b.scale=function(w){return arguments.length?(e=+w,z()):e},b.translate=function(w){return arguments.length?(t=+w[0],i=+w[1],z()):[t,i]},b.center=function(w){return arguments.length?(a=w[0]%360*Bn,o=w[1]%360*Bn,z()):[a*or,o*or]},b.rotate=function(w){return arguments.length?(l=w[0]%360*Bn,u=w[1]%360*Bn,c=w.length>2?w[2]%360*Bn:0,z()):[l*or,u*or,c*or]},b.angle=function(w){return arguments.length?(v=w%360*Bn,z()):v*or},b.reflectX=function(w){return arguments.length?(s=w?-1:1,z()):s<0},b.reflectY=function(w){return arguments.length?(h=w?-1:1,z()):h<0},b.precision=function(w){return arguments.length?(T=ug(k,$=w*w),_()):ve($)},b.fitExtent=function(w,M){return ag(b,w,M)},b.fitSize=function(w,M){return $4(b,w,M)},b.fitWidth=function(w,M){return T4(b,w,M)},b.fitHeight=function(w,M){return M4(b,w,M)};function z(){var w=fg(e,0,0,s,h,v).apply(null,r(a,o)),M=fg(e,t-w[0],i-w[1],s,h,v);return f=jh(l,u,c),k=ds(r,M),P=ds(f,k),T=ug(k,$),_()}function _(){return R=C=null,b}return function(){return r=n.apply(this,arguments),b.invert=r.invert&&L,z()}}function $s(n){var r=0,e=on/3,t=lg(n),i=t(r,e);return i.parallels=function(a){return arguments.length?t(r=a[0]*Bn,e=a[1]*Bn):[r*or,e*or]},i}function L4(n){var r=wn(n);function e(t,i){return[t*r,dn(i)/r]}return e.invert=function(t,i){return[t/r,ke(i*r)]},e}function N4(n,r){var e=dn(n),t=(e+dn(r))/2;if(Rn(t)<yn)return L4(n);var i=1+e*(2*t-e),a=ve(i)/t;function o(l,u){var c=ve(i-2*t*dn(u))/t;return[c*dn(l*=t),a-c*wn(l)]}return o.invert=function(l,u){var c=a-u,f=ce(l,Rn(c))*Ir(c);return c*t<0&&(f-=on*Ir(l)*Ir(c)),[f/t,ke((i-(l*l+c*c)*t*t)/(2*t))]},o}function Mt(){return $s(N4).scale(155.424).center([0,33.6442])}function Fo(){return Mt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function I4(n){return function(r,e){var t=ve(r*r+e*e),i=n(t),a=dn(i),o=wn(i);return[ce(r*a,t*o),ke(t&&e*a/t)]}}function zo(n,r){return[n,ko(cs((zn+r)/2))]}zo.invert=function(n,r){return[n,2*vi(Gh(r))-zn]};function Pn(){return sg(zo).scale(961/Nr)}function sg(n){var r=_s(n),e=r.center,t=r.scale,i=r.translate,a=r.clipExtent,o=null,l,u,c;r.scale=function(v){return arguments.length?(t(v),f()):t()},r.translate=function(v){return arguments.length?(i(v),f()):i()},r.center=function(v){return arguments.length?(e(v),f()):e()},r.clipExtent=function(v){return arguments.length?(v==null?o=l=u=c=null:(o=+v[0][0],l=+v[0][1],u=+v[1][0],c=+v[1][1]),f()):o==null?null:[[o,l],[u,c]]};function f(){var v=on*t(),s=r(s4(r.rotate()).invert([0,0]));return a(o==null?[[s[0]-v,s[1]-v],[s[0]+v,s[1]+v]]:n===zo?[[Math.max(s[0]-v,o),l],[Math.min(s[0]+v,u),c]]:[[o,Math.max(s[1]-v,l)],[u,Math.min(s[1]+v,c)]])}return f()}function Bo(n){return cs((zn+n)/2)}function A4(n,r){var e=wn(n),t=n===r?dn(n):ko(e/wn(r))/ko(Bo(r)/Bo(n)),i=e*ss(Bo(n),t)/t;if(!t)return zo;function a(o,l){i>0?l<-zn+yn&&(l=-zn+yn):l>zn-yn&&(l=zn-yn);var u=i/ss(Bo(l),t);return[u*dn(t*o),i-u*wn(t*o)]}return a.invert=function(o,l){var u=i-l,c=Ir(t)*ve(o*o+u*u),f=ce(o,Rn(u))*Ir(u);return u*t<0&&(f-=on*Ir(o)*Ir(u)),[f/t,2*vi(ss(i/c,1/t))-zn]},a}function cr(){return $s(A4).scale(109.5).parallels([30,30])}function Go(n,r){return[n,r]}Go.invert=Go;function cg(){return _s(Go).scale(152.63)}function D4(n,r){var e=wn(n),t=n===r?dn(n):(e-wn(r))/(r-n),i=e/t+n;if(Rn(t)<yn)return Go;function a(o,l){var u=i-l,c=t*o;return[u*dn(c),i-u*wn(c)]}return a.invert=function(o,l){var u=i-l,c=ce(o,Rn(u))*Ir(u);return u*t<0&&(c-=on*Ir(o)*Ir(u)),[c/t,i-Ir(t)*ve(o*o+u*u)]},a}function Ts(){return $s(D4).scale(131.154).center([0,13.9389])}function vg(n,r){var e=wn(r),t=1+wn(n)*e;return[e*dn(n)/t,dn(r)/t]}vg.invert=I4(function(n){return 2*vi(n)});function O4(){return _s(vg).scale(250).clipAngle(142)}function hg(n,r){return[ko(cs((zn+r)/2)),-n]}hg.invert=function(n,r){return[-r,2*vi(Gh(n))-zn]};function q4(){var n=sg(hg),r=n.center,e=n.rotate;return n.center=function(t){return arguments.length?r([-t[1],t[0]]):(t=r(),[t[1],-t[0]])},n.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)}function Uo(){}var Pt=1/0,Ho=Pt,di=-Pt,Yo=di,gg={point:F4,lineStart:Uo,lineEnd:Uo,polygonStart:Uo,polygonEnd:Uo,result:function(){var n=[[Pt,Ho],[di,Yo]];return di=Yo=-(Ho=Pt=1/0),n}};function F4(n,r){n<Pt&&(Pt=n),n>di&&(di=n),r<Ho&&(Ho=r),r>Yo&&(Yo=r)}function vr(n,r,e){var t=r[1][0]-r[0][0],i=r[1][1]-r[0][1],a=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),a!=null&&n.clipExtent(null),Vh(e,n.stream(gg));var o=gg.result(),l=Math.min(t/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),u=+r[0][0]+(t-l*(o[1][0]+o[0][0]))/2,c=+r[0][1]+(i-l*(o[1][1]+o[0][1]))/2;return a!=null&&n.clipExtent(a),n.scale(l*150).translate([u,c])}function Tr(n,r,e){return vr(n,[[0,0],r],e)}const Ms=Math.PI,Ps=2*Ms,Ve=1e-6,z4=Ps-Ve;function xs(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function hr(){return new xs}xs.prototype=hr.prototype={constructor:xs,moveTo:function(n,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,r){this._+="L"+(this._x1=+n)+","+(this._y1=+r)},quadraticCurveTo:function(n,r,e,t){this._+="Q"+ +n+","+ +r+","+(this._x1=+e)+","+(this._y1=+t)},bezierCurveTo:function(n,r,e,t,i,a){this._+="C"+ +n+","+ +r+","+ +e+","+ +t+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(n,r,e,t,i){n=+n,r=+r,e=+e,t=+t,i=+i;var a=this._x1,o=this._y1,l=e-n,u=t-r,c=a-n,f=o-r,v=c*c+f*f;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=n)+","+(this._y1=r);else if(v>Ve)if(!(Math.abs(f*l-u*c)>Ve)||!i)this._+="L"+(this._x1=n)+","+(this._y1=r);else{var s=e-a,h=t-o,g=l*l+u*u,p=s*s+h*h,d=Math.sqrt(g),S=Math.sqrt(v),m=i*Math.tan((Ms-Math.acos((g+v-p)/(2*d*S)))/2),y=m/S,E=m/d;Math.abs(y-1)>Ve&&(this._+="L"+(n+y*c)+","+(r+y*f)),this._+="A"+i+","+i+",0,0,"+ +(f*s>c*h)+","+(this._x1=n+E*l)+","+(this._y1=r+E*u)}},arc:function(n,r,e,t,i,a){n=+n,r=+r,e=+e,a=!!a;var o=e*Math.cos(t),l=e*Math.sin(t),u=n+o,c=r+l,f=1^a,v=a?t-i:i-t;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+u+","+c:(Math.abs(this._x1-u)>Ve||Math.abs(this._y1-c)>Ve)&&(this._+="L"+u+","+c),!!e&&(v<0&&(v=v%Ps+Ps),v>z4?this._+="A"+e+","+e+",0,1,"+f+","+(n-o)+","+(r-l)+"A"+e+","+e+",0,1,"+f+","+(this._x1=u)+","+(this._y1=c):v>Ve&&(this._+="A"+e+","+e+",0,"+ +(v>=Ms)+","+f+","+(this._x1=n+e*Math.cos(i))+","+(this._y1=r+e*Math.sin(i))))},rect:function(n,r,e,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)+"h"+ +e+"v"+ +t+"h"+-e+"Z"},toString:function(){return this._}};function B4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function G4(){var n,r,e=Fo(),t,i=Mt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Mt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l,u,c={point:function(s,h){u=[s,h]}};function f(s){var h=s[0],g=s[1];return u=null,t.point(h,g),u||(a.point(h,g),u)||(l.point(h,g),u)}f.invert=function(s){var h=e.scale(),g=e.translate(),p=(s[0]-g[0])/h,d=(s[1]-g[1])/h;return(d>=.12&&d<.234&&p>=-.425&&p<-.214?i:d>=.166&&d<.234&&p>=-.214&&p<-.115?o:e).invert(s)},f.stream=function(s){return n&&r===s?n:n=B4([e.stream(r=s),i.stream(s),o.stream(s)])},f.precision=function(s){return arguments.length?(e.precision(s),i.precision(s),o.precision(s),v()):e.precision()},f.scale=function(s){return arguments.length?(e.scale(s),i.scale(s*.35),o.scale(s),f.translate(e.translate())):e.scale()},f.translate=function(s){if(!arguments.length)return e.translate();var h=e.scale(),g=+s[0],p=+s[1];return t=e.translate(s).clipExtent([[g-.455*h,p-.238*h],[g+.455*h,p+.238*h]]).stream(c),a=i.translate([g-.307*h,p+.201*h]).clipExtent([[g-.425*h+I,p+.12*h+I],[g-.214*h-I,p+.234*h-I]]).stream(c),l=o.translate([g-.205*h,p+.212*h]).clipExtent([[g-.214*h+I,p+.166*h+I],[g-.115*h-I,p+.234*h-I]]).stream(c),v()},f.fitExtent=function(s,h){return vr(f,s,h)},f.fitSize=function(s,h){return Tr(f,s,h)};function v(){return n=r=null,f}return f.drawCompositionBorders=function(s){var h=e([-102.91,26.3]),g=e([-104,27.5]),p=e([-108,29.1]),d=e([-110,29.1]),S=e([-110,26.7]),m=e([-112.8,27.6]),y=e([-114.3,30.6]),E=e([-119.3,30.1]);s.moveTo(h[0],h[1]),s.lineTo(g[0],g[1]),s.lineTo(p[0],p[1]),s.lineTo(d[0],d[1]),s.moveTo(S[0],S[1]),s.lineTo(m[0],m[1]),s.lineTo(y[0],y[1]),s.lineTo(E[0],E[1])},f.getCompositionBorders=function(){var s=hr();return this.drawCompositionBorders(s),s.toString()},f.scale(1070)}function U4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function H4(){var n,r,e=Fo(),t,i=Mt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Mt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l,u=Mt().rotate([66,0]).center([0,18]).parallels([8,18]),c,f=cg().rotate([173,14]),v,s=cg().rotate([-145,-16.8]),h,g,p={point:function(m,y){g=[m,y]}};function d(m){var y=m[0],E=m[1];return g=null,t.point(y,E),g||(a.point(y,E),g)||(l.point(y,E),g)||(c.point(y,E),g)||(v.point(y,E),g)||(h.point(y,E),g)}d.invert=function(m){var y=e.scale(),E=e.translate(),$=(m[0]-E[0])/y,T=(m[1]-E[1])/y;return(T>=.12&&T<.234&&$>=-.425&&$<-.214?i:T>=.166&&T<.234&&$>=-.214&&$<-.115?o:T>=.2064&&T<.2413&&$>=.312&&$<.385?u:T>=.09&&T<.1197&&$>=-.4243&&$<-.3232?f:T>=-.0518&&T<.0895&&$>=-.4243&&$<-.3824?s:e).invert(m)},d.stream=function(m){return n&&r===m?n:n=U4([e.stream(r=m),i.stream(m),o.stream(m),u.stream(m),f.stream(m),s.stream(m)])},d.precision=function(m){return arguments.length?(e.precision(m),i.precision(m),o.precision(m),u.precision(m),f.precision(m),s.precision(m),S()):e.precision()},d.scale=function(m){return arguments.length?(e.scale(m),i.scale(m*.35),o.scale(m),u.scale(m),f.scale(m*2),s.scale(m),d.translate(e.translate())):e.scale()},d.translate=function(m){if(!arguments.length)return e.translate();var y=e.scale(),E=+m[0],$=+m[1];return t=e.translate(m).clipExtent([[E-.455*y,$-.238*y],[E+.455*y,$+.238*y]]).stream(p),a=i.translate([E-.307*y,$+.201*y]).clipExtent([[E-.425*y+I,$+.12*y+I],[E-.214*y-I,$+.233*y-I]]).stream(p),l=o.translate([E-.205*y,$+.212*y]).clipExtent([[E-.214*y+I,$+.166*y+I],[E-.115*y-I,$+.233*y-I]]).stream(p),c=u.translate([E+.35*y,$+.224*y]).clipExtent([[E+.312*y+I,$+.2064*y+I],[E+.385*y-I,$+.233*y-I]]).stream(p),v=f.translate([E-.492*y,$+.09*y]).clipExtent([[E-.4243*y+I,$+.0903*y+I],[E-.3233*y-I,$+.1197*y-I]]).stream(p),h=s.translate([E-.408*y,$+.018*y]).clipExtent([[E-.4244*y+I,$-.0519*y+I],[E-.3824*y-I,$+.0895*y-I]]).stream(p),S()},d.fitExtent=function(m,y){return vr(d,m,y)},d.fitSize=function(m,y){return Tr(d,m,y)};function S(){return n=r=null,d}return d.drawCompositionBorders=function(m){var y=e([-110.4641,28.2805]),E=e([-104.0597,28.9528]),$=e([-103.7049,25.1031]),T=e([-109.8337,24.4531]),k=e([-124.4745,28.1407]),P=e([-110.931,30.8844]),R=e([-109.8337,24.4531]),C=e([-122.4628,21.8562]),b=e([-76.8579,25.1544]),L=e([-72.429,24.2097]),z=e([-72.8265,22.7056]),_=e([-77.1852,23.6392]),w=e([-125.0093,29.7791]),M=e([-118.5193,31.3262]),x=e([-118.064,29.6912]),N=e([-124.4369,28.169]),U=e([-128.1314,37.4582]),vn=e([-125.2132,38.214]),K=e([-122.3616,30.5115]),an=e([-125.0315,29.8211]);m.moveTo(y[0],y[1]),m.lineTo(E[0],E[1]),m.lineTo($[0],$[1]),m.lineTo($[0],$[1]),m.lineTo(T[0],T[1]),m.closePath(),m.moveTo(k[0],k[1]),m.lineTo(P[0],P[1]),m.lineTo(R[0],R[1]),m.lineTo(R[0],R[1]),m.lineTo(C[0],C[1]),m.closePath(),m.moveTo(b[0],b[1]),m.lineTo(L[0],L[1]),m.lineTo(z[0],z[1]),m.lineTo(z[0],z[1]),m.lineTo(_[0],_[1]),m.closePath(),m.moveTo(w[0],w[1]),m.lineTo(M[0],M[1]),m.lineTo(x[0],x[1]),m.lineTo(x[0],x[1]),m.lineTo(N[0],N[1]),m.closePath(),m.moveTo(U[0],U[1]),m.lineTo(vn[0],vn[1]),m.lineTo(K[0],K[1]),m.lineTo(K[0],K[1]),m.lineTo(an[0],an[1]),m.closePath()},d.getCompositionBorders=function(){var m=hr();return this.drawCompositionBorders(m),m.toString()},d.scale(1070)}function Y4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function V4(){var n,r,e=cr().rotate([5,-38.6]).parallels([0,60]),t,i=cr().rotate([5,-38.6]).parallels([0,60]),a,o,l={point:function(f,v){o=[f,v]}};function u(f){var v=f[0],s=f[1];return o=null,t.point(v,s),o||(a.point(v,s),o)}u.invert=function(f){var v=e.scale(),s=e.translate(),h=(f[0]-s[0])/v,g=(f[1]-s[1])/v;return(g>=.05346&&g<.0897&&h>=-.13388&&h<-.0322?i:e).invert(f)},u.stream=function(f){return n&&r===f?n:n=Y4([e.stream(r=f),i.stream(f)])},u.precision=function(f){return arguments.length?(e.precision(f),i.precision(f),c()):e.precision()},u.scale=function(f){return arguments.length?(e.scale(f),i.scale(f),u.translate(e.translate())):e.scale()},u.translate=function(f){if(!arguments.length)return e.translate();var v=e.scale(),s=+f[0],h=+f[1];return t=e.translate(f).clipExtent([[s-.06857*v,h-.1288*v],[s+.13249*v,h+.06*v]]).stream(l),a=i.translate([s+.1*v,h-.094*v]).clipExtent([[s-.1331*v+I,h+.053457*v+I],[s-.0354*v-I,h+.08969*v-I]]).stream(l),c()},u.fitExtent=function(f,v){return vr(u,f,v)},u.fitSize=function(f,v){return Tr(u,f,v)};function c(){return n=r=null,u}return u.drawCompositionBorders=function(f){var v=e([-14.034675,34.965007]),s=e([-7.4208899,35.536988]),h=e([-7.3148275,33.54359]);f.moveTo(v[0],v[1]),f.lineTo(s[0],s[1]),f.lineTo(h[0],h[1])},u.getCompositionBorders=function(){var f=hr();return this.drawCompositionBorders(f),f.toString()},u.scale(2700)}function j4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function X4(){var n,r,e=cr().rotate([10,-39.3]).parallels([0,60]),t,i=cr().rotate([17,-32.7]).parallels([0,60]),a,o=cr().rotate([27.8,-38.6]).parallels([0,60]),l,u,c={point:function(s,h){u=[s,h]}};function f(s){var h=s[0],g=s[1];return u=null,t.point(h,g),u||(a.point(h,g),u)||(l.point(h,g),u)}f.invert=function(s){var h=e.scale(),g=e.translate(),p=(s[0]-g[0])/h,d=(s[1]-g[1])/h;return(d>=.0093&&d<.03678&&p>=-.03875&&p<-.0116?i:d>=-.0412&&d<.0091&&p>=-.07782&&p<-.01166?o:e).invert(s)},f.stream=function(s){return n&&r===s?n:n=j4([e.stream(r=s),i.stream(s),o.stream(s)])},f.precision=function(s){return arguments.length?(e.precision(s),i.precision(s),o.precision(s),v()):e.precision()},f.scale=function(s){return arguments.length?(e.scale(s),i.scale(s),o.scale(s*.6),f.translate(e.translate())):e.scale()},f.translate=function(s){if(!arguments.length)return e.translate();var h=e.scale(),g=+s[0],p=+s[1];return t=e.translate(s).clipExtent([[g-.0115*h,p-.1138*h],[g+.2105*h,p+.0673*h]]).stream(c),a=i.translate([g-.0265*h,p+.025*h]).clipExtent([[g-.0388*h+I,p+.0093*h+I],[g-.0116*h-I,p+.0368*h-I]]).stream(c),l=o.translate([g-.045*h,p+-.02*h]).clipExtent([[g-.0778*h+I,p-.0413*h+I],[g-.0117*h-I,p+.0091*h-I]]).stream(c),v()},f.fitExtent=function(s,h){return vr(f,s,h)},f.fitSize=function(s,h){return Tr(f,s,h)};function v(){return n=r=null,f}return f.drawCompositionBorders=function(s){var h=e([-12.8351,38.7113]),g=e([-10.8482,38.7633]),p=e([-10.8181,37.2072]),d=e([-12.7345,37.1573]),S=e([-16.0753,41.4436]),m=e([-10.9168,41.6861]),y=e([-10.8557,38.7747]),E=e([-15.6728,38.5505]);s.moveTo(h[0],h[1]),s.lineTo(g[0],g[1]),s.lineTo(p[0],p[1]),s.lineTo(p[0],p[1]),s.lineTo(d[0],d[1]),s.closePath(),s.moveTo(S[0],S[1]),s.lineTo(m[0],m[1]),s.lineTo(y[0],y[1]),s.lineTo(y[0],y[1]),s.lineTo(E[0],E[1]),s.closePath()},f.getCompositionBorders=function(){var s=hr();return this.drawCompositionBorders(s),s.toString()},f.scale(4200)}function W4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function J4(){var n,r,e=Pn().rotate([80,1.5]),t,i=Pn().rotate([90.73,1]),a,o,l={point:function(f,v){o=[f,v]}};function u(f){var v=f[0],s=f[1];return o=null,t.point(v,s),o||(a.point(v,s),o)}u.invert=function(f){var v=e.scale(),s=e.translate(),h=(f[0]-s[0])/v,g=(f[1]-s[1])/v;return(g>=-.0676&&g<-.026&&h>=-.0857&&h<-.0263?i:e).invert(f)},u.stream=function(f){return n&&r===f?n:n=W4([e.stream(r=f),i.stream(f)])},u.precision=function(f){return arguments.length?(e.precision(f),i.precision(f),c()):e.precision()},u.scale=function(f){return arguments.length?(e.scale(f),i.scale(f),u.translate(e.translate())):e.scale()},u.translate=function(f){if(!arguments.length)return e.translate();var v=e.scale(),s=+f[0],h=+f[1];return t=e.translate(f).clipExtent([[s-.0262*v,h-.0734*v],[s+.1741*v,h+.079*v]]).stream(l),a=i.translate([s-.06*v,h-.04*v]).clipExtent([[s-.0857*v+I,h-.0676*v+I],[s-.0263*v-I,h-.026*v-I]]).stream(l),c()},u.fitExtent=function(f,v){return vr(u,f,v)},u.fitSize=function(f,v){return Tr(u,f,v)};function c(){return n=r=null,u}return u.drawCompositionBorders=function(f){var v=e([-84.9032,2.3757]),s=e([-81.5047,2.3708]),h=e([-81.5063,-.01]),g=e([-84.9086,-.005]);f.moveTo(v[0],v[1]),f.lineTo(s[0],s[1]),f.lineTo(h[0],h[1]),f.lineTo(g[0],g[1]),f.closePath()},u.getCompositionBorders=function(){var f=hr();return this.drawCompositionBorders(f),f.toString()},u.scale(3500)}function K4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function Z4(){var n,r,e=q4().rotate([72,37]),t,i=O4().rotate([72,0]),a,o=Pn().rotate([80,33.5]),l,u=Pn().rotate([110,25]),c,f,v={point:function(g,p){f=[g,p]}};function s(g){var p=g[0],d=g[1];return f=null,t.point(p,d),f||(a.point(p,d),f)||(l.point(p,d),f)||(c.point(p,d),f)}s.invert=function(g){var p=e.scale(),d=e.translate(),S=(g[0]-d[0])/p,m=(g[1]-d[1])/p;return(m>=.2582&&m<.32&&S>=-.1036&&S<-.087?i:m>=-.01298&&m<.0133&&S>=-.11396&&S<-.05944?o:m>=.01539&&m<.03911&&S>=-.089&&S<-.0588?u:e).invert(g)},s.stream=function(g){return n&&r===g?n:n=K4([e.stream(r=g),i.stream(g),o.stream(g),u.stream(g)])},s.precision=function(g){return arguments.length?(e.precision(g),i.precision(g),o.precision(g),u.precision(g),h()):e.precision()},s.scale=function(g){return arguments.length?(e.scale(g),i.scale(g*.15),o.scale(g*1.5),u.scale(g*1.5),s.translate(e.translate())):e.scale()},s.translate=function(g){if(!arguments.length)return e.translate();var p=e.scale(),d=+g[0],S=+g[1];return t=e.translate(g).clipExtent([[d-.059*p,S-.3835*p],[d+.4498*p,S+.3375*p]]).stream(v),a=i.translate([d-.087*p,S+.17*p]).clipExtent([[d-.1166*p+I,S+.2582*p+I],[d-.06*p-I,S+.32*p-I]]).stream(v),l=o.translate([d-.092*p,S-0*p]).clipExtent([[d-.114*p+I,S-.013*p+I],[d-.0594*p-I,S+.0133*p-I]]).stream(v),c=u.translate([d-.089*p,S-.0265*p]).clipExtent([[d-.089*p+I,S+.0154*p+I],[d-.0588*p-I,S+.0391*p-I]]).stream(v),h()},s.fitExtent=function(g,p){return vr(s,g,p)},s.fitSize=function(g,p){return Tr(s,g,p)};function h(){return n=r=null,s}return s.drawCompositionBorders=function(g){var p=e([-82.6999,-51.3043]),d=e([-77.5442,-51.6631]),S=e([-78.0254,-55.186]),m=e([-83.6106,-54.7785]),y=e([-80.0638,-35.984]),E=e([-76.2153,-36.1811]),$=e([-76.2994,-37.6839]),T=e([-80.2231,-37.4757]),k=e([-78.442,-37.706]),P=e([-76.263,-37.8054]),R=e([-76.344,-39.1595]),C=e([-78.5638,-39.0559]);g.moveTo(p[0],p[1]),g.lineTo(d[0],d[1]),g.lineTo(S[0],S[1]),g.lineTo(S[0],S[1]),g.lineTo(m[0],m[1]),g.closePath(),g.moveTo(y[0],y[1]),g.lineTo(E[0],E[1]),g.lineTo($[0],$[1]),g.lineTo($[0],$[1]),g.lineTo(T[0],T[1]),g.closePath(),g.moveTo(k[0],k[1]),g.lineTo(P[0],P[1]),g.lineTo(R[0],R[1]),g.lineTo(R[0],R[1]),g.lineTo(C[0],C[1]),g.closePath()},s.getCompositionBorders=function(){var g=hr();return this.drawCompositionBorders(g),g.toString()},s.scale(700)}function Q4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function n9(){var n,r,e=Ts().rotate([-136,-22]).parallels([40,34]),t,i=Ts().rotate([-146,-26]).parallels([40,34]),a,o=Ts().rotate([-126,-19]).parallels([40,34]),l,u,c={point:function(s,h){u=[s,h]}};function f(s){var h=s[0],g=s[1];return u=null,t.point(h,g),u||(a.point(h,g),u)||(l.point(h,g),u)}f.invert=function(s){var h=e.scale(),g=e.translate(),p=(s[0]-g[0])/h,d=(s[1]-g[1])/h;return(d>=-.10925&&d<-.02701&&p>=-.135&&p<-.0397?i:d>=.04713&&d<.11138&&p>=-.03986&&p<.051?o:e).invert(s)},f.stream=function(s){return n&&r===s?n:n=Q4([e.stream(r=s),i.stream(s),o.stream(s)])},f.precision=function(s){return arguments.length?(e.precision(s),i.precision(s),o.precision(s),v()):e.precision()},f.scale=function(s){return arguments.length?(e.scale(s),i.scale(s),o.scale(s*.7),f.translate(e.translate())):e.scale()},f.translate=function(s){if(!arguments.length)return e.translate();var h=e.scale(),g=+s[0],p=+s[1];return t=e.translate(s).clipExtent([[g-.1352*h,p-.1091*h],[g+.117*h,p+.098*h]]).stream(c),a=i.translate([g-.0425*h,p-.005*h]).clipExtent([[g-.135*h+I,p-.1093*h+I],[g-.0397*h-I,p-.027*h-I]]).stream(c),l=o.translate(s).clipExtent([[g-.0399*h+I,p+.0471*h+I],[g+.051*h-I,p+.1114*h-I]]).stream(c),v()},f.fitExtent=function(s,h){return vr(f,s,h)},f.fitSize=function(s,h){return Tr(f,s,h)};function v(){return n=r=null,f}return f.drawCompositionBorders=function(s){var h=e([126.01320483689143,41.621090310215585]),g=e([133.04304387025903,42.15087523707186]),p=e([133.3021766080688,37.43975444725098]),d=e([126.87889168628224,36.95488945159779]),S=e([132.9,29.8]),m=e([134,33]),y=e([139.3,33.2]),E=e([139.16,30.5]);s.moveTo(h[0],h[1]),s.lineTo(g[0],g[1]),s.lineTo(p[0],p[1]),s.lineTo(d[0],d[1]),s.closePath(),s.moveTo(S[0],S[1]),s.lineTo(m[0],m[1]),s.lineTo(y[0],y[1]),s.lineTo(E[0],E[1])},f.getCompositionBorders=function(){var s=hr();return this.drawCompositionBorders(s),s.toString()},f.scale(2200)}function r9(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function e9(){var n,r,e=cr().rotate([-3,-46.2]).parallels([0,60]),t,i=Pn().center([-53.2,3.9]),a,o=Pn().center([-61.03,14.67]),l,u=Pn().center([-61.46,16.14]),c,f=Pn().center([-62.85,17.92]),v,s=Pn().center([-56.23,46.93]),h,g=Pn().center([45.16,-12.8]),p,d=Pn().center([55.52,-21.13]),S,m=Pn().center([165.8,-21.07]),y,E=Pn().center([-178.1,-14.3]),$,T=Pn().center([-150.55,-17.11]),k,P=Pn().center([-150.55,-17.11]),R,C,b={point:function(_,w){C=[_,w]}};function L(_){var w=_[0],M=_[1];return C=null,t.point(w,M),C||(a.point(w,M),C)||(l.point(w,M),C)||(c.point(w,M),C)||(v.point(w,M),C)||(h.point(w,M),C)||(p.point(w,M),C)||(S.point(w,M),C)||(y.point(w,M),C)||($.point(w,M),C)||(k.point(w,M),C)||(R.point(w,M),C)}L.invert=function(_){var w=e.scale(),M=e.translate(),x=(_[0]-M[0])/w,N=(_[1]-M[1])/w;return(N>=.029&&N<.0864&&x>=-.14&&x<-.0996?i:N>=0&&N<.029&&x>=-.14&&x<-.0996?o:N>=-.032&&N<0&&x>=-.14&&x<-.0996?u:N>=-.052&&N<-.032&&x>=-.14&&x<-.0996?f:N>=-.076&&N<.052&&x>=-.14&&x<-.0996?s:N>=-.076&&N<-.052&&x>=.0967&&x<.1371?g:N>=-.052&&N<-.02&&x>=.0967&&x<.1371?d:N>=-.02&&N<.012&&x>=.0967&&x<.1371?m:N>=.012&&N<.033&&x>=.0967&&x<.1371?E:N>=.033&&N<.0864&&x>=.0967&&x<.1371?T:e).invert(_)},L.stream=function(_){return n&&r===_?n:n=r9([e.stream(r=_),i.stream(_),o.stream(_),u.stream(_),f.stream(_),s.stream(_),g.stream(_),d.stream(_),m.stream(_),E.stream(_),T.stream(_),P.stream(_)])},L.precision=function(_){return arguments.length?(e.precision(_),i.precision(_),o.precision(_),u.precision(_),f.precision(_),s.precision(_),g.precision(_),d.precision(_),m.precision(_),E.precision(_),T.precision(_),P.precision(_),z()):e.precision()},L.scale=function(_){return arguments.length?(e.scale(_),i.scale(_*.6),o.scale(_*1.6),u.scale(_*1.4),f.scale(_*5),s.scale(_*1.3),g.scale(_*1.6),d.scale(_*1.2),m.scale(_*.3),E.scale(_*2.7),T.scale(_*.5),P.scale(_*.06),L.translate(e.translate())):e.scale()},L.translate=function(_){if(!arguments.length)return e.translate();var w=e.scale(),M=+_[0],x=+_[1];return t=e.translate(_).clipExtent([[M-.0996*w,x-.0908*w],[M+.0967*w,x+.0864*w]]).stream(b),a=i.translate([M-.12*w,x+.0575*w]).clipExtent([[M-.14*w+I,x+.029*w+I],[M-.0996*w-I,x+.0864*w-I]]).stream(b),l=o.translate([M-.12*w,x+.013*w]).clipExtent([[M-.14*w+I,x+0*w+I],[M-.0996*w-I,x+.029*w-I]]).stream(b),c=u.translate([M-.12*w,x-.014*w]).clipExtent([[M-.14*w+I,x-.032*w+I],[M-.0996*w-I,x+0*w-I]]).stream(b),v=f.translate([M-.12*w,x-.044*w]).clipExtent([[M-.14*w+I,x-.052*w+I],[M-.0996*w-I,x-.032*w-I]]).stream(b),h=s.translate([M-.12*w,x-.065*w]).clipExtent([[M-.14*w+I,x-.076*w+I],[M-.0996*w-I,x-.052*w-I]]).stream(b),p=g.translate([M+.117*w,x-.064*w]).clipExtent([[M+.0967*w+I,x-.076*w+I],[M+.1371*w-I,x-.052*w-I]]).stream(b),S=d.translate([M+.116*w,x-.0355*w]).clipExtent([[M+.0967*w+I,x-.052*w+I],[M+.1371*w-I,x-.02*w-I]]).stream(b),y=m.translate([M+.116*w,x-.0048*w]).clipExtent([[M+.0967*w+I,x-.02*w+I],[M+.1371*w-I,x+.012*w-I]]).stream(b),$=E.translate([M+.116*w,x+.022*w]).clipExtent([[M+.0967*w+I,x+.012*w+I],[M+.1371*w-I,x+.033*w-I]]).stream(b),R=P.translate([M+.11*w,x+.045*w]).clipExtent([[M+.0967*w+I,x+.033*w+I],[M+.1371*w-I,x+.06*w-I]]).stream(b),k=T.translate([M+.115*w,x+.075*w]).clipExtent([[M+.0967*w+I,x+.06*w+I],[M+.1371*w-I,x+.0864*w-I]]).stream(b),z()},L.fitExtent=function(_,w){return vr(L,_,w)},L.fitSize=function(_,w){return Tr(L,_,w)};function z(){return n=r=null,L}return L.drawCompositionBorders=function(_){var w,M,x,N;w=e([-7.938886725111036,43.7219460918835]),M=e([-4.832080896458295,44.12930268549372]),x=e([-4.205299743793263,40.98096346967365]),N=e([-7.071796453126152,40.610037319181444]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([-8.42751373617692,45.32889452553031]),M=e([-5.18599305777107,45.7566442062976]),x=e([-4.832080905154431,44.129302726751426]),N=e([-7.938886737126192,43.72194613263854]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([-9.012656899657046,47.127733821030176]),M=e([-5.6105244772793155,47.579777861410626]),x=e([-5.185993067168585,45.756644248170346]),N=e([-8.427513749141811,45.32889456686326]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([-9.405747558985553,48.26506375557457]),M=e([-5.896175018439575,48.733352850851624]),x=e([-5.610524487556043,47.57977790393761]),N=e([-9.012656913808351,47.127733862971255]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([-9.908436061346974,49.642448789505856]),M=e([-6.262026716233124,50.131426841787174]),x=e([-5.896175029331232,48.73335289377258]),N=e([-9.40574757396393,48.26506379787767]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([11.996907706504462,50.16039028163579]),M=e([15.649907879773343,49.68279246765253]),x=e([15.156712840526632,48.30371557625831]),N=e([11.64122661754411,48.761078240546816]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([11.641226606955788,48.7610781975889]),M=e([15.156712825832164,48.30371553390465]),x=e([14.549932166241172,46.4866532486199]),N=e([11.204443787952183,46.91899233914248]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([11.204443778297161,46.918992296823646]),M=e([14.549932152815039,46.486653206856396]),x=e([13.994409796764009,44.695833444323256]),N=e([10.805306599253848,45.105133870684924]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([10.805306590412085,45.10513382903308]),M=e([13.99440978444733,44.695833403183606]),x=e([13.654633799024392,43.53552468558152]),N=e([10.561516803980956,43.930671459798624]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([10.561516795617383,43.93067141859757]),M=e([13.654633787361952,43.5355246448671]),x=e([12.867691604239901,40.640701985019405]),N=e([9.997809515987688,41.00288343254471]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([10.8,42.4]),M=e([12.8,42.13]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1])},L.getCompositionBorders=function(){var _=hr();return this.drawCompositionBorders(_),_.toString()},L.scale(2700)}function t9(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function i9(){var n,r,e=cr().rotate([-10,-53]).parallels([0,60]),t,i=Pn().center([-61.46,16.14]),a,o=Pn().center([-53.2,3.9]),l,u=cr().rotate([27.8,-38.9]).parallels([0,60]),c,f=cr().rotate([25.43,-37.398]).parallels([0,60]),v,s=cr().rotate([31.17,-39.539]).parallels([0,60]),h,g=cr().rotate([17,-32.7]).parallels([0,60]),p,d=cr().rotate([16,-28.5]).parallels([0,60]),S,m=Pn().center([-61.03,14.67]),y,E=Pn().center([45.16,-12.8]),$,T=Pn().center([55.52,-21.13]),k,P=cr().rotate([-14.4,-35.95]).parallels([0,60]),R,C,b={point:function(_,w){C=[_,w]}};function L(_){var w=_[0],M=_[1];return C=null,t.point(w,M),C||(l.point(w,M),C)||(y.point(w,M),C)||(a.point(w,M),C)||(S.point(w,M),C)||(p.point(w,M),C)||($.point(w,M),C)||(k.point(w,M),C)||(R.point(w,M),C)||(c.point(w,M),C)||(v.point(w,M),C)||(h.point(w,M),C)}L.invert=function(_){var w=e.scale(),M=e.translate(),x=(_[0]-(M[0]+.08*w))/w,N=(_[1]-M[1])/w;return(N>=-.31&&N<-.24&&x>=.14&&x<.24?i:N>=-.24&&N<-.17&&x>=.14&&x<.24?o:N>=-.17&&N<-.12&&x>=.21&&x<.24?f:N>=-.17&&N<-.14&&x>=.14&&x<.165?s:N>=-.17&&N<-.1&&x>=.14&&x<.24?u:N>=-.1&&N<-.03&&x>=.14&&x<.24?g:N>=-.03&&N<.04&&x>=.14&&x<.24?d:N>=-.31&&N<-.24&&x>=.24&&x<.34?m:N>=-.24&&N<-.17&&x>=.24&&x<.34?E:N>=-.17&&N<-.1&&x>=.24&&x<.34?T:N>=-.1&&N<-.03&&x>=.24&&x<.34?P:e).invert(_)},L.stream=function(_){return n&&r===_?n:n=t9([e.stream(r=_),o.stream(_),m.stream(_),i.stream(_),d.stream(_),g.stream(_),E.stream(_),T.stream(_),P.stream(_),u.stream(_),f.stream(_),s.stream(_)])},L.precision=function(_){return arguments.length?(e.precision(_),o.precision(_),m.precision(_),i.precision(_),d.precision(_),g.precision(_),E.precision(_),T.precision(_),P.precision(_),u.precision(_),f.precision(_),s.precision(_),z()):e.precision()},L.scale=function(_){return arguments.length?(e.scale(_),i.scale(_*3),o.scale(_*.8),m.scale(_*3.5),T.scale(_*2.7),u.scale(_*2),f.scale(_*2),s.scale(_*2),g.scale(_*3),d.scale(_),E.scale(_*5.5),P.scale(_*6),L.translate(e.translate())):e.scale()},L.translate=function(_){if(!arguments.length)return e.translate();var w=e.scale(),M=+_[0],x=+_[1];return t=e.translate([M-.08*w,x]).clipExtent([[M-.51*w,x-.33*w],[M+.5*w,x+.33*w]]).stream(b),a=i.translate([M+.19*w,x-.275*w]).clipExtent([[M+.14*w+I,x-.31*w+I],[M+.24*w-I,x-.24*w-I]]).stream(b),l=o.translate([M+.19*w,x-.205*w]).clipExtent([[M+.14*w+I,x-.24*w+I],[M+.24*w-I,x-.17*w-I]]).stream(b),c=u.translate([M+.19*w,x-.135*w]).clipExtent([[M+.14*w+I,x-.17*w+I],[M+.24*w-I,x-.1*w-I]]).stream(b),v=f.translate([M+.225*w,x-.147*w]).clipExtent([[M+.21*w+I,x-.17*w+I],[M+.24*w-I,x-.12*w-I]]).stream(b),h=s.translate([M+.153*w,x-.15*w]).clipExtent([[M+.14*w+I,x-.17*w+I],[M+.165*w-I,x-.14*w-I]]).stream(b),p=g.translate([M+.19*w,x-.065*w]).clipExtent([[M+.14*w+I,x-.1*w+I],[M+.24*w-I,x-.03*w-I]]).stream(b),S=d.translate([M+.19*w,x+.005*w]).clipExtent([[M+.14*w+I,x-.03*w+I],[M+.24*w-I,x+.04*w-I]]).stream(b),y=m.translate([M+.29*w,x-.275*w]).clipExtent([[M+.24*w+I,x-.31*w+I],[M+.34*w-I,x-.24*w-I]]).stream(b),$=E.translate([M+.29*w,x-.205*w]).clipExtent([[M+.24*w+I,x-.24*w+I],[M+.34*w-I,x-.17*w-I]]).stream(b),k=T.translate([M+.29*w,x-.135*w]).clipExtent([[M+.24*w+I,x-.17*w+I],[M+.34*w-I,x-.1*w-I]]).stream(b),R=P.translate([M+.29*w,x-.065*w]).clipExtent([[M+.24*w+I,x-.1*w+I],[M+.34*w-I,x-.03*w-I]]).stream(b),z()},L.fitExtent=function(_,w){return vr(L,_,w)},L.fitSize=function(_,w){return Tr(L,_,w)};function z(){return n=r=null,L}return L.drawCompositionBorders=function(_){var w,M,x,N;w=e([42.45755610828648,63.343658547914934]),M=e([52.65837266667029,59.35045080290929]),x=e([47.19754502247785,56.12653496548117]),N=e([37.673034273363044,59.61638268506111]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([59.41110754003403,62.35069727399336]),M=e([66.75050228640794,57.11797303636038]),x=e([60.236065725110436,54.63331433818992]),N=e([52.65837313153311,59.350450804599355]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([48.81091130080243,66.93353402634641]),M=e([59.41110730654679,62.35069740653086]),x=e([52.6583728974441,59.3504509222445]),N=e([42.45755631675751,63.34365868805821]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([31.054198418446475,52.1080673766184]),M=e([39.09869284884117,49.400700047190554]),x=e([36.0580811499175,46.02944174908498]),N=e([28.690508588835726,48.433126979386415]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([33.977877745912025,55.849945501331]),M=e([42.75328432167726,52.78455122462353]),x=e([39.09869297540224,49.400700176148625]),N=e([31.05419851807008,52.10806751810923]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([52.658372900759296,59.35045068526415]),M=e([60.23606549583304,54.63331423800264]),x=e([54.6756370953122,51.892298789399455]),N=e([47.19754524788189,56.126534861222794]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([47.19754506082455,56.126534735591456]),M=e([54.675636900123514,51.892298681337095]),x=e([49.94448648951486,48.98775484983285]),N=e([42.75328468716108,52.78455126060818]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([42.75328453416769,52.78455113209101]),M=e([49.94448632339758,48.98775473706457]),x=e([45.912339990394315,45.99361784987003]),N=e([39.09869317356607,49.40070009378711]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([37.673034114296634,59.61638254183119]),M=e([47.197544835420544,56.126534839849846]),x=e([42.75328447467064,52.78455135314068]),N=e([33.977877870363905,55.849945644671145]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([44.56748486446032,57.26489367845818]),x=e([43.9335791193588,53.746540942601726]),N=e([43,56]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath(),w=e([37.673034114296634,59.61638254183119]),M=e([40.25902691953466,58.83002044222639]),x=e([38.458270492742024,57.26232178028002]),N=e([35.97754948030156,58.00266637992386]),_.moveTo(w[0],w[1]),_.lineTo(M[0],M[1]),_.lineTo(x[0],x[1]),_.lineTo(N[0],N[1]),_.closePath()},L.getCompositionBorders=function(){var _=hr();return this.drawCompositionBorders(_),_.toString()},L.scale(750)}function a9(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function o9(){var n,r,e=cr().rotate([-5.5,-52.2]).parallels([0,60]),t,i=Pn().center([-68.25,12.2]),a,o=Pn().center([-63.1,17.5]),l,u,c={point:function(s,h){u=[s,h]}};function f(s){const[h,g]=s;return u=null,t.point(h,g),u||(a.point(h,g),u)||(l.point(h,g),u)}f.invert=function(s){var h=e.scale(),g=e.translate(),p=(s[0]-g[0])/h,d=(s[1]-g[1])/h;return(d>=-.0067&&d<.0015&&p>=-.0232&&p<-.0154?i:d>=-.022&&d<-.014&&p>=-.023&&p<-.014?o:e).invert(s)},f.stream=function(s){return n&&r===s?n:n=a9([e.stream(r=s),i.stream(s),o.stream(s)])},f.precision=function(s){return arguments.length?(e.precision(s),i.precision(s),o.precision(s),v()):e.precision()},f.scale=function(s){return arguments.length?(e.scale(s),i.scale(s),o.scale(s),f.translate(e.translate())):e.scale()},f.translate=function(s){if(!arguments.length)return e.translate();const h=e.scale(),g=+s[0],p=+s[1];return t=e.translate(s).clipExtent([[g-.0245*h,p-.026*h],[g+.023*h,p+.026*h]]).stream(c),a=i.translate([g-.0186*h,p-.00325*h]).clipExtent([[g-.0232*h+I,p-.0067*h+I],[g-.0154*h-I,p+.0015*h-I]]).stream(c),l=o.translate([g-.0185*h,p-.017*h]).clipExtent([[g-.023*h+I,p-.022*h+I],[g-.014*h-I,p-.014*h-I]]).stream(c),v()},f.fitExtent=function(s,h){return vr(f,s,h)},f.fitSize=function(s,h){return Tr(f,s,h)};function v(){return n=r=null,f}return f.drawCompositionBorders=function(s){var h=e([3.30573,52.5562]),g=e([4.043,52.572]),p=e([4.0646,52.1017]),d=e([3.3382,52.0861]),S=e([3.262,53.439]),m=e([4.1373,53.4571]),y=e([4.1574,52.9946]),E=e([3.2951,52.9768]);s.moveTo(h[0],h[1]),s.lineTo(g[0],g[1]),s.lineTo(p[0],p[1]),s.lineTo(p[0],p[1]),s.lineTo(d[0],d[1]),s.closePath(),s.moveTo(S[0],S[1]),s.lineTo(m[0],m[1]),s.lineTo(y[0],y[1]),s.lineTo(y[0],y[1]),s.lineTo(E[0],E[1]),s.closePath()},f.getCompositionBorders=function(){var s=hr();return this.drawCompositionBorders(s),s.toString()},f.scale(4200)}function u9(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function f9(){var n,r,e=Pn().center([105.25,4]),t,i=Pn().center([118.65,2.86]),a,o,l={point:function(f,v){o=[f,v]}};function u(f){var v=f[0],s=f[1];return o=null,t.point(v,s),o||(a.point(v,s),o)}u.invert=function(f){var v=e.scale(),s=e.translate(),h=(f[0]-s[0])/v,g=(f[1]-s[1])/v;return(g>=-.0521&&g<.0229&&h>=-.0111&&h<.1?i:e).invert(f)},u.stream=function(f){return n&&r===f?n:n=u9([e.stream(r=f),i.stream(f)])},u.precision=function(f){return arguments.length?(e.precision(f),i.precision(f),c()):e.precision()},u.scale=function(f){return arguments.length?(e.scale(f),i.scale(f*.615),u.translate(e.translate())):e.scale()},u.translate=function(f){if(!arguments.length)return e.translate();var v=e.scale(),s=+f[0],h=+f[1];return t=e.translate(f).clipExtent([[s-.11*v,h-.0521*v],[s-.0111*v,h+.0521*v]]).stream(l),a=i.translate([s+.09*v,h-0*v]).clipExtent([[s-.0111*v+I,h-.0521*v+I],[s+.1*v-I,h+.024*v-I]]).stream(l),c()},u.fitExtent=function(f,v){return vr(u,f,v)},u.fitSize=function(f,v){return Tr(u,f,v)};function c(){return n=r=null,u}return u.drawCompositionBorders=function(f){var v=e([106.3214,2.0228]),s=e([105.1843,2.3761]),h=e([104.2151,3.3618]),g=e([104.215,4.5651]);f.moveTo(v[0],v[1]),f.lineTo(s[0],s[1]),f.lineTo(h[0],h[1]),f.lineTo(g[0],g[1])},u.getCompositionBorders=function(){var f=hr();return this.drawCompositionBorders(f),f.toString()},u.scale(4800)}function l9(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function s9(){var n,r,e=Pn().rotate([-9.5,-1.5]),t,i=Pn().rotate([-8.6,-3.5]),a,o=Pn().rotate([-5.6,1.45]),l,u,c={point:function(s,h){u=[s,h]}};function f(s){var h=s[0],g=s[1];return u=null,t.point(h,g),u||(a.point(h,g),u)||(l.point(h,g),u)}f.invert=function(s){var h=e.scale(),g=e.translate(),p=(s[0]-g[0])/h,d=(s[1]-g[1])/h;return(d>=-.02&&d<0&&p>=-.038&&p<-.005?i:d>=0&&d<.02&&p>=-.038&&p<-.005?o:e).invert(s)},f.stream=function(s){return n&&r===s?n:n=l9([e.stream(r=s),i.stream(s),o.stream(s)])},f.precision=function(s){return arguments.length?(e.precision(s),i.precision(s),o.precision(s),v()):e.precision()},f.scale=function(s){return arguments.length?(e.scale(s),i.scale(s*1.5),o.scale(s*4),f.translate(e.translate())):e.scale()},f.translate=function(s){if(!arguments.length)return e.translate();var h=e.scale(),g=+s[0],p=+s[1];return t=e.translate(s).clipExtent([[g-.005*h,p-.02*h],[g+.038*h,p+.02*h]]).stream(c),a=i.translate([g-.025*h,p-.01*h]).clipExtent([[g-.038*h+I,p-.02*h+I],[g-.005*h-I,p+0*h-I]]).stream(c),l=o.translate([g-.025*h,p+.01*h]).clipExtent([[g-.038*h+I,p-0*h+I],[g-.005*h-I,p+.02*h-I]]).stream(c),v()},f.fitExtent=function(s,h){return vr(f,s,h)},f.fitSize=function(s,h){return Tr(f,s,h)};function v(){return n=r=null,f}return f.drawCompositionBorders=function(s){var h,g,p,d;h=e([9.21327272751682,2.645820439454123]),g=e([11.679126293239872,2.644755519268689]),p=e([11.676845389029227,.35307824637606433]),d=e([9.213572917774014,.35414205204417754]),s.moveTo(h[0],h[1]),s.lineTo(g[0],g[1]),s.lineTo(p[0],p[1]),s.lineTo(d[0],d[1]),s.closePath(),h=e([7.320873711543669,2.64475551449975]),g=e([9.213272722738658,2.645820434679803]),p=e([9.213422896480349,1.4999812505283054]),d=e([7.322014760520787,1.4989168878985566]),s.moveTo(h[0],h[1]),s.lineTo(g[0],g[1]),s.lineTo(p[0],p[1]),s.lineTo(d[0],d[1]),s.closePath(),h=e([7.3220147605302905,1.4989168783492766]),g=e([9.213422896481598,1.499981240979021]),p=e([9.213572912999604,.354142056817247]),d=e([7.323154615739809,.353078251154504]),s.moveTo(h[0],h[1]),s.lineTo(g[0],g[1]),s.lineTo(p[0],p[1]),s.lineTo(d[0],d[1]),s.closePath()},f.getCompositionBorders=function(){var s=hr();return this.drawCompositionBorders(s),s.toString()},f.scale(12e3)}function c9(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function v9(){var n,r,e=Fo().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),t,i=Fo().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),a,o,l={point:function(f,v){o=[f,v]}};function u(f){var v=f[0],s=f[1];return o=null,t.point(v,s),o||(a.point(v,s),o)}u.invert=function(f){var v=e.scale(),s=e.translate(),h=(f[0]-s[0])/v,g=(f[1]-s[1])/v;return(g>=-.089&&g<.06&&h>=.029&&h<.046?i:e).invert(f)},u.stream=function(f){return n&&r===f?n:n=c9([e.stream(r=f),i.stream(f)])},u.precision=function(f){return arguments.length?(e.precision(f),i.precision(f),c()):e.precision()},u.scale=function(f){return arguments.length?(e.scale(f),i.scale(f),u.translate(e.translate())):e.scale()},u.translate=function(f){if(!arguments.length)return e.translate();var v=e.scale(),s=+f[0],h=+f[1];return t=e.translate(f).clipExtent([[s-.065*v,h-.089*v],[s+.075*v,h+.089*v]]).stream(l),a=i.translate([s+.01*v,h+.025*v]).clipExtent([[s+.029*v+I,h-.089*v+I],[s+.046*v-I,h-.06*v-I]]).stream(l),c()},u.fitExtent=function(f,v){return vr(u,f,v)},u.fitSize=function(f,v){return Tr(u,f,v)};function c(){return n=r=null,u}return u.drawCompositionBorders=function(f){var v,s,h,g;v=e([-1.113205870242365,59.64920050773357]),s=e([.807899092399606,59.59085836472269]),h=e([.5778611961420386,57.93467822832577]),g=e([-1.25867782078448,57.99029450085142]),f.moveTo(v[0],v[1]),f.lineTo(s[0],s[1]),f.lineTo(h[0],h[1]),f.lineTo(g[0],g[1]),f.closePath()},u.getCompositionBorders=function(){var f=hr();return this.drawCompositionBorders(f),f.toString()},u.scale(2800)}var h9=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",geoAlbersUsa:G4,geoAlbersUsaTerritories:H4,geoConicConformalSpain:V4,geoConicConformalPortugal:X4,geoMercatorEcuador:J4,geoTransverseMercatorChile:Z4,geoConicEquidistantJapan:n9,geoConicConformalFrance:e9,geoConicConformalEurope:i9,geoConicConformalNetherlands:o9,geoMercatorMalaysia:f9,geoMercatorEquatorialGuinea:s9,geoAlbersUk:v9}),g9=Xr(h9);Object.defineProperty(Ro,"__esModule",{value:!0});var Rs=ln.exports,pg=Z,ks=Rs.__importStar(ti),bs=Rs.__importStar(qh),Cs=Rs.__importStar(g9);Ro.default=function(n,r){if(r===void 0&&(r=!1),pg.isFunction(n))return r?n:n();if(pg.isString(n)){if(ks[n])return r?ks[n]:ks[n]();if(bs[n])return r?bs[n]:bs[n]();if(Cs[n])return r?Cs[n]:Cs[n]()}return null};Object.defineProperty(Dm,"__esModule",{value:!0});var p9=ln.exports,d9=Z,he=ti,dg=qh,m9=Re,mi=p9.__importDefault(Ro),y9={geoArea:function(n){return he.geoArea(n)},geoAreaByName:function(n){return he.geoArea(this.geoFeatureByName(n))},geoCentroid:function(n){return he.geoCentroid(n)},geoCentroidByName:function(n){return he.geoCentroid(this.geoFeatureByName(n))},geoDistance:function(n,r){return he.geoDistance(n,r)},geoLength:function(n){return he.geoLength(n)},geoLengthByName:function(n){return he.geoLength(this.geoFeatureByName(n))},geoContains:function(n,r){return he.geoContains(n,r)},geoFeatureByName:function(n){var r=this.rows,e;return r.some(function(t){return t.name===n?(e=t,!0):!1}),e},geoFeatureByPosition:function(n){var r=this.rows,e;return r.some(function(t){return he.geoContains(t,n)?(e=t,!0):!1}),e},geoNameByPosition:function(n){var r=this.geoFeatureByPosition(n);if(r)return r.name},getGeoProjection:mi.default,geoProject:function(n,r,e){return r=mi.default(r,e),dg.geoProject(n,r)},geoProjectByName:function(n,r,e){return r=mi.default(r,e),dg.geoProject(this.geoFeatureByName(n),r)},geoProjectPosition:function(n,r,e){var t=mi.default(r,e);return t(n)},geoProjectInvert:function(n,r,e){var t=mi.default(r,e);return t.invert(n)}};d9.assign(m9.View.prototype,y9);var w9={};Object.defineProperty(w9,"__esModule",{value:!0});var mg=Z,Ls=Re;mg.assign(Ls.View.prototype,{getAllNodes:function(){var n=[],r=this.root;return r&&r.each?r.each(function(e){n.push(e)}):r&&r.eachNode&&r.eachNode(function(e){n.push(e)}),n},getAllLinks:function(){for(var n=[],r=[this.root],e;e=r.pop();){var t=e.children;t&&t.forEach(function(i){n.push({source:e,target:i}),r.push(i)})}return n}});mg.assign(Ls.View.prototype,{getAllEdges:Ls.View.prototype.getAllLinks});var E9={},Mr={},Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});var Is=Z;function S9(n,r){r===void 0&&(r=[]);var e=void 0;return Is.isFunction(r)?e=r:Is.isArray(r)?e=function(t,i){for(var a=0;a<r.length;a++){var o=r[a];if(t[o]<i[o])return-1;if(t[o]>i[o])return 1}return 0}:Is.isString(r)&&(e=function(t,i){return t[r]<i[r]?-1:t[r]>i[r]?1:0}),n.sort(e)}Ns.default=S9;Object.defineProperty(Mr,"__esModule",{value:!0});var _9=ln.exports,Vo=Z,$9=_9.__importDefault(Ns);Mr.default=function(n,r,e){e===void 0&&(e=[]);var t=n;e&&e.length&&(t=$9.default(n,e));var i;Vo.isFunction(r)?i=r:Vo.isArray(r)?i=function(o){return"_"+r.map(function(l){return o[l]}).join("-")}:Vo.isString(r)&&(i=function(o){return"_"+o[r]});var a=Vo.groupBy(t,i);return a};Object.defineProperty(E9,"__esModule",{value:!0});var T9=ln.exports,yg=Z,M9=T9.__importDefault(Mr),P9=Re;yg.assign(P9.View.prototype,{partition:function(n,r){return r===void 0&&(r=[]),M9.default(this.rows,n,r)},group:function(n,r){r===void 0&&(r=[]);var e=this.partition(n,r);return yg.values(e)},groups:function(n,r){return r===void 0&&(r=[]),this.group(n,r)}});var x9={};function R9(n){var r,e,t=n.length;if(t===1)r=0,e=n[0][1];else{for(var i,a,o,l=0,u=0,c=0,f=0,v=0;v<t;v++)l+=a=(i=n[v])[0],u+=o=i[1],c+=a*a,f+=a*o;e=u/t-(r=(t*f-l*u)/(t*c-l*l))*l/t}return{m:r,b:e}}function k9(n){return function(r){return n.b+n.m*r}}function wg(n){if(n.length===0)return 0;for(var r,e=n[0],t=0,i=1;i<n.length;i++)r=e+n[i],Math.abs(e)>=Math.abs(n[i])?t+=e-r+n[i]:t+=n[i]-r+e,e=r;return e+t}function ur(n){if(n.length===0)throw new Error("mean requires at least one data point");return wg(n)/n.length}function As(n,r){var e,t,i=ur(n),a=0;if(r===2)for(t=0;t<n.length;t++)a+=(e=n[t]-i)*e;else for(t=0;t<n.length;t++)a+=Math.pow(n[t]-i,r);return a}function Eg(n){if(n.length===0)throw new Error("variance requires at least one data point");return As(n,2)/n.length}function Sg(n){if(n.length===1)return 0;var r=Eg(n);return Math.sqrt(r)}function b9(n,r){if(n.length<2)return 1;for(var e=0,t=0;t<n.length;t++)e+=n[t][1];for(var i=e/n.length,a=0,o=0;o<n.length;o++)a+=Math.pow(i-n[o][1],2);for(var l=0,u=0;u<n.length;u++)l+=Math.pow(n[u][1]-r(n[u][0]),2);return 1-l/a}function _g(n){if(n.length===0)throw new Error("mode requires at least one data point");if(n.length===1)return n[0];for(var r=n[0],e=NaN,t=0,i=1,a=1;a<n.length+1;a++)n[a]!==r?(i>t&&(t=i,e=r),i=1,r=n[a]):i++;return e}function jo(n){return n.slice().sort(function(r,e){return r-e})}function C9(n){return _g(jo(n))}function L9(n){for(var r,e=new Map,t=0,i=0;i<n.length;i++){var a=e.get(n[i]);a===void 0?a=1:a++,a>t&&(r=n[i],t=a),e.set(n[i],a)}if(t===0)throw new Error("mode requires at last one data point");return r}function $g(n){if(n.length===0)throw new Error("min requires at least one data point");for(var r=n[0],e=1;e<n.length;e++)n[e]<r&&(r=n[e]);return r}function Tg(n){if(n.length===0)throw new Error("max requires at least one data point");for(var r=n[0],e=1;e<n.length;e++)n[e]>r&&(r=n[e]);return r}function N9(n){if(n.length===0)throw new Error("extent requires at least one data point");for(var r=n[0],e=n[0],t=1;t<n.length;t++)n[t]>e&&(e=n[t]),n[t]<r&&(r=n[t]);return[r,e]}function I9(n){return n[0]}function A9(n){return n[n.length-1]}function D9(n){return[n[0],n[n.length-1]]}function O9(n){for(var r=0,e=0;e<n.length;e++)r+=n[e];return r}function q9(n){for(var r=1,e=0;e<n.length;e++)r*=n[e];return r}function Xo(n,r){var e=n.length*r;if(n.length===0)throw new Error("quantile requires at least one data point.");if(r<0||r>1)throw new Error("quantiles must be between 0 and 1");return r===1?n[n.length-1]:r===0?n[0]:e%1!=0?n[Math.ceil(e)-1]:n.length%2==0?(n[e-1]+n[e])/2:n[e]}function yi(n,r,e,t){for(e=e||0,t=t||n.length-1;t>e;){if(t-e>600){var i=t-e+1,a=r-e+1,o=Math.log(i),l=.5*Math.exp(2*o/3),u=.5*Math.sqrt(o*l*(i-l)/i);a-i/2<0&&(u*=-1),yi(n,r,Math.max(e,Math.floor(r-a*l/i+u)),Math.min(t,Math.floor(r+(i-a)*l/i+u)))}var c=n[r],f=e,v=t;for(wi(n,e,r),n[t]>c&&wi(n,e,t);f<v;){for(wi(n,f,v),f++,v--;n[f]<c;)f++;for(;n[v]>c;)v--}n[e]===c?wi(n,e,v):wi(n,++v,t),v<=r&&(e=v+1),r<=v&&(t=v-1)}}function wi(n,r,e){var t=n[r];n[r]=n[e],n[e]=t}function Wo(n,r){var e=n.slice();if(Array.isArray(r)){(function(a,o){for(var l=[0],u=0;u<o.length;u++)l.push(Pg(a.length,o[u]));l.push(a.length-1),l.sort(F9);for(var c=[0,l.length-1];c.length;){var f=Math.ceil(c.pop()),v=Math.floor(c.pop());if(!(f-v<=1)){var s=Math.floor((v+f)/2);Mg(a,l[s],Math.floor(l[v]),Math.ceil(l[f])),c.push(v,s,s,f)}}})(e,r);for(var t=[],i=0;i<r.length;i++)t[i]=Xo(e,r[i]);return t}return Mg(e,Pg(e.length,r),0,e.length-1),Xo(e,r)}function Mg(n,r,e,t){r%1==0?yi(n,r,e,t):(yi(n,r=Math.floor(r),e,t),yi(n,r+1,r+1,t))}function F9(n,r){return n-r}function Pg(n,r){var e=n*r;return r===1?n-1:r===0?0:e%1!=0?Math.ceil(e)-1:n%2==0?e-.5:e}function xg(n,r){if(r<n[0])return 0;if(r>n[n.length-1])return 1;var e=function(a,o){for(var l=0,u=0,c=a.length;u<c;)o<=a[l=u+c>>>1]?c=l:u=-~l;return u}(n,r);if(n[e]!==r)return e/n.length;e++;var t=function(a,o){for(var l=0,u=0,c=a.length;u<c;)o>=a[l=u+c>>>1]?u=-~l:c=l;return u}(n,r);if(t===e)return e/n.length;var i=t-e+1;return i*(t+e)/2/i/n.length}function z9(n,r){return xg(jo(n),r)}function Ds(n){var r=Wo(n,.75),e=Wo(n,.25);if(typeof r=="number"&&typeof e=="number")return r-e}function Os(n){return+Wo(n,.5)}function Rg(n){for(var r=Os(n),e=[],t=0;t<n.length;t++)e.push(Math.abs(n[t]-r));return Os(e)}function B9(n,r){var e=[];if(r<1)throw new Error("chunk size must be a positive number");if(Math.floor(r)!==r)throw new Error("chunk size must be an integer");for(var t=0;t<n.length;t+=r)e.push(n.slice(t,t+r));return e}function G9(n,r,e){if(n.length===0)return[];e=e||Math.random;for(var t=n.length,i=[],a=0;a<r;a++){var o=Math.floor(e()*t);i.push(n[o])}return i}function qs(n,r){r=r||Math.random;for(var e,t,i=n.length;i>0;)t=Math.floor(r()*i--),e=n[i],n[i]=n[t],n[t]=e;return n}function kg(n,r){return qs(n.slice().slice(),r)}function U9(n,r,e){return kg(n,e).slice(0,r)}function bg(n){for(var r,e=0,t=0;t<n.length;t++)t!==0&&n[t]===r||(r=n[t],e++);return e}function Cg(n,r){for(var e=[],t=0;t<n;t++){for(var i=[],a=0;a<r;a++)i.push(0);e.push(i)}return e}function Fs(n,r,e,t){var i;if(n>0){var a=(e[r]-e[n-1])/(r-n+1);i=t[r]-t[n-1]-(r-n+1)*a*a}else i=t[r]-e[r]*e[r]/(r+1);return i<0?0:i}function zs(n,r,e,t,i,a,o){if(!(n>r)){var l=Math.floor((n+r)/2);t[e][l]=t[e-1][l-1],i[e][l]=l;var u=e;n>e&&(u=Math.max(u,i[e][n-1]||0)),u=Math.max(u,i[e-1][l]||0);var c,f,v,s=l-1;r<t.length-1&&(s=Math.min(s,i[e][r+1]||0));for(var h=s;h>=u&&!((c=Fs(h,l,a,o))+t[e-1][u-1]>=t[e][l]);--h)(f=Fs(u,l,a,o)+t[e-1][u-1])<t[e][l]&&(t[e][l]=f,i[e][l]=u),u++,(v=c+t[e-1][h-1])<t[e][l]&&(t[e][l]=v,i[e][l]=h);zs(n,l-1,e,t,i,a,o),zs(l+1,r,e,t,i,a,o)}}function H9(n,r){if(r>n.length)throw new Error("cannot generate more classes than there are data values");var e=jo(n);if(bg(e)===1)return[e];var t=Cg(r,e.length),i=Cg(r,e.length);(function(c,f,v){for(var s=f[0].length,h=c[Math.floor(s/2)],g=[],p=[],d=0,S=void 0;d<s;++d)S=c[d]-h,d===0?(g.push(S),p.push(S*S)):(g.push(g[d-1]+S),p.push(p[d-1]+S*S)),f[0][d]=Fs(0,d,g,p),v[0][d]=0;for(var m=1;m<f.length;++m)zs(m<f.length-1?m:s-1,s-1,m,f,v,g,p)})(e,t,i);for(var a=[],o=i[0].length-1,l=i.length-1;l>=0;l--){var u=i[l][o];a[l]=e.slice(u,o+1),l>0&&(o=u-1)}return a}function Y9(n,r){if(n.length<2)return n;for(var e=$g(n),t=Tg(n),i=[e],a=(t-e)/r,o=1;o<r;o++)i.push(i[0]+a*o);return i.push(t),i}function Lg(n,r){if(n.length!==r.length)throw new Error("sampleCovariance requires samples with equal lengths");if(n.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var e=ur(n),t=ur(r),i=0,a=0;a<n.length;a++)i+=(n[a]-e)*(r[a]-t);return i/(n.length-1)}function Jo(n){if(n.length<2)throw new Error("sampleVariance requires at least two data points");return As(n,2)/(n.length-1)}function Ko(n){var r=Jo(n);return Math.sqrt(r)}function V9(n,r){return Lg(n,r)/Ko(n)/Ko(r)}function j9(n){if(n.length<3)throw new Error("sampleSkewness requires at least three data points");for(var r,e=ur(n),t=0,i=0,a=0;a<n.length;a++)t+=(r=n[a]-e)*r,i+=r*r*r;var o=Math.sqrt(t/(n.length-1)),l=n.length;return l*i/((l-1)*(l-2)*Math.pow(o,3))}function X9(n){var r=n.length;if(r<4)throw new Error("sampleKurtosis requires at least four data points");for(var e,t=ur(n),i=0,a=0,o=0;o<r;o++)i+=(e=n[o]-t)*e,a+=e*e*e*e;return(r-1)/((r-2)*(r-3))*(r*(r+1)*a/(i*i)-3*(r-1))}function W9(n){for(var r=new Array(n.length),e=[n.slice()],t=0;t<n.length;t++)r[t]=0;for(var i=0;i<n.length;)if(r[i]<i){var a=0;i%2!=0&&(a=r[i]);var o=n[a];n[a]=n[i],n[i]=o,e.push(n.slice()),r[i]++,i=0}else r[i]=0,i++;return e}function Ng(n,r){var e,t,i,a,o=[];for(e=0;e<n.length;e++)if(r===1)o.push([n[e]]);else for(i=Ng(n.slice(e+1,n.length),r-1),t=0;t<i.length;t++)(a=i[t]).unshift(n[e]),o.push(a);return o}function Ig(n,r){for(var e=[],t=0;t<n.length;t++)if(r===1)e.push([n[t]]);else for(var i=Ig(n.slice(t,n.length),r-1),a=0;a<i.length;a++)e.push([n[t]].concat(i[a]));return e}function J9(n,r,e){return n+(e-n)/(r+1)}function Ag(n,r,e,t){return(n*r+e*t)/(r+t)}function K9(n,r,e,t,i,a){var o=Ag(r,e,i,a);return(e*(n+Math.pow(r-o,2))+a*(t+Math.pow(i-o,2)))/(e+a)}function Z9(n){if(n.length===0)throw new Error("geometricMean requires at least one data point");for(var r=1,e=0;e<n.length;e++){if(n[e]<=0)throw new Error("geometricMean requires only positive numbers as input");r*=n[e]}return Math.pow(r,1/n.length)}function Q9(n){if(n.length===0)throw new Error("harmonicMean requires at least one data point");for(var r=0,e=0;e<n.length;e++){if(n[e]<=0)throw new Error("harmonicMean requires only positive numbers as input");r+=1/n[e]}return n.length/r}function nE(n){return Xo(n,.5)}function rE(n,r,e){return(n*r-e)/(r-1)}function Dg(n){if(n.length===0)throw new Error("rootMeanSquare requires at least one data point");for(var r=0,e=0;e<n.length;e++)r+=Math.pow(n[e],2);return Math.sqrt(r/n.length)}function eE(n,r){return(ur(n)-r)/(Sg(n)/Math.sqrt(n.length))}function tE(n,r,e){var t=n.length,i=r.length;if(!t||!i)return null;e||(e=0);var a=ur(n),o=ur(r),l=Jo(n),u=Jo(r);return typeof a=="number"&&typeof o=="number"&&typeof l=="number"&&typeof u=="number"?(a-o-e)/Math.sqrt(((t-1)*l+(i-1)*u)/(t+i-2)*(1/t+1/i)):void 0}function Zo(){this.totalCount=0,this.data={}}function Qo(){this.weights=[],this.bias=0}Zo.prototype.train=function(n,r){for(var e in this.data[r]||(this.data[r]={}),n){var t=n[e];this.data[r][e]===void 0&&(this.data[r][e]={}),this.data[r][e][t]===void 0&&(this.data[r][e][t]=0),this.data[r][e][t]++}this.totalCount++},Zo.prototype.score=function(n){var r,e={};for(var t in n){var i=n[t];for(r in this.data)e[r]={},e[r][t+"_"+i]=this.data[r][t]?(this.data[r][t][i]||0)/this.totalCount:0}var a={};for(r in e)for(var o in a[r]=0,e[r])a[r]+=e[r][o];return a},Qo.prototype.predict=function(n){if(n.length!==this.weights.length)return null;for(var r=0,e=0;e<this.weights.length;e++)r+=this.weights[e]*n[e];return(r+=this.bias)>0?1:0},Qo.prototype.train=function(n,r){if(r!==0&&r!==1)return null;n.length!==this.weights.length&&(this.weights=n,this.bias=1);var e=this.predict(n);if(e!==r){for(var t=r-e,i=0;i<this.weights.length;i++)this.weights[i]+=t*n[i];this.bias+=t}return this};var Ei=1e-4;function Og(n){if(n<0)throw new Error("factorial requires a non-negative value");if(Math.floor(n)!==n)throw new Error("factorial requires an integer input");for(var r=1,e=2;e<=n;e++)r*=e;return r}function qg(n){if(typeof(r=n)=="number"&&isFinite(r)&&Math.floor(r)===r)return n<=0?NaN:Og(n-1);var r;if(--n<0)return Math.PI/(Math.sin(Math.PI*-n)*qg(-n));var e=n+.25;return Math.pow(n/Math.E,n)*Math.sqrt(2*Math.PI*(n+1/6))*(1+1/144/Math.pow(e,2)-1/12960/Math.pow(e,3)-257/207360/Math.pow(e,4)-52/2612736/Math.pow(e,5)+5741173/9405849600/Math.pow(e,6)+37529/18811699200/Math.pow(e,7))}var Fg=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],iE=607/128,aE=Math.log(Math.sqrt(2*Math.PI));function oE(n){if(n<=0)return 1/0;n--;for(var r=Fg[0],e=1;e<15;e++)r+=Fg[e]/(n+e);var t=iE+.5+n;return aE+Math.log(r)-t+(n+.5)*Math.log(t)}function uE(n){if(n<0||n>1)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-n,n]}function fE(n,r){if(!(r<0||r>1||n<=0||n%1!=0)){var e=0,t=0,i=[],a=1;do i[e]=a*Math.pow(r,e)*Math.pow(1-r,n-e),t+=i[e],a=a*(n-++e+1)/e;while(t<1-Ei);return i}}function lE(n){if(!(n<=0)){var r=0,e=0,t=[],i=1;do t[r]=Math.exp(-n)*Math.pow(n,r)/i,e+=t[r],i*=++r;while(e<1-Ei);return t}}var zg={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}};function sE(n,r,e){for(var t=0,i=r(ur(n)),a=[],o=[],l=0;l<n.length;l++)a[n[l]]===void 0&&(a[n[l]]=0),a[n[l]]++;for(var u=0;u<a.length;u++)a[u]===void 0&&(a[u]=0);for(var c in i)c in a&&(o[+c]=i[c]*n.length);for(var f=o.length-1;f>=0;f--)o[f]<3&&(o[f-1]+=o[f],o.pop(),a[f-1]+=a[f],a.pop());for(var v=0;v<a.length;v++)t+=Math.pow(a[v]-o[v],2)/o[v];return zg[a.length-1-1][e]<t}var cE=Math.sqrt(2*Math.PI),Bs={gaussian:function(n){return Math.exp(-.5*n*n)/cE}},Gs={nrd:function(n){var r=Ko(n),e=Ds(n);return typeof e=="number"&&(r=Math.min(r,e/1.34)),1.06*r*Math.pow(n.length,-.2)}};function Bg(n,r,e){var t,i;if(r===void 0)t=Bs.gaussian;else if(typeof r=="string"){if(!Bs[r])throw new Error('Unknown kernel "'+r+'"');t=Bs[r]}else t=r;if(e===void 0)i=Gs.nrd(n);else if(typeof e=="string"){if(!Gs[e])throw new Error('Unknown bandwidth method "'+e+'"');i=Gs[e](n)}else i=e;return function(a){var o=0,l=0;for(o=0;o<n.length;o++)l+=t((a-n[o])/i);return l/i/n.length}}function vE(n,r,e){return(n-r)/e}var hE=Math.sqrt(2*Math.PI);function gE(n){for(var r=n,e=n,t=1;t<15;t++)r+=e*=n*n/(2*t+1);return Math.round(1e4*(.5+r/hE*Math.exp(-n*n/2)))/1e4}for(var Si=[],Us=0;Us<=3.09;Us+=.01)Si.push(gE(Us));function pE(n){var r=Math.abs(n),e=Math.min(Math.round(100*r),Si.length-1);return n>=0?Si[e]:+(1-Si[e]).toFixed(4)}function Gg(n){var r=1/(1+.5*Math.abs(n)),e=r*Math.exp(-Math.pow(n,2)-1.26551223+1.00002368*r+.37409196*Math.pow(r,2)+.09678418*Math.pow(r,3)-.18628806*Math.pow(r,4)+.27886807*Math.pow(r,5)-1.13520398*Math.pow(r,6)+1.48851587*Math.pow(r,7)-.82215223*Math.pow(r,8)+.17087277*Math.pow(r,9));return n>=0?1-e:e-1}function Ug(n){var r=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),e=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*r)+Math.log(1-n*n)/2,2)-Math.log(1-n*n)/r)-(2/(Math.PI*r)+Math.log(1-n*n)/2));return n>=0?e:-e}function dE(n){return n===0?n=Ei:n>=1&&(n=1-Ei),Math.sqrt(2)*Ug(2*n-1)}function mE(n,r,e,t){if(t===void 0&&(t=1e4),e===void 0&&(e="two_side"),e!=="two_side"&&e!=="greater"&&e!=="less")throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var i=ur(n)-ur(r),a=new Array(t),o=n.concat(r),l=Math.floor(o.length/2),u=0;u<t;u++){qs(o);var c=o.slice(0,l),f=o.slice(l,o.length),v=ur(c)-ur(f);a[u]=v}var s=0;if(e==="two_side")for(var h=0;h<=t;h++)Math.abs(a[h])>=Math.abs(i)&&(s+=1);else if(e==="greater")for(var g=0;g<=t;g++)a[g]>=i&&(s+=1);else for(var p=0;p<=t;p++)a[p]<=i&&(s+=1);return s/t}function Hs(n){if(typeof n=="number")return n<0?-1:n===0?0:1;throw new TypeError("not a number")}function yE(n,r,e,t,i){if(typeof n!="function")throw new TypeError("func must be a function");for(var a=0;a<t;a++){var o=(r+e)/2;if(n(o)===0||Math.abs((e-r)/2)<i)return o;Hs(n(o))===Hs(n(r))?r=o:e=o}throw new Error("maximum number of iterations exceeded")}var wE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",linearRegression:R9,linearRegressionLine:k9,standardDeviation:Sg,rSquared:b9,mode:C9,modeFast:L9,modeSorted:_g,min:$g,max:Tg,extent:N9,minSorted:I9,maxSorted:A9,extentSorted:D9,sum:wg,sumSimple:O9,product:q9,quantile:Wo,quantileSorted:Xo,quantileRank:z9,quantileRankSorted:xg,interquartileRange:Ds,iqr:Ds,medianAbsoluteDeviation:Rg,mad:Rg,chunk:B9,sampleWithReplacement:G9,shuffle:kg,shuffleInPlace:qs,sample:U9,ckmeans:H9,uniqueCountSorted:bg,sumNthPowerDeviations:As,equalIntervalBreaks:Y9,sampleCovariance:Lg,sampleCorrelation:V9,sampleVariance:Jo,sampleStandardDeviation:Ko,sampleSkewness:j9,sampleKurtosis:X9,permutationsHeap:W9,combinations:Ng,combinationsReplacement:Ig,addToMean:J9,combineMeans:Ag,combineVariances:K9,geometricMean:Z9,harmonicMean:Q9,average:ur,mean:ur,median:Os,medianSorted:nE,subtractFromMean:rE,rootMeanSquare:Dg,rms:Dg,variance:Eg,tTest:eE,tTestTwoSample:tE,BayesianClassifier:Zo,bayesian:Zo,PerceptronModel:Qo,perceptron:Qo,epsilon:Ei,factorial:Og,gamma:qg,gammaln:oE,bernoulliDistribution:uE,binomialDistribution:fE,poissonDistribution:lE,chiSquaredDistributionTable:zg,chiSquaredGoodnessOfFit:sE,kernelDensityEstimation:Bg,kde:Bg,zScore:vE,cumulativeStdNormalProbability:pE,get standardNormalTable(){return Si},errorFunction:Gg,erf:Gg,inverseErrorFunction:Ug,probit:dE,permutationTest:mE,bisect:yE,quickselect:yi,sign:Hs,numericSort:jo}),ge=Xr(wE),nu={};Object.defineProperty(nu,"__esModule",{value:!0});nu.default=function(n){for(var r=1/n,e=[],t=0;t<=1;t=t+r)e.push(t);return e};var ru={};Object.defineProperty(ru,"__esModule",{value:!0});ru.default={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]};Object.defineProperty(x9,"__esModule",{value:!0});var Ys=ln.exports,Hg=Ys.__importStar(ge),eu=Z,Vs=Re,EE=Ys.__importDefault(nu),SE=Ys.__importDefault(ru),_E=SE.default.STATISTICS_METHODS;function js(n,r){var e=n.getColumn(r);return eu.isArray(e)&&eu.isArray(e[0])&&(e=eu.flattenDeep(e)),e}_E.forEach(function(n){Vs.View.prototype[n]=function(r){return Hg[n](js(this,r))}});var Yg=Hg.quantile;eu.assign(Vs.View.prototype,{average:Vs.View.prototype.mean,quantile:function(n,r){return Yg(js(this,n),r)},quantiles:function(n,r){var e=js(this,n);return r.map(function(t){return Yg(e,t)})},quantilesByFraction:function(n,r){return this.quantiles(n,EE.default(r))},range:function(n){return[this.min(n),this.max(n)]},extent:function(n){return this.range(n)}});var $E={},W={};Object.defineProperty(W,"__esModule",{value:!0});W.DataSet=void 0;var Xs=ln.exports,xt=Z,TE=Xs.__importDefault(ls.exports),tu=Re,Vg=Xs.__importDefault(ru),_i=function(n){Xs.__extends(r,n);function r(e){e===void 0&&(e={state:{}});var t=n.call(this)||this;return t.isDataSet=!0,t._onChangeTimer=null,t.views={},t.state={},t.state=e.state,t}return r.registerConnector=function(e,t){r.connectors[e]=t},r.getConnector=function(e){return r.connectors[e]||r.connectors.default},r.registerTransform=function(e,t){r.transforms[e]=t},r.getTransform=function(e){return r.transforms[e]||r.transforms.default},r.prototype._getUniqueViewName=function(){for(var e=xt.uniqueId("view_");this.views[e];)e=xt.uniqueId("view_");return e},r.prototype.createView=function(e,t){if(xt.isNil(e)&&(e=this._getUniqueViewName()),xt.isObject(e)&&(t=e,e=this._getUniqueViewName()),this.views[e])throw new Error("data view exists: "+e);var i=new tu.View(this,t);return this.views[e]=i,i},r.prototype.getView=function(e){return this.views[e]},r.prototype.setView=function(e,t){this.views[e]=t},r.prototype.setState=function(e,t){var i=this;this.state[e]=t,this._onChangeTimer&&(window.clearTimeout(this._onChangeTimer),this._onChangeTimer=null),this._onChangeTimer=window.setTimeout(function(){i.emit("statechange",e,t)},16)},r.CONSTANTS=Vg.default,r.connectors={},r.transforms={},r.DataSet=r,r.DataView=tu.View,r.View=tu.View,r.version="____DATASET_VERSION____",r}(TE.default);W.DataSet=_i;xt.assign(_i,Vg.default);xt.assign(_i.prototype,{view:_i.prototype.createView});tu.View.DataSet=_i;Object.defineProperty($E,"__esModule",{value:!0});var jg=Z,ME=W;ME.DataSet.registerConnector("default",function(n,r){var e;if(jg.isString(n)?e=r.getView(n):e=n,!e)throw new TypeError("Invalid dataView");return jg.deepMix([],e.rows)});var PE={},Xg={},Ws={},Js=34,$i=10,Ks=13;function Wg(n){return new Function("d","return {"+n.map(function(r,e){return JSON.stringify(r)+": d["+e+'] || ""'}).join(",")+"}")}function xE(n,r){var e=Wg(n);return function(t,i){return r(e(t),i,n)}}function Jg(n){var r=Object.create(null),e=[];return n.forEach(function(t){for(var i in t)i in r||e.push(r[i]=i)}),e}function gr(n,r){var e=n+"",t=e.length;return t<r?new Array(r-t+1).join(0)+e:e}function RE(n){return n<0?"-"+gr(-n,6):n>9999?"+"+gr(n,6):gr(n,4)}function kE(n){var r=n.getUTCHours(),e=n.getUTCMinutes(),t=n.getUTCSeconds(),i=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":RE(n.getUTCFullYear())+"-"+gr(n.getUTCMonth()+1,2)+"-"+gr(n.getUTCDate(),2)+(i?"T"+gr(r,2)+":"+gr(e,2)+":"+gr(t,2)+"."+gr(i,3)+"Z":t?"T"+gr(r,2)+":"+gr(e,2)+":"+gr(t,2)+"Z":e||r?"T"+gr(r,2)+":"+gr(e,2)+"Z":"")}function Zs(n){var r=new RegExp('["'+n+`
\r]`),e=n.charCodeAt(0);function t(v,s){var h,g,p=i(v,function(d,S){if(h)return h(d,S-1);g=d,h=s?xE(d,s):Wg(d)});return p.columns=g||[],p}function i(v,s){var h=[],g=v.length,p=0,d=0,S,m=g<=0,y=!1;v.charCodeAt(g-1)===$i&&--g,v.charCodeAt(g-1)===Ks&&--g;function E(){if(m)return Ws;if(y)return y=!1,Xg;var T,k=p,P;if(v.charCodeAt(k)===Js){for(;p++<g&&v.charCodeAt(p)!==Js||v.charCodeAt(++p)===Js;);return(T=p)>=g?m=!0:(P=v.charCodeAt(p++))===$i?y=!0:P===Ks&&(y=!0,v.charCodeAt(p)===$i&&++p),v.slice(k+1,T-1).replace(/""/g,'"')}for(;p<g;){if((P=v.charCodeAt(T=p++))===$i)y=!0;else if(P===Ks)y=!0,v.charCodeAt(p)===$i&&++p;else if(P!==e)continue;return v.slice(k,T)}return m=!0,v.slice(k,g)}for(;(S=E())!==Ws;){for(var $=[];S!==Xg&&S!==Ws;)$.push(S),S=E();s&&($=s($,d++))==null||h.push($)}return h}function a(v,s){return v.map(function(h){return s.map(function(g){return f(h[g])}).join(n)})}function o(v,s){return s==null&&(s=Jg(v)),[s.map(f).join(n)].concat(a(v,s)).join(`
`)}function l(v,s){return s==null&&(s=Jg(v)),a(v,s).join(`
`)}function u(v){return v.map(c).join(`
`)}function c(v){return v.map(f).join(n)}function f(v){return v==null?"":v instanceof Date?kE(v):r.test(v+="")?'"'+v.replace(/"/g,'""')+'"':v}return{parse:t,parseRows:i,format:o,formatBody:l,formatRows:u,formatRow:c,formatValue:f}}var je=Zs(","),bE=je.parse,CE=je.parseRows,LE=je.format,NE=je.formatBody,IE=je.formatRows,AE=je.formatRow,DE=je.formatValue,Xe=Zs("	"),OE=Xe.parse,qE=Xe.parseRows,FE=Xe.format,zE=Xe.formatBody,BE=Xe.formatRows,GE=Xe.formatRow,UE=Xe.formatValue;function HE(n){for(var r in n){var e=n[r].trim(),t,i;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(t=+e))e=t;else if(i=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))YE&&!!i[4]&&!i[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;n[r]=e}return n}var YE=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),VE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",dsvFormat:Zs,csvParse:bE,csvParseRows:CE,csvFormat:LE,csvFormatBody:NE,csvFormatRows:IE,csvFormatRow:AE,csvFormatValue:DE,tsvParse:OE,tsvParseRows:qE,tsvFormat:FE,tsvFormatBody:zE,tsvFormatRows:BE,tsvFormatRow:GE,tsvFormatValue:UE,autoType:HE}),jE=Xr(VE);Object.defineProperty(PE,"__esModule",{value:!0});var XE=Z,Qs=jE,nc=W;nc.DataSet.registerConnector("dsv",function(n,r){r===void 0&&(r={});var e=r.delimiter||",";if(!XE.isString(e))throw new TypeError("Invalid delimiter: must be a string!");return Qs.dsvFormat(e).parse(n)});nc.DataSet.registerConnector("csv",function(n){return Qs.csvParse(n)});nc.DataSet.registerConnector("tsv",function(n){return Qs.tsvParse(n)});var Kg={};Object.defineProperty(Kg,"__esModule",{value:!0});var WE=ti,JE=W;function Zg(n,r){r.dataType="geo-graticule";var e=WE.geoGraticule().lines();return e.map(function(t,i){return t.index=""+i,t}),r.rows=e,e}Kg.default=Zg;JE.DataSet.registerConnector("geo-graticule",Zg);var rc={},KE=QE,ec={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},ZE=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function QE(n){var r=[];return n.replace(ZE,function(e,t,i){var a=t.toLowerCase();for(i=r6(i),a=="m"&&i.length>2&&(r.push([t].concat(i.splice(0,2))),a="l",t=t=="m"?"l":"L");;){if(i.length==ec[a])return i.unshift(t),r.push(i);if(i.length<ec[a])throw new Error("malformed path data");r.push([t].concat(i.splice(0,ec[a])))}}),r}var n6=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function r6(n){var r=n.match(n6);return r?r.map(Number):[]}var e6=t6;function t6(n){var r=0,e=0,t=0,i=0;return n.map(function(a){a=a.slice();var o=a[0],l=o.toUpperCase();if(o!=l)switch(a[0]=l,o){case"a":a[6]+=t,a[7]+=i;break;case"v":a[1]+=i;break;case"h":a[1]+=t;break;default:for(var u=1;u<a.length;)a[u++]+=t,a[u++]+=i}switch(l){case"Z":t=r,i=e;break;case"H":t=a[1];break;case"V":i=a[1];break;case"M":t=r=a[1],i=e=a[2];break;default:t=a[a.length-2],i=a[a.length-1]}return a})}var i6=KE,a6=ym,o6=e6,Qg=Rt;function Rt(n){if(!(this instanceof Rt))return new Rt(n);this._path=a6(n)?n:i6(n),this._path=o6(this._path),this._path=f6(this._path),this._path=u6(this._path)}Rt.prototype.at=function(n,r){return this._walk(n,r).pos};Rt.prototype.length=function(){return this._walk(null).length};Rt.prototype._walk=function(n,r){for(var e=[0,0],t=[0,0,0],i=[0,0],a=0,o=0;o<this._path.length;o++){var l=this._path[o];if(l[0]==="M"){if(e[0]=l[1],e[1]=l[2],n===0)return{length:a,pos:e}}else if(l[0]==="C"){t[0]=i[0]=e[0],t[1]=i[1]=e[1],t[2]=a;for(var u=100,c=0;c<=u;c++){var f=c/u,v=p(l,f),s=d(l,f);if(a+=tc(e[0],e[1],v,s),e[0]=v,e[1]=s,typeof n=="number"&&a>=n){var h=(a-n)/(a-t[2]),g=[e[0]*(1-h)+t[0]*h,e[1]*(1-h)+t[1]*h];return{length:a,pos:g}}t[0]=e[0],t[1]=e[1],t[2]=a}}else if(l[0]==="Q"){t[0]=i[0]=e[0],t[1]=i[1]=e[1],t[2]=a;for(var u=100,c=0;c<=u;c++){var f=c/u,v=S(l,f),s=m(l,f);if(a+=tc(e[0],e[1],v,s),e[0]=v,e[1]=s,typeof n=="number"&&a>=n){var h=(a-n)/(a-t[2]),g=[e[0]*(1-h)+t[0]*h,e[1]*(1-h)+t[1]*h];return{length:a,pos:g}}t[0]=e[0],t[1]=e[1],t[2]=a}}else if(l[0]==="L"){if(t[0]=e[0],t[1]=e[1],t[2]=a,a+=tc(e[0],e[1],l[1],l[2]),e[0]=l[1],e[1]=l[2],typeof n=="number"&&a>=n){var h=(a-n)/(a-t[2]),g=[e[0]*(1-h)+t[0]*h,e[1]*(1-h)+t[1]*h];return{length:a,pos:g}}t[0]=e[0],t[1]=e[1],t[2]=a}}return{length:a,pos:e};function p(y,E){return Math.pow(1-E,3)*i[0]+3*Math.pow(1-E,2)*E*y[1]+3*(1-E)*Math.pow(E,2)*y[3]+Math.pow(E,3)*y[5]}function d(y,E){return Math.pow(1-E,3)*i[1]+3*Math.pow(1-E,2)*E*y[2]+3*(1-E)*Math.pow(E,2)*y[4]+Math.pow(E,3)*y[6]}function S(y,E){return Math.pow(1-E,2)*i[0]+2*(1-E)*E*y[1]+Math.pow(E,2)*y[3]}function m(y,E){return Math.pow(1-E,2)*i[1]+2*(1-E)*E*y[2]+Math.pow(E,2)*y[4]}};function tc(n,r,e,t){var i=n-e,a=r-t;return Math.sqrt(i*i+a*a)}function u6(n){for(var r,e=0,t=0,i={S:{to:"C",x:3},T:{to:"Q",x:1}},a=0,o=n.length;a<o;a++){var l=n[a],u=i[l[0]];u&&(l[0]=u.to,r&&(r[0]===u.to?(e=2*r[u.x+2]-r[u.x],t=2*r[u.x+3]-r[u.x+1]):(e=r[r.length-2],t=r[r.length-1])),l.splice(1,0,e,t)),r=l}return n}function f6(n){for(var r=[],e=["L",0,0],t,i=0,a=n.length;i<a;i++){var o=n[i];switch(o[0]){case"M":e=["L",o[1],o[2]],r.push(o);break;case"Z":r.push(e);break;case"H":t=r[r.length-1]||["L",0,0],r.push(["L",o[1],t[t.length-1]]);break;case"V":t=r[r.length-1]||["L",0,0],r.push(["L",t[t.length-2],o[1]]);break;default:r.push(o)}}return r}Object.defineProperty(rc,"__esModule",{value:!0});var l6=ln.exports,s6=l6.__importDefault(Qg),c6=Z,v6=ti,iu=W,np=v6.geoPath();function au(n,r,e){e.dataType=iu.DataSet.CONSTANTS.GEO;var t=c6.deepMix([],n.features);return t.forEach(function(i){i.name=i.properties.name,i.longitude=[],i.latitude=[];var a=i.pathData=np(i),o=s6.default(a);o._path.forEach(function(u){i.longitude.push(u[1]),i.latitude.push(u[2])});var l=np.centroid(i);i.centroidX=l[0],i.centroidY=l[1]}),t}iu.DataSet.registerConnector("geo",au);iu.DataSet.registerConnector("geojson",au);iu.DataSet.registerConnector("GeoJSON",au);rc.default=au;var h6={};Object.defineProperty(h6,"__esModule",{value:!0});var ou=Z,ic=W,g6={nodes:function(n){return n.nodes},edges:function(n){return n.edges}};function rp(n,r,e){r=ou.assign({},g6,r),e.dataType=ic.DataSet.CONSTANTS.GRAPH;var t=r.nodes,i=r.edges;if(t&&!ou.isFunction(t))throw new TypeError("Invalid nodes: must be a function!");if(i&&!ou.isFunction(i))throw new TypeError("Invalid edges: must be a function!");return e.rows=e.graph={nodes:t(n),edges:i(n)},ou.assign(e,e.graph),e.rows}ic.DataSet.registerConnector("graph",rp);ic.DataSet.registerConnector("diagram",rp);var ep={};function p6(n,r,e){var t=n.layout,i=[],a=0;Object.keys(n.hexes).forEach(function(p){n.hexes[p].key=p,i.push(n.hexes[p])});var o=$e(i,function(p){return+p.q}),l=Wn(i,function(p){return+p.q}),u=$e(i,function(p){return+p.r}),c=Wn(i,function(p){return+p.r}),f=o-l+1,v=u-c+1;t==="odd-r"||t==="even-r"?a=Wn([r/((f+.5)*Math.sqrt(3)),e/((v+1/3)*1.5)]):a=Wn([e/((v+.5)*Math.sqrt(3)),r/((f+1/3)*1.5)]);var s=a*Math.sqrt(3),h=d6(t,s,a),g=m6(h);return i.forEach(function(p){p.qc=p.q-l,p.rc=u-p.r,p.x=ac(p,t,s,a),p.y=oc(p,t,s,a),p.vertices=h,p.points=g}),i}function ac(n,r,e,t){var i=0,a=0;switch(r){case"odd-r":a=n.rc%2==1?e:e/2,i=n.qc*e+a;break;case"even-r":a=n.rc%2==0?e:e/2,i=n.qc*e+a;break;case"odd-q":case"even-q":i=n.qc*t*1.5+t;break}return i}function oc(n,r,e,t){var i=0,a=0;switch(r){case"odd-r":case"even-r":i=n.rc*t*1.5+t;break;case"odd-q":a=n.qc%2==1?e:e/2,i=n.rc*e+a;break;case"even-q":a=n.qc%2==0?e:e/2,i=n.rc*e+a;break}return i}function d6(n,r,e){var t=[];switch(n){case"odd-r":case"even-r":t.push({x:0,y:0-e}),t.push({x:0+r*.5,y:0-.5*e}),t.push({x:0+r*.5,y:0+.5*e}),t.push({x:0,y:0+e}),t.push({x:0-r*.5,y:0+.5*e}),t.push({x:0-r*.5,y:0-.5*e});break;case"odd-q":case"even-q":t.push({x:0-e,y:0}),t.push({x:0-.5*e,y:0-r*.5}),t.push({x:0+.5*e,y:0-r*.5}),t.push({x:0+e,y:0}),t.push({x:0+.5*e,y:0+r*.5}),t.push({x:0-.5*e,y:0+r*.5});break}return t}function m6(n){var r="";return n.forEach(function(e){r+=e.x+","+e.y+" "}),r.substring(0,r.length-1)}function y6(n){var r={};r.layout=n.layout,r.hexes={};var e=[];Object.keys(n.hexes).forEach(function(f){e.push(n.hexes[f])});var t=$e(e,function(f){return+f.q}),i=Wn(e,function(f){return+f.q}),a=$e(e,function(f){return+f.r}),o=Wn(e,function(f){return+f.r}),l,u,c;for(l=i;l<=t;l++)for(u=o;u<=a;u++)c="Q"+l+"R"+u,r.hexes[c]={q:l,r:u};return r}function w6(n,r,e,t){var i=[],a=n.layout;Object.keys(n.hexes).forEach(function(P){i.push(n.hexes[P])});var o=$e(i,function(P){return+P.q}),l=Wn(i,function(P){return+P.q}),u=$e(i,function(P){return+P.r}),c=Wn(i,function(P){return+P.r}),f=o-l+1,v=u-c+1,s;a==="odd-r"||a==="even-r"?s=Wn([r/((f+.5)*Math.sqrt(3)),e/((v+1/3)*1.5)]):s=Wn([e/((v+.5)*Math.sqrt(3)),r/((f+1/3)*1.5)]);var h=s*Math.sqrt(3),g=[],p=s*s*4,d=i.length;if(d>1){i.forEach(function(P){P.qc=P.q-l,P.rc=u-P.r,P.x=ac(P,a,h,s),P.y=oc(P,a,h,s)});for(var S=0;S<d-1;S++)for(var m=S+1;m<d;m++){var y=i[S],E=i[m];if(y[t]!==E[t]&&Math.abs(y.q-E.q)<=1&&Math.abs(y.r-E.r)<=1&&(y.x-E.x)*(y.x-E.x)+(y.y-E.y)*(y.y-E.y)<p){var $={};$.x=E.x+(y.x-E.x)/2,$.y=E.y+(y.y-E.y)/2;var T={},k=Math.sqrt(3)*4;T.dx=(y.y-E.y)/k,T.dy=-(y.x-E.x)/k,g.push({x:$.x-2*T.dx,y:$.y-2*T.dy}),g.push({x:$.x-T.dx,y:$.y-T.dy}),g.push({x:$.x,y:$.y}),g.push({x:$.x+T.dx,y:$.y+T.dy}),g.push({x:$.x+2*T.dx,y:$.y+2*T.dy})}}}return g}function E6(n,r,e,t){var i=[],a=n.layout;Object.keys(n.hexes).forEach(function(R){i.push(n.hexes[R])});var o=$e(i,function(R){return+R.q}),l=Wn(i,function(R){return+R.q}),u=$e(i,function(R){return+R.r}),c=Wn(i,function(R){return+R.r}),f=o-l+1,v=u-c+1,s;a==="odd-r"||a==="even-r"?s=Wn([r/((f+.5)*Math.sqrt(3)),e/((v+1/3)*1.5)]):s=Wn([e/((v+.5)*Math.sqrt(3)),r/((f+1/3)*1.5)]);var h=s*Math.sqrt(3),g=[],p=s*s*4,d=i.length;if(d>1){i.forEach(function(R){R.qc=R.q-l,R.rc=u-R.r,R.x=ac(R,a,h,s),R.y=oc(R,a,h,s)});for(var S=0;S<d-1;S++)for(var m=S+1;m<d;m++){var y=i[S],E=i[m];if(y[t]!==E[t]&&Math.abs(y.q-E.q)<=1&&Math.abs(y.r-E.r)<=1&&(y.x-E.x)*(y.x-E.x)+(y.y-E.y)*(y.y-E.y)<p){var $={};$.x=E.x+(y.x-E.x)/2,$.y=E.y+(y.y-E.y)/2;var T={},k=1;y[t]<E[t]&&(k=-1);var P=Math.sqrt(3)*2*k;T.dx=(y.y-E.y)/P,T.dy=-(y.x-E.x)/P,g.push({x1:$.x-T.dx,y1:$.y-T.dy,x2:$.x+T.dx,y2:$.y+T.dy})}}}return g}var S6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",renderHexJSON:p6,getGridForHexJSON:y6,getBoundaryDotsForHexJSON:w6,getBoundarySegmentsForHexJSON:E6}),_6=Xr(S6);Object.defineProperty(ep,"__esModule",{value:!0});var tp=Z,uc=_6,Ti=W,$6={width:1,height:1};function ip(n){return n.cx=n.x,n.cy=n.y,n.x=[],n.y=[],n.vertices.forEach(function(r){n.x.push(r.x+n.cx),n.y.push(r.y+n.cy)}),n}function Mi(n,r,e){e.dataType=Ti.DataSet.CONSTANTS.HEX,r=tp.assign({},$6,r);var t=r.width,i=r.height,a=tp.deepMix([],n);e._HexJSON=a;var o=e._GridHexJSON=uc.getGridForHexJSON(a),l=e.rows=uc.renderHexJSON(a,t,i).map(ip);return e._gridRows=uc.renderHexJSON(o,t,i).map(ip),l}Ti.DataSet.registerConnector("hex",Mi);Ti.DataSet.registerConnector("hexjson",Mi);Ti.DataSet.registerConnector("hex-json",Mi);Ti.DataSet.registerConnector("HexJSON",Mi);ep.default=Mi;var T6={};function M6(n,r){return n.parent===r.parent?1:2}function P6(n){return n.reduce(x6,0)/n.length}function x6(n,r){return n+r.x}function R6(n){return 1+n.reduce(k6,0)}function k6(n,r){return Math.max(n,r.y)}function b6(n){for(var r;r=n.children;)n=r[0];return n}function C6(n){for(var r;r=n.children;)n=r[r.length-1];return n}function L6(){var n=M6,r=1,e=1,t=!1;function i(a){var o,l=0;a.eachAfter(function(s){var h=s.children;h?(s.x=P6(h),s.y=R6(h)):(s.x=o?l+=n(s,o):0,s.y=0,o=s)});var u=b6(a),c=C6(a),f=u.x-n(u,c)/2,v=c.x+n(c,u)/2;return a.eachAfter(t?function(s){s.x=(s.x-a.x)*r,s.y=(a.y-s.y)*e}:function(s){s.x=(s.x-f)/(v-f)*r,s.y=(1-(a.y?s.y/a.y:1))*e})}return i.separation=function(a){return arguments.length?(n=a,i):n},i.size=function(a){return arguments.length?(t=!1,r=+a[0],e=+a[1],i):t?null:[r,e]},i.nodeSize=function(a){return arguments.length?(t=!0,r=+a[0],e=+a[1],i):t?[r,e]:null},i}function N6(n){var r=0,e=n.children,t=e&&e.length;if(!t)r=1;else for(;--t>=0;)r+=e[t].value;n.value=r}function I6(){return this.eachAfter(N6)}function A6(n){var r=this,e,t=[r],i,a,o;do for(e=t.reverse(),t=[];r=e.pop();)if(n(r),i=r.children,i)for(a=0,o=i.length;a<o;++a)t.push(i[a]);while(t.length);return this}function D6(n){for(var r=this,e=[r],t,i;r=e.pop();)if(n(r),t=r.children,t)for(i=t.length-1;i>=0;--i)e.push(t[i]);return this}function O6(n){for(var r=this,e=[r],t=[],i,a,o;r=e.pop();)if(t.push(r),i=r.children,i)for(a=0,o=i.length;a<o;++a)e.push(i[a]);for(;r=t.pop();)n(r);return this}function q6(n){return this.eachAfter(function(r){for(var e=+n(r.data)||0,t=r.children,i=t&&t.length;--i>=0;)e+=t[i].value;r.value=e})}function F6(n){return this.eachBefore(function(r){r.children&&r.children.sort(n)})}function z6(n){for(var r=this,e=B6(r,n),t=[r];r!==e;)r=r.parent,t.push(r);for(var i=t.length;n!==e;)t.splice(i,0,n),n=n.parent;return t}function B6(n,r){if(n===r)return n;var e=n.ancestors(),t=r.ancestors(),i=null;for(n=e.pop(),r=t.pop();n===r;)i=n,n=e.pop(),r=t.pop();return i}function G6(){for(var n=this,r=[n];n=n.parent;)r.push(n);return r}function U6(){var n=[];return this.each(function(r){n.push(r)}),n}function H6(){var n=[];return this.eachBefore(function(r){r.children||n.push(r)}),n}function Y6(){var n=this,r=[];return n.each(function(e){e!==n&&r.push({source:e.parent,target:e})}),r}function fc(n,r){var e=new kt(n),t=+n.value&&(e.value=n.value),i,a=[e],o,l,u,c;for(r==null&&(r=j6);i=a.pop();)if(t&&(i.value=+i.data.value),(l=r(i.data))&&(c=l.length))for(i.children=new Array(c),u=c-1;u>=0;--u)a.push(o=i.children[u]=new kt(l[u])),o.parent=i,o.depth=i.depth+1;return e.eachBefore(ap)}function V6(){return fc(this).eachBefore(X6)}function j6(n){return n.children}function X6(n){n.data=n.data.data}function ap(n){var r=0;do n.height=r;while((n=n.parent)&&n.height<++r)}function kt(n){this.data=n,this.depth=this.height=0,this.parent=null}kt.prototype=fc.prototype={constructor:kt,count:I6,each:A6,eachAfter:O6,eachBefore:D6,sum:q6,sort:F6,path:z6,ancestors:G6,descendants:U6,leaves:H6,links:Y6,copy:V6};var W6=Array.prototype.slice;function J6(n){for(var r=n.length,e,t;r;)t=Math.random()*r--|0,e=n[r],n[r]=n[t],n[t]=e;return n}function op(n){for(var r=0,e=(n=J6(W6.call(n))).length,t=[],i,a;r<e;)i=n[r],a&&up(a,i)?++r:(a=Z6(t=K6(t,i)),r=0);return a}function K6(n,r){var e,t;if(lc(r,n))return[r];for(e=0;e<n.length;++e)if(uu(r,n[e])&&lc(Pi(n[e],r),n))return[n[e],r];for(e=0;e<n.length-1;++e)for(t=e+1;t<n.length;++t)if(uu(Pi(n[e],n[t]),r)&&uu(Pi(n[e],r),n[t])&&uu(Pi(n[t],r),n[e])&&lc(fp(n[e],n[t],r),n))return[n[e],n[t],r];throw new Error}function uu(n,r){var e=n.r-r.r,t=r.x-n.x,i=r.y-n.y;return e<0||e*e<t*t+i*i}function up(n,r){var e=n.r-r.r+1e-6,t=r.x-n.x,i=r.y-n.y;return e>0&&e*e>t*t+i*i}function lc(n,r){for(var e=0;e<r.length;++e)if(!up(n,r[e]))return!1;return!0}function Z6(n){switch(n.length){case 1:return Q6(n[0]);case 2:return Pi(n[0],n[1]);case 3:return fp(n[0],n[1],n[2])}}function Q6(n){return{x:n.x,y:n.y,r:n.r}}function Pi(n,r){var e=n.x,t=n.y,i=n.r,a=r.x,o=r.y,l=r.r,u=a-e,c=o-t,f=l-i,v=Math.sqrt(u*u+c*c);return{x:(e+a+u/v*f)/2,y:(t+o+c/v*f)/2,r:(v+i+l)/2}}function fp(n,r,e){var t=n.x,i=n.y,a=n.r,o=r.x,l=r.y,u=r.r,c=e.x,f=e.y,v=e.r,s=t-o,h=t-c,g=i-l,p=i-f,d=u-a,S=v-a,m=t*t+i*i-a*a,y=m-o*o-l*l+u*u,E=m-c*c-f*f+v*v,$=h*g-s*p,T=(g*E-p*y)/($*2)-t,k=(p*d-g*S)/$,P=(h*y-s*E)/($*2)-i,R=(s*S-h*d)/$,C=k*k+R*R-1,b=2*(a+T*k+P*R),L=T*T+P*P-a*a,z=-(C?(b+Math.sqrt(b*b-4*C*L))/(2*C):L/b);return{x:t+T+k*z,y:i+P+R*z,r:z}}function lp(n,r,e){var t=n.x-r.x,i,a,o=n.y-r.y,l,u,c=t*t+o*o;c?(a=r.r+e.r,a*=a,u=n.r+e.r,u*=u,a>u?(i=(c+u-a)/(2*c),l=Math.sqrt(Math.max(0,u/c-i*i)),e.x=n.x-i*t-l*o,e.y=n.y-i*o+l*t):(i=(c+a-u)/(2*c),l=Math.sqrt(Math.max(0,a/c-i*i)),e.x=r.x+i*t-l*o,e.y=r.y+i*o+l*t)):(e.x=r.x+e.r,e.y=r.y)}function sp(n,r){var e=n.r+r.r-1e-6,t=r.x-n.x,i=r.y-n.y;return e>0&&e*e>t*t+i*i}function cp(n){var r=n._,e=n.next._,t=r.r+e.r,i=(r.x*e.r+e.x*r.r)/t,a=(r.y*e.r+e.y*r.r)/t;return i*i+a*a}function fu(n){this._=n,this.next=null,this.previous=null}function vp(n){if(!(i=n.length))return 0;var r,e,t,i,a,o,l,u,c,f,v;if(r=n[0],r.x=0,r.y=0,!(i>1))return r.r;if(e=n[1],r.x=-e.r,e.x=r.r,e.y=0,!(i>2))return r.r+e.r;lp(e,r,t=n[2]),r=new fu(r),e=new fu(e),t=new fu(t),r.next=t.previous=e,e.next=r.previous=t,t.next=e.previous=r;n:for(l=3;l<i;++l){lp(r._,e._,t=n[l]),t=new fu(t),u=e.next,c=r.previous,f=e._.r,v=r._.r;do if(f<=v){if(sp(u._,t._)){e=u,r.next=e,e.previous=r,--l;continue n}f+=u._.r,u=u.next}else{if(sp(c._,t._)){r=c,r.next=e,e.previous=r,--l;continue n}v+=c._.r,c=c.previous}while(u!==c.next);for(t.previous=r,t.next=e,r.next=e.previous=e=t,a=cp(r);(t=t.next)!==e;)(o=cp(t))<a&&(r=t,a=o);e=r.next}for(r=[e._],t=e;(t=t.next)!==e;)r.push(t._);for(t=op(r),l=0;l<i;++l)r=n[l],r.x-=t.x,r.y-=t.y;return t.r}function nS(n){return vp(n),n}function rS(n){return n==null?null:lu(n)}function lu(n){if(typeof n!="function")throw new Error;return n}function We(){return 0}function bt(n){return function(){return n}}function eS(n){return Math.sqrt(n.value)}function tS(){var n=null,r=1,e=1,t=We;function i(a){return a.x=r/2,a.y=e/2,n?a.eachBefore(hp(n)).eachAfter(sc(t,.5)).eachBefore(gp(1)):a.eachBefore(hp(eS)).eachAfter(sc(We,1)).eachAfter(sc(t,a.r/Math.min(r,e))).eachBefore(gp(Math.min(r,e)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(n=rS(a),i):n},i.size=function(a){return arguments.length?(r=+a[0],e=+a[1],i):[r,e]},i.padding=function(a){return arguments.length?(t=typeof a=="function"?a:bt(+a),i):t},i}function hp(n){return function(r){r.children||(r.r=Math.max(0,+n(r)||0))}}function sc(n,r){return function(e){if(t=e.children){var t,i,a=t.length,o=n(e)*r||0,l;if(o)for(i=0;i<a;++i)t[i].r+=o;if(l=vp(t),o)for(i=0;i<a;++i)t[i].r-=o;e.r=l+o}}}function gp(n){return function(r){var e=r.parent;r.r*=n,e&&(r.x=e.x+n*r.x,r.y=e.y+n*r.y)}}function pp(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)}function xi(n,r,e,t,i){for(var a=n.children,o,l=-1,u=a.length,c=n.value&&(t-r)/n.value;++l<u;)o=a[l],o.y0=e,o.y1=i,o.x0=r,o.x1=r+=o.value*c}function iS(){var n=1,r=1,e=0,t=!1;function i(o){var l=o.height+1;return o.x0=o.y0=e,o.x1=n,o.y1=r/l,o.eachBefore(a(r,l)),t&&o.eachBefore(pp),o}function a(o,l){return function(u){u.children&&xi(u,u.x0,o*(u.depth+1)/l,u.x1,o*(u.depth+2)/l);var c=u.x0,f=u.y0,v=u.x1-e,s=u.y1-e;v<c&&(c=v=(c+v)/2),s<f&&(f=s=(f+s)/2),u.x0=c,u.y0=f,u.x1=v,u.y1=s}}return i.round=function(o){return arguments.length?(t=!!o,i):t},i.size=function(o){return arguments.length?(n=+o[0],r=+o[1],i):[n,r]},i.padding=function(o){return arguments.length?(e=+o,i):e},i}var dp="$",aS={depth:-1},mp={};function oS(n){return n.id}function uS(n){return n.parentId}function fS(){var n=oS,r=uS;function e(t){var i,a,o=t.length,l,u,c,f=new Array(o),v,s,h={};for(a=0;a<o;++a)i=t[a],c=f[a]=new kt(i),(v=n(i,a,t))!=null&&(v+="")&&(s=dp+(c.id=v),h[s]=s in h?mp:c);for(a=0;a<o;++a)if(c=f[a],v=r(t[a],a,t),v==null||!(v+="")){if(l)throw new Error("multiple roots");l=c}else{if(u=h[dp+v],!u)throw new Error("missing: "+v);if(u===mp)throw new Error("ambiguous: "+v);u.children?u.children.push(c):u.children=[c],c.parent=u}if(!l)throw new Error("no root");if(l.parent=aS,l.eachBefore(function(g){g.depth=g.parent.depth+1,--o}).eachBefore(ap),l.parent=null,o>0)throw new Error("cycle");return l}return e.id=function(t){return arguments.length?(n=lu(t),e):n},e.parentId=function(t){return arguments.length?(r=lu(t),e):r},e}function lS(n,r){return n.parent===r.parent?1:2}function cc(n){var r=n.children;return r?r[0]:n.t}function vc(n){var r=n.children;return r?r[r.length-1]:n.t}function sS(n,r,e){var t=e/(r.i-n.i);r.c-=t,r.s+=e,n.c+=t,r.z+=e,r.m+=e}function cS(n){for(var r=0,e=0,t=n.children,i=t.length,a;--i>=0;)a=t[i],a.z+=r,a.m+=r,r+=a.s+(e+=a.c)}function vS(n,r,e){return n.a.parent===r.parent?n.a:e}function su(n,r){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}su.prototype=Object.create(kt.prototype);function hS(n){for(var r=new su(n,0),e,t=[r],i,a,o,l;e=t.pop();)if(a=e._.children)for(e.children=new Array(l=a.length),o=l-1;o>=0;--o)t.push(i=e.children[o]=new su(a[o],o)),i.parent=e;return(r.parent=new su(null,0)).children=[r],r}function gS(){var n=lS,r=1,e=1,t=null;function i(c){var f=hS(c);if(f.eachAfter(a),f.parent.m=-f.z,f.eachBefore(o),t)c.eachBefore(u);else{var v=c,s=c,h=c;c.eachBefore(function(m){m.x<v.x&&(v=m),m.x>s.x&&(s=m),m.depth>h.depth&&(h=m)});var g=v===s?1:n(v,s)/2,p=g-v.x,d=r/(s.x+g+p),S=e/(h.depth||1);c.eachBefore(function(m){m.x=(m.x+p)*d,m.y=m.depth*S})}return c}function a(c){var f=c.children,v=c.parent.children,s=c.i?v[c.i-1]:null;if(f){cS(c);var h=(f[0].z+f[f.length-1].z)/2;s?(c.z=s.z+n(c._,s._),c.m=c.z-h):c.z=h}else s&&(c.z=s.z+n(c._,s._));c.parent.A=l(c,s,c.parent.A||v[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function l(c,f,v){if(f){for(var s=c,h=c,g=f,p=s.parent.children[0],d=s.m,S=h.m,m=g.m,y=p.m,E;g=vc(g),s=cc(s),g&&s;)p=cc(p),h=vc(h),h.a=c,E=g.z+m-s.z-d+n(g._,s._),E>0&&(sS(vS(g,c,v),c,E),d+=E,S+=E),m+=g.m,d+=s.m,y+=p.m,S+=h.m;g&&!vc(h)&&(h.t=g,h.m+=m-S),s&&!cc(p)&&(p.t=s,p.m+=d-y,v=c)}return v}function u(c){c.x*=r,c.y=c.depth*e}return i.separation=function(c){return arguments.length?(n=c,i):n},i.size=function(c){return arguments.length?(t=!1,r=+c[0],e=+c[1],i):t?null:[r,e]},i.nodeSize=function(c){return arguments.length?(t=!0,r=+c[0],e=+c[1],i):t?[r,e]:null},i}function cu(n,r,e,t,i){for(var a=n.children,o,l=-1,u=a.length,c=n.value&&(i-e)/n.value;++l<u;)o=a[l],o.x0=r,o.x1=t,o.y0=e,o.y1=e+=o.value*c}var yp=(1+Math.sqrt(5))/2;function wp(n,r,e,t,i,a){for(var o=[],l=r.children,u,c,f=0,v=0,s=l.length,h,g,p=r.value,d,S,m,y,E,$,T;f<s;){h=i-e,g=a-t;do d=l[v++].value;while(!d&&v<s);for(S=m=d,$=Math.max(g/h,h/g)/(p*n),T=d*d*$,E=Math.max(m/T,T/S);v<s;++v){if(d+=c=l[v].value,c<S&&(S=c),c>m&&(m=c),T=d*d*$,y=Math.max(m/T,T/S),y>E){d-=c;break}E=y}o.push(u={value:d,dice:h<g,children:l.slice(f,v)}),u.dice?xi(u,e,t,i,p?t+=g*d/p:a):cu(u,e,t,p?e+=h*d/p:i,a),p-=d,f=v}return o}var Ep=function n(r){function e(t,i,a,o,l){wp(r,t,i,a,o,l)}return e.ratio=function(t){return n((t=+t)>1?t:1)},e}(yp);function pS(){var n=Ep,r=!1,e=1,t=1,i=[0],a=We,o=We,l=We,u=We,c=We;function f(s){return s.x0=s.y0=0,s.x1=e,s.y1=t,s.eachBefore(v),i=[0],r&&s.eachBefore(pp),s}function v(s){var h=i[s.depth],g=s.x0+h,p=s.y0+h,d=s.x1-h,S=s.y1-h;d<g&&(g=d=(g+d)/2),S<p&&(p=S=(p+S)/2),s.x0=g,s.y0=p,s.x1=d,s.y1=S,s.children&&(h=i[s.depth+1]=a(s)/2,g+=c(s)-h,p+=o(s)-h,d-=l(s)-h,S-=u(s)-h,d<g&&(g=d=(g+d)/2),S<p&&(p=S=(p+S)/2),n(s,g,p,d,S))}return f.round=function(s){return arguments.length?(r=!!s,f):r},f.size=function(s){return arguments.length?(e=+s[0],t=+s[1],f):[e,t]},f.tile=function(s){return arguments.length?(n=lu(s),f):n},f.padding=function(s){return arguments.length?f.paddingInner(s).paddingOuter(s):f.paddingInner()},f.paddingInner=function(s){return arguments.length?(a=typeof s=="function"?s:bt(+s),f):a},f.paddingOuter=function(s){return arguments.length?f.paddingTop(s).paddingRight(s).paddingBottom(s).paddingLeft(s):f.paddingTop()},f.paddingTop=function(s){return arguments.length?(o=typeof s=="function"?s:bt(+s),f):o},f.paddingRight=function(s){return arguments.length?(l=typeof s=="function"?s:bt(+s),f):l},f.paddingBottom=function(s){return arguments.length?(u=typeof s=="function"?s:bt(+s),f):u},f.paddingLeft=function(s){return arguments.length?(c=typeof s=="function"?s:bt(+s),f):c},f}function dS(n,r,e,t,i){var a=n.children,o,l=a.length,u,c=new Array(l+1);for(c[0]=u=o=0;o<l;++o)c[o+1]=u+=a[o].value;f(0,l,n.value,r,e,t,i);function f(v,s,h,g,p,d,S){if(v>=s-1){var m=a[v];m.x0=g,m.y0=p,m.x1=d,m.y1=S;return}for(var y=c[v],E=h/2+y,$=v+1,T=s-1;$<T;){var k=$+T>>>1;c[k]<E?$=k+1:T=k}E-c[$-1]<c[$]-E&&v+1<$&&--$;var P=c[$]-y,R=h-P;if(d-g>S-p){var C=(g*R+d*P)/h;f(v,$,P,g,p,C,S),f($,s,R,C,p,d,S)}else{var b=(p*R+S*P)/h;f(v,$,P,g,p,d,b),f($,s,R,g,b,d,S)}}}function mS(n,r,e,t,i){(n.depth&1?cu:xi)(n,r,e,t,i)}var yS=function n(r){function e(t,i,a,o,l){if((u=t._squarify)&&u.ratio===r)for(var u,c,f,v,s=-1,h,g=u.length,p=t.value;++s<g;){for(c=u[s],f=c.children,v=c.value=0,h=f.length;v<h;++v)c.value+=f[v].value;c.dice?xi(c,i,a,o,a+=(l-a)*c.value/p):cu(c,i,a,i+=(o-i)*c.value/p,l),p-=c.value}else t._squarify=u=wp(r,t,i,a,o,l),u.ratio=r}return e.ratio=function(t){return n((t=+t)>1?t:1)},e}(yp),wS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",cluster:L6,hierarchy:fc,pack:tS,packSiblings:nS,packEnclose:op,partition:iS,stratify:fS,tree:gS,treemap:pS,treemapBinary:dS,treemapDice:xi,treemapSlice:cu,treemapSliceDice:mS,treemapSquarify:Ep,treemapResquarify:yS}),Ct=Xr(wS);Object.defineProperty(T6,"__esModule",{value:!0});var ES=Z,SS=Ct,hc=W;function Sp(n,r,e){e.dataType=hc.DataSet.CONSTANTS.HIERARCHY;var t=r&&r.children?r.children:null;if(t&&!ES.isFunction(t))throw new TypeError("Invalid children: must be a function!");return r.pureData?e.rows=e.root=n:e.rows=e.root=SS.hierarchy(n,t),n}hc.DataSet.registerConnector("hierarchy",Sp);hc.DataSet.registerConnector("tree",Sp);var _S={};function _p(n){return n}function gc(n){if(n==null)return _p;var r,e,t=n.scale[0],i=n.scale[1],a=n.translate[0],o=n.translate[1];return function(l,u){u||(r=e=0);var c=2,f=l.length,v=new Array(f);for(v[0]=(r+=l[0])*t+a,v[1]=(e+=l[1])*i+o;c<f;)v[c]=l[c],++c;return v}}function $p(n){var r=gc(n.transform),e,t=1/0,i=t,a=-t,o=-t;function l(c){c=r(c),c[0]<t&&(t=c[0]),c[0]>a&&(a=c[0]),c[1]<i&&(i=c[1]),c[1]>o&&(o=c[1])}function u(c){switch(c.type){case"GeometryCollection":c.geometries.forEach(u);break;case"Point":l(c.coordinates);break;case"MultiPoint":c.coordinates.forEach(l);break}}n.arcs.forEach(function(c){for(var f=-1,v=c.length,s;++f<v;)s=r(c[f],f),s[0]<t&&(t=s[0]),s[0]>a&&(a=s[0]),s[1]<i&&(i=s[1]),s[1]>o&&(o=s[1])});for(e in n.objects)u(n.objects[e]);return[t,i,a,o]}function $S(n,r){for(var e,t=n.length,i=t-r;i<--t;)e=n[i],n[i++]=n[t],n[t]=e}function TS(n,r){return typeof r=="string"&&(r=n.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(e){return Tp(n,e)})}:Tp(n,r)}function Tp(n,r){var e=r.id,t=r.bbox,i=r.properties==null?{}:r.properties,a=vu(n,r);return e==null&&t==null?{type:"Feature",properties:i,geometry:a}:t==null?{type:"Feature",id:e,properties:i,geometry:a}:{type:"Feature",id:e,bbox:t,properties:i,geometry:a}}function vu(n,r){var e=gc(n.transform),t=n.arcs;function i(f,v){v.length&&v.pop();for(var s=t[f<0?~f:f],h=0,g=s.length;h<g;++h)v.push(e(s[h],h));f<0&&$S(v,g)}function a(f){return e(f)}function o(f){for(var v=[],s=0,h=f.length;s<h;++s)i(f[s],v);return v.length<2&&v.push(v[0]),v}function l(f){for(var v=o(f);v.length<4;)v.push(v[0]);return v}function u(f){return f.map(l)}function c(f){var v=f.type,s;switch(v){case"GeometryCollection":return{type:v,geometries:f.geometries.map(c)};case"Point":s=a(f.coordinates);break;case"MultiPoint":s=f.coordinates.map(a);break;case"LineString":s=o(f.arcs);break;case"MultiLineString":s=f.arcs.map(o);break;case"Polygon":s=u(f.arcs);break;case"MultiPolygon":s=f.arcs.map(u);break;default:return null}return{type:v,coordinates:s}}return c(r)}function Mp(n,r){var e={},t={},i={},a=[],o=-1;r.forEach(function(c,f){var v=n.arcs[c<0?~c:c],s;v.length<3&&!v[1][0]&&!v[1][1]&&(s=r[++o],r[o]=c,r[f]=s)}),r.forEach(function(c){var f=l(c),v=f[0],s=f[1],h,g;if(h=i[v])if(delete i[h.end],h.push(c),h.end=s,g=t[s]){delete t[g.start];var p=g===h?h:h.concat(g);t[p.start=h.start]=i[p.end=g.end]=p}else t[h.start]=i[h.end]=h;else if(h=t[s])if(delete t[h.start],h.unshift(c),h.start=v,g=i[v]){delete i[g.end];var d=g===h?h:g.concat(h);t[d.start=g.start]=i[d.end=h.end]=d}else t[h.start]=i[h.end]=h;else h=[c],t[h.start=v]=i[h.end=s]=h});function l(c){var f=n.arcs[c<0?~c:c],v=f[0],s;return n.transform?(s=[0,0],f.forEach(function(h){s[0]+=h[0],s[1]+=h[1]})):s=f[f.length-1],c<0?[s,v]:[v,s]}function u(c,f){for(var v in c){var s=c[v];delete f[s.start],delete s.start,delete s.end,s.forEach(function(h){e[h<0?~h:h]=1}),a.push(s)}}return u(i,t),u(t,i),r.forEach(function(c){e[c<0?~c:c]||a.push([c])}),a}function MS(n){return vu(n,Pp.apply(this,arguments))}function Pp(n,r,e){var t,i,a;if(arguments.length>1)t=PS(n,r,e);else for(i=0,t=new Array(a=n.arcs.length);i<a;++i)t[i]=i;return{type:"MultiLineString",arcs:Mp(n,t)}}function PS(n,r,e){var t=[],i=[],a;function o(v){var s=v<0?~v:v;(i[s]||(i[s]=[])).push({i:v,g:a})}function l(v){v.forEach(o)}function u(v){v.forEach(l)}function c(v){v.forEach(u)}function f(v){switch(a=v,v.type){case"GeometryCollection":v.geometries.forEach(f);break;case"LineString":l(v.arcs);break;case"MultiLineString":case"Polygon":u(v.arcs);break;case"MultiPolygon":c(v.arcs);break}}return f(r),i.forEach(e==null?function(v){t.push(v[0].i)}:function(v){e(v[0].g,v[v.length-1].g)&&t.push(v[0].i)}),t}function xS(n){for(var r=-1,e=n.length,t,i=n[e-1],a=0;++r<e;)t=i,i=n[r],a+=t[0]*i[1]-t[1]*i[0];return Math.abs(a)}function RS(n){return vu(n,xp.apply(this,arguments))}function xp(n,r){var e={},t=[],i=[];r.forEach(a);function a(u){switch(u.type){case"GeometryCollection":u.geometries.forEach(a);break;case"Polygon":o(u.arcs);break;case"MultiPolygon":u.arcs.forEach(o);break}}function o(u){u.forEach(function(c){c.forEach(function(f){(e[f=f<0?~f:f]||(e[f]=[])).push(u)})}),t.push(u)}function l(u){return xS(vu(n,{type:"Polygon",arcs:[u]}).coordinates[0])}return t.forEach(function(u){if(!u._){var c=[],f=[u];for(u._=1,i.push(c);u=f.pop();)c.push(u),u.forEach(function(v){v.forEach(function(s){e[s<0?~s:s].forEach(function(h){h._||(h._=1,f.push(h))})})})}}),t.forEach(function(u){delete u._}),{type:"MultiPolygon",arcs:i.map(function(u){var c=[],f;if(u.forEach(function(p){p.forEach(function(d){d.forEach(function(S){e[S<0?~S:S].length<2&&c.push(S)})})}),c=Mp(n,c),(f=c.length)>1)for(var v=1,s=l(c[0]),h,g;v<f;++v)(h=l(c[v]))>s&&(g=c[0],c[0]=c[v],c[v]=g,s=h);return c}).filter(function(u){return u.length>0})}}function Rp(n,r){for(var e=0,t=n.length;e<t;){var i=e+t>>>1;n[i]<r?e=i+1:t=i}return e}function kS(n){var r={},e=n.map(function(){return[]});function t(p,d){p.forEach(function(S){S<0&&(S=~S);var m=r[S];m?m.push(d):r[S]=[d]})}function i(p,d){p.forEach(function(S){t(S,d)})}function a(p,d){p.type==="GeometryCollection"?p.geometries.forEach(function(S){a(S,d)}):p.type in o&&o[p.type](p.arcs,d)}var o={LineString:t,MultiLineString:i,Polygon:i,MultiPolygon:function(p,d){p.forEach(function(S){i(S,d)})}};n.forEach(a);for(var l in r)for(var u=r[l],c=u.length,f=0;f<c;++f)for(var v=f+1;v<c;++v){var s=u[f],h=u[v],g;(g=e[s])[l=Rp(g,h)]!==h&&g.splice(l,0,h),(g=e[h])[l=Rp(g,s)]!==s&&g.splice(l,0,s)}return e}function kp(n){if(n==null)return _p;var r,e,t=n.scale[0],i=n.scale[1],a=n.translate[0],o=n.translate[1];return function(l,u){u||(r=e=0);var c=2,f=l.length,v=new Array(f),s=Math.round((l[0]-a)/t),h=Math.round((l[1]-o)/i);for(v[0]=s-r,r=s,v[1]=h-e,e=h;c<f;)v[c]=l[c],++c;return v}}function bS(n,r){if(n.transform)throw new Error("already quantized");if(!r||!r.scale){if(!((o=Math.floor(r))>=2))throw new Error("n must be \u22652");u=n.bbox||$p(n);var e=u[0],t=u[1],i=u[2],a=u[3],o;r={scale:[i-e?(i-e)/(o-1):1,a-t?(a-t)/(o-1):1],translate:[e,t]}}else u=n.bbox;var l=kp(r),u,c,f=n.objects,v={};function s(p){return l(p)}function h(p){var d;switch(p.type){case"GeometryCollection":d={type:"GeometryCollection",geometries:p.geometries.map(h)};break;case"Point":d={type:"Point",coordinates:s(p.coordinates)};break;case"MultiPoint":d={type:"MultiPoint",coordinates:p.coordinates.map(s)};break;default:return p}return p.id!=null&&(d.id=p.id),p.bbox!=null&&(d.bbox=p.bbox),p.properties!=null&&(d.properties=p.properties),d}function g(p){var d=0,S=1,m=p.length,y,E=new Array(m);for(E[0]=l(p[0],0);++d<m;)((y=l(p[d],d))[0]||y[1])&&(E[S++]=y);return S===1&&(E[S++]=[0,0]),E.length=S,E}for(c in f)v[c]=h(f[c]);return{type:"Topology",bbox:u,transform:r,objects:v,arcs:n.arcs.map(g)}}var CS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",bbox:$p,feature:TS,mesh:MS,meshArcs:Pp,merge:RS,mergeArcs:xp,neighbors:kS,quantize:bS,transform:gc,untransform:kp}),LS=Xr(CS);Object.defineProperty(_S,"__esModule",{value:!0});var NS=ln.exports,IS=Z,AS=LS,DS=NS.__importDefault(rc),bp=W;function Cp(n,r,e){var t=r.object;if(!IS.isString(t))throw new TypeError("Invalid object: must be a string!");var i=AS.feature(n,n.objects[t]);return DS.default(i,void 0,e)}bp.DataSet.registerConnector("topojson",Cp);bp.DataSet.registerConnector("TopoJSON",Cp);var OS={};Object.defineProperty(OS,"__esModule",{value:!0});var qS=W;qS.DataSet.registerTransform("default",function(n){return n});var FS={};Object.defineProperty(FS,"__esModule",{value:!0});var zS=W;function BS(n){return!!n}zS.DataSet.registerTransform("filter",function(n,r){n.rows=n.rows.filter(r.callback||BS)});var GS={},Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.getFields=Sn.getField=void 0;var be=Z,pc="Invalid field: it must be a string!",Ri="Invalid fields: it must be an array!";function US(n,r){var e=n.field,t=n.fields;if(be.isString(e))return e;if(be.isArray(e))return console.warn(pc),e[0];if(console.warn(pc+" will try to get fields instead."),be.isString(t))return t;if(be.isArray(t)&&t.length)return t[0];if(r)return r;throw new TypeError(pc)}Sn.getField=US;function HS(n,r){var e=n.field,t=n.fields;if(be.isArray(t))return t;if(be.isString(t))return console.warn(Ri),[t];if(console.warn(Ri+" will try to get field instead."),be.isString(e))return console.warn(Ri),[e];if(be.isArray(e)&&e.length)return console.warn(Ri),e;if(r)return r;throw new TypeError(Ri)}Sn.getFields=HS;Object.defineProperty(GS,"__esModule",{value:!0});var dc=Z,YS=W,VS=Sn,jS={fields:[],key:"key",retains:[],value:"value"};YS.DataSet.registerTransform("fold",function(n,r){var e=n.getColumnNames();r=dc.assign({},jS,r);var t=VS.getFields(r);t.length===0&&(console.warn("warning: option fields is not specified, will fold all columns."),t=e);var i=r.key,a=r.value,o=r.retains;(!o||o.length===0)&&(o=dc.difference(e,t));var l=[];n.rows.forEach(function(u){t.forEach(function(c){var f=dc.pick(u,o);f[i]=c,f[a]=u[c],l.push(f)})}),n.rows=l});var XS={};Object.defineProperty(XS,"__esModule",{value:!0});var WS=W;function JS(n){return n}WS.DataSet.registerTransform("map",function(n,r){n.rows=n.rows.map(r.callback||JS)});var KS={};Object.defineProperty(KS,"__esModule",{value:!0});var ZS=ln.exports,mc=Z,Lp=ZS.__importDefault(Mr),yc=W,Np={groupBy:[],orderBy:[]};yc.DataSet.registerTransform("partition",function(n,r){r=mc.assign({},Np,r),n.rows=Lp.default(n.rows,r.groupBy,r.orderBy)});function Ip(n,r){r=mc.assign({},Np,r),n.rows=mc.values(Lp.default(n.rows,r.groupBy,r.orderBy))}yc.DataSet.registerTransform("group",Ip);yc.DataSet.registerTransform("groups",Ip);var QS={};Object.defineProperty(QS,"__esModule",{value:!0});var n8=ln.exports,Lt=Z,Ap=ge,Dp=n8.__importDefault(Mr),r8=W,e8=Sn,t8={groupBy:[],as:"_percent"};function i8(n,r){r=Lt.assign({},t8,r);var e=e8.getField(r),t=r.dimension,i=r.groupBy,a=r.as;if(!Lt.isString(t))throw new TypeError("Invalid dimension: must be a string!");if(Lt.isArray(a)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),a=a[0]),!Lt.isString(a))throw new TypeError("Invalid as: must be a string!");var o=n.rows,l=[],u=Dp.default(o,i);Lt.forIn(u,function(c){var f=Ap.sum(c.map(function(s){return s[e]})),v=Dp.default(c,[t]);Lt.forIn(v,function(s){var h=Ap.sum(s.map(function(d){return d[e]})),g=s[0],p=g[t];g[e]=h,g[t]=p,f===0?g[a]=0:g[a]=h/f,l.push(g)})}),n.rows=l}r8.DataSet.registerTransform("percent",i8);var a8={};Object.defineProperty(a8,"__esModule",{value:!0});var o8=Z,u8=W,f8=Sn;u8.DataSet.registerTransform("pick",function(n,r){var e=f8.getFields(r,n.getColumnNames());n.rows=n.rows.map(function(t){return o8.pick(t,e)})});var l8={};Object.defineProperty(l8,"__esModule",{value:!0});var s8=ln.exports,Nt=Z,Op=s8.__importDefault(Mr),c8=W,v8=Sn,h8={groupBy:[],as:"_proportion"};function g8(n,r){r=Nt.assign({},h8,r);var e=v8.getField(r),t=r.dimension,i=r.groupBy,a=r.as;if(!Nt.isString(t))throw new TypeError("Invalid dimension: must be a string!");if(Nt.isArray(a)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),a=a[0]),!Nt.isString(a))throw new TypeError("Invalid as: must be a string!");var o=n.rows,l=[],u=Op.default(o,i);Nt.forIn(u,function(c){var f=c.length,v=Op.default(c,[t]);Nt.forIn(v,function(s){var h=s.length,g=s[0],p=g[t];g[e]=h,g[t]=p,g[a]=h/f,l.push(g)})}),n.rows=l}c8.DataSet.registerTransform("proportion",g8);var p8={};Object.defineProperty(p8,"__esModule",{value:!0});var ki=Z,qp=W;function Fp(n,r){var e=r.map||{},t={};ki.isPlainObject(e)&&ki.forIn(e,function(i,a){ki.isString(i)&&ki.isString(a)&&(t[a]=i)}),n.rows.forEach(function(i){ki.forIn(t,function(a,o){var l=i[o];delete i[o],i[a]=l})})}qp.DataSet.registerTransform("rename",Fp);qp.DataSet.registerTransform("rename-fields",Fp);var d8={};Object.defineProperty(d8,"__esModule",{value:!0});var m8=W;m8.DataSet.registerTransform("reverse",function(n){n.rows.reverse()});var y8={};Object.defineProperty(y8,"__esModule",{value:!0});var w8=W;w8.DataSet.registerTransform("sort",function(n,r){var e=n.getColumnName(0);n.rows.sort(r.callback||function(t,i){return t[e]-i[e]})});var E8={};Object.defineProperty(E8,"__esModule",{value:!0});var zp=Z,Bp=W,S8=Sn,Gp=["ASC","DESC"];function Up(n,r){var e=S8.getFields(r,[n.getColumnName(0)]);if(!zp.isArray(e))throw new TypeError("Invalid fields: must be an array with strings!");n.rows=zp.sortBy(n.rows,e);var t=r.order;if(t&&Gp.indexOf(t)===-1)throw new TypeError("Invalid order: "+t+" must be one of "+Gp.join(", "));t==="DESC"&&n.rows.reverse()}Bp.DataSet.registerTransform("sort-by",Up);Bp.DataSet.registerTransform("sortBy",Up);var _8={};Object.defineProperty(_8,"__esModule",{value:!0});var $8=W,T8=Sn;$8.DataSet.registerTransform("subset",function(n,r){var e=r.startRowIndex||0,t=r.endRowIndex||n.rows.length-1,i=T8.getFields(r,n.getColumnNames());n.rows=n.getSubset(e,t,i)});var M8={};Object.defineProperty(M8,"__esModule",{value:!0});var P8=ln.exports,wc=Z,x8=P8.__importDefault(Mr),Hp=W,R8={fillBy:"group",groupBy:[],orderBy:[]};function Yp(n,r){var e=n.map(function(t){return t});return r.forEach(function(t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}),e}function Vp(n,r){r=wc.assign({},R8,r);var e=n.rows,t=r.groupBy,i=r.orderBy,a=x8.default(e,t,i),o=0,l=[];wc.forIn(a,function(g){g.length>o&&(o=g.length,l=g)});var u=[],c={};if(l.forEach(function(g){var p=i.map(function(d){return g[d]}).join("-");u.push(p),c[p]=g}),r.fillBy==="order"){var f=l[0],v=[],s={};e.forEach(function(g){var p=i.map(function(d){return g[d]}).join("-");v.indexOf(p)===-1&&(v.push(p),s[p]=g)});var h=Yp(v,u);h.forEach(function(g){var p={};t.forEach(function(d){p[d]=f[d]}),i.forEach(function(d){p[d]=s[g][d]}),e.push(p),l.push(p),u.push(g),c[g]=p}),o=l.length}wc.forIn(a,function(g){if(g!==l&&g.length<o){var p=g[0],d=[];g.forEach(function(m){d.push(i.map(function(y){return m[y]}).join("-"))});var S=Yp(u,d);S.some(function(m,y){if(y>=o-g.length)return!0;var E=c[m],$={};return t.forEach(function(T){$[T]=p[T]}),i.forEach(function(T){$[T]=E[T]}),e.push($),!1})}})}Hp.DataSet.registerTransform("fill-rows",Vp);Hp.DataSet.registerTransform("fillRows",Vp);var k8={};Object.defineProperty(k8,"__esModule",{value:!0});var jp=ln.exports,Je=Z,b8=jp.__importStar(ge),C8=jp.__importDefault(Mr),L8=W,N8=Sn,I8={groupBy:[]};function Xp(n){return n.filter(function(r){return!Je.isUndefined(r)})}var Wp=["mean","median","max","min"],Ec={};Wp.forEach(function(n){Ec[n]=function(r,e){return b8[n](e)}});Ec.value=function(n,r,e){return e};function A8(n,r){r=Je.assign({},I8,r);var e=N8.getField(r),t=r.method;if(!t)throw new TypeError("Invalid method!");if(t==="value"&&!Je.has(r,"value"))throw new TypeError("Invalid value: it is nil.");var i=Xp(n.getColumn(e)),a=C8.default(n.rows,r.groupBy);Je.forIn(a,function(o){var l=Xp(o.map(function(u){return u[e]}));l.length===0&&(l=i),o.forEach(function(u){if(Je.isUndefined(u[e]))if(Je.isFunction(t))u[e]=t(u,l,r.value,o);else if(Je.isString(t))u[e]=Ec[t](u,l,r.value);else throw new TypeError("Invalid method: must be a function or one of "+Wp.join(", "))})})}L8.DataSet.registerTransform("impute",A8);var Jp={};Object.defineProperty(Jp,"__esModule",{value:!0});var Kp=ln.exports,Hr=Z,D8=Kp.__importStar(ge),O8=Kp.__importDefault(Mr),Zp=W,Qp=Zp.DataSet.registerTransform,q8=Sn,F8={as:[],fields:[],groupBy:[],operations:[]},nd="count",bi={count:function(n){return n.length},distinct:function(n,r){var e=Hr.uniq(n.map(function(t){return t[r]}));return e.length}};Zp.DataSet.CONSTANTS.STATISTICS_METHODS.forEach(function(n){bi[n]=function(r,e){var t=r.map(function(i){return i[e]});return Hr.isArray(t)&&Hr.isArray(t[0])&&(t=Hr.flattenDeep(t)),D8[n](t)}});bi.average=bi.mean;function rd(n,r){r=Hr.assign({},F8,r);var e=q8.getFields(r);if(!Hr.isArray(e))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var t=r.as||[];Hr.isString(t)&&(t=[t]);var i=r.operations;Hr.isString(i)&&(i=[i]);var a=[nd];if((!Hr.isArray(i)||!i.length)&&(console.warn('operations is not defined, will use [ "count" ] directly.'),i=a,t=i),!(i.length===1&&i[0]===nd)){if(i.length!==e.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(t.length!==e.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var o=O8.default(n.rows,r.groupBy),l=[];Hr.forIn(o,function(u){var c=u[0];i.forEach(function(f,v){var s=t[v],h=e[v];c[s]=bi[f](u,h)}),l.push(c)}),n.rows=l}Qp("aggregate",rd);Qp("summary",rd);Jp.default={VALID_AGGREGATES:Hr.keys(bi)};var ed={},td={exports:{}};(function(n,r){(function(e,t){t(n)})(S0,function(e){function t(s,h,g){return h in s?Object.defineProperty(s,h,{value:g,enumerable:!0,configurable:!0,writable:!0}):s[h]=g,s}var i=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var g=arguments[h];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(s[p]=g[p])}return s};function a(s){if(Array.isArray(s)){for(var h=0,g=Array(s.length);h<s.length;h++)g[h]=s[h];return g}else return Array.from(s)}var o={order:2,precision:2,period:null};function l(s,h){var g=[],p=[];s.forEach(function(E,$){E[1]!==null&&(p.push(E),g.push(h[$]))});var d=p.reduce(function(E,$){return E+$[1]},0),S=d/p.length,m=p.reduce(function(E,$){var T=$[1]-S;return E+T*T},0),y=p.reduce(function(E,$,T){var k=g[T],P=$[1]-k[1];return E+P*P},0);return 1-y/m}function u(s,h){for(var g=s,p=s.length-1,d=[h],S=0;S<p;S++){for(var m=S,y=S+1;y<p;y++)Math.abs(g[S][y])>Math.abs(g[S][m])&&(m=y);for(var E=S;E<p+1;E++){var $=g[E][S];g[E][S]=g[E][m],g[E][m]=$}for(var T=S+1;T<p;T++)for(var k=p;k>=S;k--)g[k][T]-=g[k][S]*g[S][T]/g[S][S]}for(var P=p-1;P>=0;P--){for(var R=0,C=P+1;C<p;C++)R+=g[C][P]*d[C];d[P]=(g[p][P]-R)/g[P][P]}return d}function c(s,h){var g=Math.pow(10,h);return Math.round(s*g)/g}var f={linear:function(h,g){for(var p=[0,0,0,0,0],d=0,S=0;S<h.length;S++)h[S][1]!==null&&(d++,p[0]+=h[S][0],p[1]+=h[S][1],p[2]+=h[S][0]*h[S][0],p[3]+=h[S][0]*h[S][1],p[4]+=h[S][1]*h[S][1]);var m=d*p[2]-p[0]*p[0],y=d*p[3]-p[0]*p[1],E=m===0?0:c(y/m,g.precision),$=c(p[1]/d-E*p[0]/d,g.precision),T=function(R){return[c(R,g.precision),c(E*R+$,g.precision)]},k=h.map(function(P){return T(P[0])});return{points:k,predict:T,equation:[E,$],r2:c(l(h,k),g.precision),string:$===0?"y = "+E+"x":"y = "+E+"x + "+$}},exponential:function(h,g){for(var p=[0,0,0,0,0,0],d=0;d<h.length;d++)h[d][1]!==null&&(p[0]+=h[d][0],p[1]+=h[d][1],p[2]+=h[d][0]*h[d][0]*h[d][1],p[3]+=h[d][1]*Math.log(h[d][1]),p[4]+=h[d][0]*h[d][1]*Math.log(h[d][1]),p[5]+=h[d][0]*h[d][1]);var S=p[1]*p[2]-p[5]*p[5],m=Math.exp((p[2]*p[3]-p[5]*p[4])/S),y=(p[1]*p[4]-p[5]*p[3])/S,E=c(m,g.precision),$=c(y,g.precision),T=function(R){return[c(R,g.precision),c(E*Math.exp($*R),g.precision)]},k=h.map(function(P){return T(P[0])});return{points:k,predict:T,equation:[E,$],string:"y = "+E+"e^("+$+"x)",r2:c(l(h,k),g.precision)}},logarithmic:function(h,g){for(var p=[0,0,0,0],d=h.length,S=0;S<d;S++)h[S][1]!==null&&(p[0]+=Math.log(h[S][0]),p[1]+=h[S][1]*Math.log(h[S][0]),p[2]+=h[S][1],p[3]+=Math.pow(Math.log(h[S][0]),2));var m=(d*p[1]-p[2]*p[0])/(d*p[3]-p[0]*p[0]),y=c(m,g.precision),E=c((p[2]-y*p[0])/d,g.precision),$=function(P){return[c(P,g.precision),c(c(E+y*Math.log(P),g.precision),g.precision)]},T=h.map(function(k){return $(k[0])});return{points:T,predict:$,equation:[E,y],string:"y = "+E+" + "+y+" ln(x)",r2:c(l(h,T),g.precision)}},power:function(h,g){for(var p=[0,0,0,0,0],d=h.length,S=0;S<d;S++)h[S][1]!==null&&(p[0]+=Math.log(h[S][0]),p[1]+=Math.log(h[S][1])*Math.log(h[S][0]),p[2]+=Math.log(h[S][1]),p[3]+=Math.pow(Math.log(h[S][0]),2));var m=(d*p[1]-p[0]*p[2])/(d*p[3]-Math.pow(p[0],2)),y=(p[2]-m*p[0])/d,E=c(Math.exp(y),g.precision),$=c(m,g.precision),T=function(R){return[c(R,g.precision),c(c(E*Math.pow(R,$),g.precision),g.precision)]},k=h.map(function(P){return T(P[0])});return{points:k,predict:T,equation:[E,$],string:"y = "+E+"x^"+$,r2:c(l(h,k),g.precision)}},polynomial:function(h,g){for(var p=[],d=[],S=0,m=0,y=h.length,E=g.order+1,$=0;$<E;$++){for(var T=0;T<y;T++)h[T][1]!==null&&(S+=Math.pow(h[T][0],$)*h[T][1]);p.push(S),S=0;for(var k=[],P=0;P<E;P++){for(var R=0;R<y;R++)h[R][1]!==null&&(m+=Math.pow(h[R][0],$+P));k.push(m),m=0}d.push(k)}d.push(p);for(var C=u(d,E).map(function(w){return c(w,g.precision)}),b=function(M){return[c(M,g.precision),c(C.reduce(function(x,N,U){return x+N*Math.pow(M,U)},0),g.precision)]},L=h.map(function(w){return b(w[0])}),z="y = ",_=C.length-1;_>=0;_--)_>1?z+=C[_]+"x^"+_+" + ":_===1?z+=C[_]+"x + ":z+=C[_];return{string:z,points:L,predict:b,equation:[].concat(a(C)).reverse(),r2:c(l(h,L),g.precision)}}};function v(){var s=function(g,p){return i({_round:c},g,t({},p,function(d,S){return f[p](d,i({},o,S))}))};return Object.keys(f).reduce(s,{})}e.exports=v()})})(td);var It={};Object.defineProperty(It,"__esModule",{value:!0});var z8=ln.exports;It.default=function(n,r){for(var e=r||1,t=z8.__read(n,2),i=t[0],a=t[1],o=[],l=i;l<a;)o.push(l),l+=e;return o.push(a),o};var pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.nrd=pe.silverman=void 0;var Sc=ge;function B8(n){var r=Sc.standardDeviation(n),e=4*Math.pow(r,5),t=3*n.length;return Math.pow(e/t,.2)}pe.silverman=B8;function G8(n){var r=Sc.standardDeviation(n),e=Sc.interquartileRange(n);return typeof e=="number"&&(r=Math.min(r,e/1.34)),1.06*r*Math.pow(n.length,-.2)}pe.nrd=G8;Object.defineProperty(ed,"__esModule",{value:!0});var Ci=ln.exports,U8=Ci.__importDefault(td.exports),hu=Z,H8=Ci.__importDefault(It),Y8=W,V8=Sn,j8=pe,X8={as:["x","y"],method:"linear",order:2,precision:2},_c=["linear","exponential","logarithmic","power","polynomial"];function W8(n,r){r=hu.assign({},X8,r);var e=V8.getFields(r);if(!hu.isArray(e)||e.length!==2)throw new TypeError("invalid fields: must be an array of 2 strings.");var t=Ci.__read(e,2),i=t[0],a=t[1],o=r.method;if(_c.indexOf(o)===-1)throw new TypeError("invalid method: "+o+". Must be one of "+_c.join(", "));var l=n.rows.map(function(d){return[d[i],d[a]]}),u=U8.default[o](l,r),c=r.extent;(!hu.isArray(c)||c.length!==2)&&(c=n.range(i));var f=r.bandwidth;(!hu.isNumber(f)||f<=0)&&(f=j8.silverman(n.getColumn(i)));var v=H8.default(c,f),s=[],h=Ci.__read(r.as,2),g=h[0],p=h[1];v.forEach(function(d){var S={},m=Ci.__read(u.predict(d),2),y=m[0],E=m[1];S[g]=y,S[p]=E,isFinite(E)&&s.push(S)}),n.rows=s}Y8.DataSet.registerTransform("regression",W8);ed.default={REGRESSION_METHODS:_c};var id={},Li={};Object.defineProperty(Li,"__esModule",{value:!0});function ad(n){return Math.abs(n)<=1?.5:0}function J8(n){var r=1-Math.pow(Math.abs(n),3);return Math.pow(r,3)}Li.default={boxcar:ad,cosine:function(n){return Math.abs(n)<=1?Math.PI/4*Math.cos(Math.PI/2*n):0},epanechnikov:function(n){return Math.abs(n)<1?.75*(1-n*n):0},gaussian:function(n){return .3989422804*Math.exp(-.5*n*n)},quartic:function(n){if(Math.abs(n)<1){var r=1-n*n;return 15/16*r*r}return 0},triangular:function(n){var r=Math.abs(n);return r<1?1-r:0},tricube:function(n){return Math.abs(n)<1?70/81*J8(n):0},triweight:function(n){if(Math.abs(n)<1){var r=1-n*n;return 35/32*r*r*r}return 0},uniform:ad};Object.defineProperty(id,"__esModule",{value:!0});var Ke=ln.exports,Kn=Z,K8=Ke.__importDefault(It),od=Ke.__importDefault(Li),gu=Ke.__importStar(pe),Z8=Ke.__importDefault(Mr),$c=W,Q8=Sn,n7=ge,r7={minSize:.01,as:["key","y","size"],extent:[],method:"gaussian",bandwidth:"nrd",step:0,groupBy:[]},Tc=Kn.keys(od.default),e7=Kn.keys(gu);function Mc(n,r){r=Kn.assign({},r7,r);var e=Q8.getFields(r);if(!Kn.isArray(e)||e.length<1)throw new TypeError("invalid fields: must be an array of at least 1 strings!");var t=r.as;if(!Kn.isArray(t)||t.length!==3)throw new TypeError("invalid as: must be an array of 3 strings!");var i=r.method;if(Kn.isString(i)){if(Tc.indexOf(i)===-1)throw new TypeError("invalid method: "+i+". Must be one of "+Tc.join(", "));i=od.default[i]}if(!Kn.isFunction(i))throw new TypeError("invalid method: kernel method must be a function!");var a=r.extent;if(!Kn.isArray(a)||a.length===0){var o=[];Kn.each(e,function(s){var h=n.range(s);o=o.concat(h)}),a=[Math.min.apply(Math,Ke.__spread(o)),Math.max.apply(Math,Ke.__spread(o))]}var l=r.bandwidth;Kn.isString(l)&&gu[l]?l=gu[l](n.getColumn(e[0])):Kn.isFunction(l)?l=l(n.getColumn(e[0])):(!Kn.isNumber(l)||l<=0)&&(l=gu.nrd(n.getColumn(e[0])));var u=K8.default(a,r.step?r.step:l),c=[],f=r.groupBy,v=Z8.default(n.rows,f);Kn.forIn(v,function(s){var h={};Kn.each(e,function(g){var p=Kn.pick(s[0],f);h[g]=n7.kernelDensityEstimation(s.map(function(E){return E[g]}),i,l);var d=Ke.__read(t,3),S=d[0],m=d[1],y=d[2];p[S]=g,p[m]=[],p[y]=[],Kn.each(u,function(E){var $=h[g](E);$>=r.minSize&&(p[m].push(E),p[y].push($))}),c.push(p)})}),n.rows=c}$c.DataSet.registerTransform("kernel-density-estimation",Mc);$c.DataSet.registerTransform("kde",Mc);$c.DataSet.registerTransform("KDE",Mc);id.default={KERNEL_METHODS:Tc,BANDWIDTH_METHODS:e7};var t7={};Object.defineProperty(t7,"__esModule",{value:!0});var Yr=ln.exports,pu=Z,Pc=W,i7=Sn,a7={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},ud=Math.sqrt(3),Ni=Math.PI/3,o7=[0,Ni,2*Ni,3*Ni,4*Ni,5*Ni];function fd(n,r,e,t){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}function ld(n,r,e){var t=n-e;r=r/2;var i=Math.floor(t/r),a=r*(i+(Math.abs(i%2)===1?1:0)),o=r*(i+(Math.abs(i%2)===1?0:1));return[a+e,o+e]}function u7(n,r,e){r===void 0&&(r=[1,1]),e===void 0&&(e=[0,0]);var t={},i=Yr.__read(r,2),a=i[0],o=i[1],l=Yr.__read(e,2),u=l[0],c=l[1];return n.forEach(function(f){var v,s,h=Yr.__read(f,2),g=h[0],p=h[1],d=Yr.__read(ld(g,a,u),2),S=d[0],m=d[1],y=Yr.__read(ld(p,o,c),2),E=y[0],$=y[1],T=fd(g,p,S,E),k=fd(g,p,m,$),P,R,C;T<k?(P="x"+S+"y"+E,v=Yr.__read([S,E],2),R=v[0],C=v[1]):(P="x"+m+"y"+$,s=Yr.__read([m,$],2),R=s[0],C=s[1]),t[P]=t[P]||{x:R,y:C,count:0},t[P].count++}),t}function xc(n,r){r=pu.assign({},a7,r);var e=i7.getFields(r);if(!pu.isArray(e)||e.length!==2)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var t=Yr.__read(e,2),i=t[0],a=t[1],o=n.range(i),l=n.range(a),u=o[1]-o[0],c=l[1]-l[0],f=r.binWidth||[];if(f.length!==2){var v=Yr.__read(r.bins,2),s=v[0],h=v[1];if(s<=0||h<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");f=[u/s,c/h]}var g=Yr.__read(r.offset,2),p=g[0],d=g[1],S=3*f[0]/(ud*f[1]),m=n.rows.map(function(L){return[L[i],S*L[a]]}),y=u7(m,[f[0],S*f[1]],[p,S*d]),E=Yr.__read(r.as,3),$=E[0],T=E[1],k=E[2];if(!$||!T||!k)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var P=f[0]/ud,R=o7.map(function(L){return[Math.sin(L)*P,-Math.cos(L)*P]}),C=[],b=0;r.sizeByCount&&pu.forIn(y,function(L){L.count>b&&(b=L.count)}),pu.forIn(y,function(L){var z=L.x,_=L.y,w=L.count,M={};M[k]=w,r.sizeByCount?(M[$]=R.map(function(x){return z+L.count/b*x[0]}),M[T]=R.map(function(x){return(_+L.count/b*x[1])/S})):(M[$]=R.map(function(x){return z+x[0]}),M[T]=R.map(function(x){return(_+x[1])/S})),C.push(M)}),n.rows=C}Pc.DataSet.registerTransform("bin.hexagon",xc);Pc.DataSet.registerTransform("bin.hex",xc);Pc.DataSet.registerTransform("hexbin",xc);var f7={};Object.defineProperty(f7,"__esModule",{value:!0});var Rc=ln.exports,Ii=Z,l7=Rc.__importDefault(Mr),sd=W,s7=Sn,c7={as:["x","count"],bins:void 0,offset:0,groupBy:[]};function v7(n,r,e){var t=n-e,i=Math.floor(t/r);return[i*r+e,(i+1)*r+e]}function h7(n){return Math.ceil(Math.log(n)/Math.LN2)+1}function cd(n,r){r=Ii.assign({},c7,r);var e=s7.getField(r);if(n.rows.length!==0){var t=n.range(e),i=t[1]-t[0],a=r.binWidth,o=r.bins;if(!a&&o){if(o<=0)throw new TypeError("Invalid bins: it must be a positive number!");a=i/o}if(!a&&!o){var l=h7(n.rows.length);a=i/l}var u=r.offset%a,c=[],f=r.groupBy,v=l7.default(n.rows,f);Ii.forIn(v,function(s){var h={},g=s.map(function(y){return y[e]});g.forEach(function(y){var E=Rc.__read(v7(y,a,u),2),$=E[0],T=E[1],k=$+"-"+T;h[k]=h[k]||{x0:$,x1:T,count:0},h[k].count++});var p=Rc.__read(r.as,2),d=p[0],S=p[1];if(!d||!S)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var m=Ii.pick(s[0],f);Ii.forIn(h,function(y){var E=Ii.assign({},m);E[d]=[y.x0,y.x1],E[S]=y.count,c.push(E)})}),n.rows=c}}sd.DataSet.registerTransform("bin.histogram",cd);sd.DataSet.registerTransform("bin.dot",cd);var g7={};Object.defineProperty(g7,"__esModule",{value:!0});var vd=ln.exports,du=Z,p7=ge,d7=vd.__importDefault(Mr),m7=vd.__importDefault(nu),y7=W,w7=y7.DataSet.registerTransform,E7=Sn,S7={as:"_bin",groupBy:[],fraction:4};function _7(n,r){r=du.assign({},S7,r);var e=E7.getField(r),t=r.as;if(!du.isString(t))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var i=r.p,a=r.fraction;(!du.isArray(i)||i.length===0)&&(i=m7.default(a));var o=n.rows,l=r.groupBy,u=d7.default(o,l),c=[];du.forIn(u,function(f){var v=f[0],s=f.map(function(g){return g[e]}),h=i.map(function(g){return p7.quantile(s,g)});v[t]=h,c.push(v)}),n.rows=c}w7("bin.quantile",_7);var $7={};Object.defineProperty($7,"__esModule",{value:!0});var Ze=ln.exports,mu=Z,T7=W,hd=T7.DataSet.registerTransform,M7=Sn,P7={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};function gd(n,r,e){var t=n-e,i=Math.floor(t/r);return[i*r+e,(i+1)*r+e]}function pd(n,r){r=mu.assign({},P7,r);var e=Ze.__read(M7.getFields(r),2),t=e[0],i=e[1];if(!t||!i)throw new TypeError("Invalid fields: must be an array with 2 strings!");var a=n.range(t),o=n.range(i),l=a[1]-a[0],u=o[1]-o[0],c=r.binWidth||[];if(c.length!==2){var f=Ze.__read(r.bins,2),v=f[0],s=f[1];if(v<=0||s<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");c=[l/v,u/s]}var h=n.rows.map(function(P){return[P[t],P[i]]}),g={},p=Ze.__read(r.offset,2),d=p[0],S=p[1];h.forEach(function(P){var R=Ze.__read(gd(P[0],c[0],d),2),C=R[0],b=R[1],L=Ze.__read(gd(P[1],c[1],S),2),z=L[0],_=L[1],w=C+"-"+b+"-"+z+"-"+_;g[w]=g[w]||{x0:C,x1:b,y0:z,y1:_,count:0},g[w].count++});var m=[],y=Ze.__read(r.as,3),E=y[0],$=y[1],T=y[2];if(!E||!$||!T)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');if(!r.sizeByCount)mu.forIn(g,function(P){var R={};R[E]=[P.x0,P.x1,P.x1,P.x0],R[$]=[P.y0,P.y0,P.y1,P.y1],R[T]=P.count,m.push(R)});else{var k=0;mu.forIn(g,function(P){P.count>k&&(k=P.count)}),mu.forIn(g,function(P){var R=P.x0,C=P.x1,b=P.y0,L=P.y1,z=P.count,_=z/k,w=Ze.__read([(R+C)/2,(b+L)/2],2),M=w[0],x=w[1],N=(C-R)*_/2,U=(L-b)*_/2,vn=M-N,K=M+N,an=x-U,fn=x+U,On={};On[E]=[vn,K,K,vn],On[$]=[an,an,fn,fn],On[T]=z,m.push(On)})}n.rows=m}hd("bin.rectangle",pd);hd("bin.rect",pd);var x7={};Object.defineProperty(x7,"__esModule",{value:!0});var kc=Z,R7=W,k7=R7.DataSet.registerTransform,b7=Sn,C7={as:["_centroid_x","_centroid_y"]};function L7(n,r){r=kc.assign({},C7,r);var e=b7.getField(r),t=r.geoView||r.geoDataView;if(kc.isString(t)&&n.dataSet&&(t=n.dataSet.getView(t)),!t||t.dataType!=="geo")throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=r.as;if(!kc.isArray(i)||i.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var a=i[0],o=i[1];n.rows.forEach(function(l){var u=t.geoFeatureByName(l[e]);u&&(t._projectedAs?(l[a]=u[t._projectedAs[2]],l[o]=u[t._projectedAs[3]]):(l[a]=u.centroidX,l[o]=u.centroidY))})}k7("geo.centroid",L7);var N7={};Object.defineProperty(N7,"__esModule",{value:!0});var bc=ln.exports,dd=Z,I7=ti,A7=bc.__importDefault(Qg),D7=W,O7=D7.DataSet.registerTransform,q7=bc.__importDefault(Ro),F7={as:["_x","_y","_centroid_x","_centroid_y"]};function z7(n,r){if(n.dataType!=="geo"&&n.dataType!=="geo-graticule")throw new TypeError("Invalid dataView: this transform is for Geo data only!");r=dd.assign({},F7,r);var e=r.projection;if(!e)throw new TypeError("Invalid projection!");e=q7.default(e);var t=I7.geoPath(e),i=r.as;if(!dd.isArray(i)||i.length!==4)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');n._projectedAs=i;var a=bc.__read(i,4),o=a[0],l=a[1],u=a[2],c=a[3];n.rows.forEach(function(f){f[o]=[],f[l]=[];var v=t(f);if(v){var s=A7.default(v);s._path.forEach(function(g){f[o].push(g[1]),f[l].push(g[2])});var h=t.centroid(f);f[u]=h[0],f[c]=h[1]}}),n.rows=n.rows.filter(function(f){return f[o].length!==0})}O7("geo.projection",z7);var B7={};Object.defineProperty(B7,"__esModule",{value:!0});var Cc=Z,G7=W,U7=G7.DataSet.registerTransform,H7=Sn,Y7={as:["_x","_y"]};function V7(n,r){r=Cc.assign({},Y7,r);var e=H7.getField(r),t=r.geoView||r.geoDataView;if(Cc.isString(t)&&(t=n.dataSet.getView(t)),!t||t.dataType!=="geo")throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=r.as;if(!Cc.isArray(i)||i.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var a=i[0],o=i[1];n.rows.forEach(function(l){var u=t.geoFeatureByName(l[e]);u&&(t._projectedAs?(l[a]=u[t._projectedAs[0]],l[o]=u[t._projectedAs[1]]):(l[a]=u.longitude,l[o]=u.latitude))})}U7("geo.region",V7);var j7={};Object.defineProperty(j7,"__esModule",{value:!0});var At=Z,md=W,X7={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(n){return n.id},source:function(n){return n.source},target:function(n){return n.target},sourceWeight:function(n){return n.value||1},targetWeight:function(n){return n.value||1},sortBy:null};function W7(n,r,e){return e===void 0&&(e={}),n.forEach(function(t){var i=r.edgeSource(t),a=r.edgeTarget(t);e[i]||(e[i]={id:i}),e[a]||(e[a]={id:a})}),At.values(e)}function J7(n,r,e){At.forIn(n,function(t,i){t.inEdges=r.filter(function(a){return""+e.target(a)==""+i}),t.outEdges=r.filter(function(a){return""+e.source(a)==""+i}),t.edges=t.outEdges.concat(t.inEdges),t.frequency=t.edges.length,t.value=0,t.inEdges.forEach(function(a){t.value+=e.targetWeight(a)}),t.outEdges.forEach(function(a){t.value+=e.sourceWeight(a)})})}function K7(n,r){var e={weight:function(i,a){return a.value-i.value},frequency:function(i,a){return a.frequency-i.frequency},id:function(i,a){return(""+r.id(i)).localeCompare(""+r.id(a))}},t=e[r.sortBy];!t&&At.isFunction(r.sortBy)&&(t=r.sortBy),t&&n.sort(t)}function Z7(n,r){var e=n.length;if(!e)throw new TypeError("Invalid nodes: it's empty!");if(r.weight){var t=r.marginRatio;if(t<0||t>=1)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var i=t/(2*e),a=r.thickness;if(a<=0||a>=1)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var o=0;n.forEach(function(u){o+=u.value}),n.forEach(function(u){u.weight=u.value/o,u.width=u.weight*(1-t),u.height=a}),n.forEach(function(u,c){for(var f=0,v=c-1;v>=0;v--)f+=n[v].width+2*i;var s=u.minX=i+f,h=u.maxX=u.minX+u.width,g=u.minY=r.y-a/2,p=u.maxY=g+a;u.x=[s,h,h,s],u.y=[g,g,p,p]})}else{var l=1/e;n.forEach(function(u,c){u.x=(c+.5)*l,u.y=r.y})}}function Q7(n,r,e){if(e.weight){var t={};At.forIn(n,function(i,a){t[a]=i.value}),r.forEach(function(i){var a=e.source(i),o=e.target(i),l=n[a],u=n[o];if(l&&u){var c=t[a],f=e.sourceWeight(i),v=l.minX+(l.value-c)/l.value*l.width,s=v+f/l.value*l.width;t[a]-=f;var h=t[o],g=e.targetWeight(i),p=u.minX+(u.value-h)/u.value*u.width,d=p+g/u.value*u.width;t[o]-=g;var S=e.y;i.x=[v,s,p,d],i.y=[S,S,S,S]}})}else r.forEach(function(i){var a=n[e.source(i)],o=n[e.target(i)];a&&o&&(i.x=[a.x,o.x],i.y=[a.y,o.y])})}function yd(n,r){r=At.assign({},X7,r);var e={},t=n.nodes,i=n.edges;(!At.isArray(t)||t.length===0)&&(t=W7(i,r,e)),t.forEach(function(a){var o=r.id(a);e[o]=a}),J7(e,i,r),K7(t,r),Z7(t,r),Q7(e,i,r),n.nodes=t,n.edges=i}md.DataSet.registerTransform("diagram.arc",yd);md.DataSet.registerTransform("arc",yd);var n_={},yu;if(typeof _0=="function")try{yu=require("graphlib")}catch{}yu||(yu=window.graphlib);var Vr=yu,wu;if(typeof _0=="function")try{wu={cloneDeep:require("lodash/cloneDeep"),constant:require("lodash/constant"),defaults:require("lodash/defaults"),each:require("lodash/each"),filter:require("lodash/filter"),find:require("lodash/find"),flatten:require("lodash/flatten"),forEach:require("lodash/forEach"),forIn:require("lodash/forIn"),has:require("lodash/has"),isUndefined:require("lodash/isUndefined"),last:require("lodash/last"),map:require("lodash/map"),mapValues:require("lodash/mapValues"),max:require("lodash/max"),merge:require("lodash/merge"),min:require("lodash/min"),minBy:require("lodash/minBy"),now:require("lodash/now"),pick:require("lodash/pick"),range:require("lodash/range"),reduce:require("lodash/reduce"),sortBy:require("lodash/sortBy"),uniqueId:require("lodash/uniqueId"),values:require("lodash/values"),zipObject:require("lodash/zipObject")}}catch{}wu||(wu=window._);var Ln=wu,r_=Eu;function Eu(){var n={};n._next=n._prev=n,this._sentinel=n}Eu.prototype.dequeue=function(){var n=this._sentinel,r=n._prev;if(r!==n)return wd(r),r};Eu.prototype.enqueue=function(n){var r=this._sentinel;n._prev&&n._next&&wd(n),n._next=r._next,r._next._prev=n,r._next=n,n._prev=r};Eu.prototype.toString=function(){for(var n=[],r=this._sentinel,e=r._prev;e!==r;)n.push(JSON.stringify(e,e_)),e=e._prev;return"["+n.join(", ")+"]"};function wd(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function e_(n,r){if(n!=="_next"&&n!=="_prev")return r}var de=Ln,t_=Vr.Graph,i_=r_,a_=u_,o_=de.constant(1);function u_(n,r){if(n.nodeCount()<=1)return[];var e=l_(n,r||o_),t=f_(e.graph,e.buckets,e.zeroIdx);return de.flatten(de.map(t,function(i){return n.outEdges(i.v,i.w)}),!0)}function f_(n,r,e){for(var t=[],i=r[r.length-1],a=r[0],o;n.nodeCount();){for(;o=a.dequeue();)Lc(n,r,e,o);for(;o=i.dequeue();)Lc(n,r,e,o);if(n.nodeCount()){for(var l=r.length-2;l>0;--l)if(o=r[l].dequeue(),o){t=t.concat(Lc(n,r,e,o,!0));break}}}return t}function Lc(n,r,e,t,i){var a=i?[]:void 0;return de.forEach(n.inEdges(t.v),function(o){var l=n.edge(o),u=n.node(o.v);i&&a.push({v:o.v,w:o.w}),u.out-=l,Nc(r,e,u)}),de.forEach(n.outEdges(t.v),function(o){var l=n.edge(o),u=o.w,c=n.node(u);c.in-=l,Nc(r,e,c)}),n.removeNode(t.v),a}function l_(n,r){var e=new t_,t=0,i=0;de.forEach(n.nodes(),function(l){e.setNode(l,{v:l,in:0,out:0})}),de.forEach(n.edges(),function(l){var u=e.edge(l.v,l.w)||0,c=r(l),f=u+c;e.setEdge(l.v,l.w,f),i=Math.max(i,e.node(l.v).out+=c),t=Math.max(t,e.node(l.w).in+=c)});var a=de.range(i+t+3).map(function(){return new i_}),o=t+1;return de.forEach(e.nodes(),function(l){Nc(a,o,e.node(l))}),{graph:e,buckets:a,zeroIdx:o}}function Nc(n,r,e){e.out?e.in?n[e.out-e.in+r].enqueue(e):n[n.length-1].enqueue(e):n[0].enqueue(e)}var Qe=Ln,s_=a_,c_={run:v_,undo:g_};function v_(n){var r=n.graph().acyclicer==="greedy"?s_(n,e(n)):h_(n);Qe.forEach(r,function(t){var i=n.edge(t);n.removeEdge(t),i.forwardName=t.name,i.reversed=!0,n.setEdge(t.w,t.v,i,Qe.uniqueId("rev"))});function e(t){return function(i){return t.edge(i).weight}}}function h_(n){var r=[],e={},t={};function i(a){Qe.has(t,a)||(t[a]=!0,e[a]=!0,Qe.forEach(n.outEdges(a),function(o){Qe.has(e,o.w)?r.push(o):i(o.w)}),delete e[a])}return Qe.forEach(n.nodes(),i),r}function g_(n){Qe.forEach(n.edges(),function(r){var e=n.edge(r);if(e.reversed){n.removeEdge(r);var t=e.forwardName;delete e.reversed,delete e.forwardName,n.setEdge(r.w,r.v,e,t)}})}var _n=Ln,Ed=Vr.Graph,pr={addDummyNode:Sd,simplify:p_,asNonCompoundGraph:d_,successorWeights:m_,predecessorWeights:y_,intersectRect:w_,buildLayerMatrix:E_,normalizeRanks:S_,removeEmptyRanks:__,addBorderNode:$_,maxRank:_d,partition:T_,time:M_,notime:P_};function Sd(n,r,e,t){var i;do i=_n.uniqueId(t);while(n.hasNode(i));return e.dummy=r,n.setNode(i,e),i}function p_(n){var r=new Ed().setGraph(n.graph());return _n.forEach(n.nodes(),function(e){r.setNode(e,n.node(e))}),_n.forEach(n.edges(),function(e){var t=r.edge(e.v,e.w)||{weight:0,minlen:1},i=n.edge(e);r.setEdge(e.v,e.w,{weight:t.weight+i.weight,minlen:Math.max(t.minlen,i.minlen)})}),r}function d_(n){var r=new Ed({multigraph:n.isMultigraph()}).setGraph(n.graph());return _n.forEach(n.nodes(),function(e){n.children(e).length||r.setNode(e,n.node(e))}),_n.forEach(n.edges(),function(e){r.setEdge(e,n.edge(e))}),r}function m_(n){var r=_n.map(n.nodes(),function(e){var t={};return _n.forEach(n.outEdges(e),function(i){t[i.w]=(t[i.w]||0)+n.edge(i).weight}),t});return _n.zipObject(n.nodes(),r)}function y_(n){var r=_n.map(n.nodes(),function(e){var t={};return _n.forEach(n.inEdges(e),function(i){t[i.v]=(t[i.v]||0)+n.edge(i).weight}),t});return _n.zipObject(n.nodes(),r)}function w_(n,r){var e=n.x,t=n.y,i=r.x-e,a=r.y-t,o=n.width/2,l=n.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var u,c;return Math.abs(a)*o>Math.abs(i)*l?(a<0&&(l=-l),u=l*i/a,c=l):(i<0&&(o=-o),u=o,c=o*a/i),{x:e+u,y:t+c}}function E_(n){var r=_n.map(_n.range(_d(n)+1),function(){return[]});return _n.forEach(n.nodes(),function(e){var t=n.node(e),i=t.rank;_n.isUndefined(i)||(r[i][t.order]=e)}),r}function S_(n){var r=_n.min(_n.map(n.nodes(),function(e){return n.node(e).rank}));_n.forEach(n.nodes(),function(e){var t=n.node(e);_n.has(t,"rank")&&(t.rank-=r)})}function __(n){var r=_n.min(_n.map(n.nodes(),function(a){return n.node(a).rank})),e=[];_n.forEach(n.nodes(),function(a){var o=n.node(a).rank-r;e[o]||(e[o]=[]),e[o].push(a)});var t=0,i=n.graph().nodeRankFactor;_n.forEach(e,function(a,o){_n.isUndefined(a)&&o%i!=0?--t:t&&_n.forEach(a,function(l){n.node(l).rank+=t})})}function $_(n,r,e,t){var i={width:0,height:0};return arguments.length>=4&&(i.rank=e,i.order=t),Sd(n,"border",i,r)}function _d(n){return _n.max(_n.map(n.nodes(),function(r){var e=n.node(r).rank;if(!_n.isUndefined(e))return e}))}function T_(n,r){var e={lhs:[],rhs:[]};return _n.forEach(n,function(t){r(t)?e.lhs.push(t):e.rhs.push(t)}),e}function M_(n,r){var e=_n.now();try{return r()}finally{console.log(n+" time: "+(_n.now()-e)+"ms")}}function P_(n,r){return r()}var $d=Ln,x_=pr,R_={run:k_,undo:C_};function k_(n){n.graph().dummyChains=[],$d.forEach(n.edges(),function(r){b_(n,r)})}function b_(n,r){var e=r.v,t=n.node(e).rank,i=r.w,a=n.node(i).rank,o=r.name,l=n.edge(r),u=l.labelRank;if(a!==t+1){n.removeEdge(r);var c,f,v;for(v=0,++t;t<a;++v,++t)l.points=[],f={width:0,height:0,edgeLabel:l,edgeObj:r,rank:t},c=x_.addDummyNode(n,"edge",f,"_d"),t===u&&(f.width=l.width,f.height=l.height,f.dummy="edge-label",f.labelpos=l.labelpos),n.setEdge(e,c,{weight:l.weight},o),v===0&&n.graph().dummyChains.push(c),e=c;n.setEdge(e,i,{weight:l.weight},o)}}function C_(n){$d.forEach(n.graph().dummyChains,function(r){var e=n.node(r),t=e.edgeLabel,i;for(n.setEdge(e.edgeObj,t);e.dummy;)i=n.successors(r)[0],n.removeNode(r),t.points.push({x:e.x,y:e.y}),e.dummy==="edge-label"&&(t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height),r=i,e=n.node(r)})}var Su=Ln,_u={longestPath:L_,slack:N_};function L_(n){var r={};function e(t){var i=n.node(t);if(Su.has(r,t))return i.rank;r[t]=!0;var a=Su.min(Su.map(n.outEdges(t),function(o){return e(o.w)-n.edge(o).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}Su.forEach(n.sources(),e)}function N_(n,r){return n.node(r.w).rank-n.node(r.v).rank-n.edge(r).minlen}var $u=Ln,I_=Vr.Graph,Tu=_u.slack,Td=A_;function A_(n){var r=new I_({directed:!1}),e=n.nodes()[0],t=n.nodeCount();r.setNode(e,{});for(var i,a;D_(r,n)<t;)i=O_(r,n),a=r.hasNode(i.v)?Tu(n,i):-Tu(n,i),q_(r,n,a);return r}function D_(n,r){function e(t){$u.forEach(r.nodeEdges(t),function(i){var a=i.v,o=t===a?i.w:a;!n.hasNode(o)&&!Tu(r,i)&&(n.setNode(o,{}),n.setEdge(t,o,{}),e(o))})}return $u.forEach(n.nodes(),e),n.nodeCount()}function O_(n,r){return $u.minBy(r.edges(),function(e){if(n.hasNode(e.v)!==n.hasNode(e.w))return Tu(r,e)})}function q_(n,r,e){$u.forEach(n.nodes(),function(t){r.node(t).rank+=e})}var me=Ln,F_=Td,z_=_u.slack,B_=_u.longestPath,G_=Vr.alg.preorder,U_=Vr.alg.postorder,H_=pr.simplify,Y_=nt;nt.initLowLimValues=Ac;nt.initCutValues=Ic;nt.calcCutValue=Md;nt.leaveEdge=xd;nt.enterEdge=Rd;nt.exchangeEdges=kd;function nt(n){n=H_(n),B_(n);var r=F_(n);Ac(r),Ic(r,n);for(var e,t;e=xd(r);)t=Rd(r,n,e),kd(r,n,e,t)}function Ic(n,r){var e=U_(n,n.nodes());e=e.slice(0,e.length-1),me.forEach(e,function(t){V_(n,r,t)})}function V_(n,r,e){var t=n.node(e),i=t.parent;n.edge(e,i).cutvalue=Md(n,r,e)}function Md(n,r,e){var t=n.node(e),i=t.parent,a=!0,o=r.edge(e,i),l=0;return o||(a=!1,o=r.edge(i,e)),l=o.weight,me.forEach(r.nodeEdges(e),function(u){var c=u.v===e,f=c?u.w:u.v;if(f!==i){var v=c===a,s=r.edge(u).weight;if(l+=v?s:-s,X_(n,e,f)){var h=n.edge(e,f).cutvalue;l+=v?-h:h}}}),l}function Ac(n,r){arguments.length<2&&(r=n.nodes()[0]),Pd(n,{},1,r)}function Pd(n,r,e,t,i){var a=e,o=n.node(t);return r[t]=!0,me.forEach(n.neighbors(t),function(l){me.has(r,l)||(e=Pd(n,r,e,l,t))}),o.low=a,o.lim=e++,i?o.parent=i:delete o.parent,e}function xd(n){return me.find(n.edges(),function(r){return n.edge(r).cutvalue<0})}function Rd(n,r,e){var t=e.v,i=e.w;r.hasEdge(t,i)||(t=e.w,i=e.v);var a=n.node(t),o=n.node(i),l=a,u=!1;a.lim>o.lim&&(l=o,u=!0);var c=me.filter(r.edges(),function(f){return u===bd(n,n.node(f.v),l)&&u!==bd(n,n.node(f.w),l)});return me.minBy(c,function(f){return z_(r,f)})}function kd(n,r,e,t){var i=e.v,a=e.w;n.removeEdge(i,a),n.setEdge(t.v,t.w,{}),Ac(n),Ic(n,r),j_(n,r)}function j_(n,r){var e=me.find(n.nodes(),function(i){return!r.node(i).parent}),t=G_(n,e);t=t.slice(1),me.forEach(t,function(i){var a=n.node(i).parent,o=r.edge(i,a),l=!1;o||(o=r.edge(a,i),l=!0),r.node(i).rank=r.node(a).rank+(l?o.minlen:-o.minlen)})}function X_(n,r,e){return n.hasEdge(r,e)}function bd(n,r,e){return e.low<=r.lim&&r.lim<=e.lim}var W_=_u,Cd=W_.longestPath,J_=Td,K_=Y_,Z_=Q_;function Q_(n){switch(n.graph().ranker){case"network-simplex":Ld(n);break;case"tight-tree":r$(n);break;case"longest-path":n$(n);break;default:Ld(n)}}var n$=Cd;function r$(n){Cd(n),J_(n)}function Ld(n){K_(n)}var Dc=Ln,e$=t$;function t$(n){var r=a$(n);Dc.forEach(n.graph().dummyChains,function(e){for(var t=n.node(e),i=t.edgeObj,a=i$(n,r,i.v,i.w),o=a.path,l=a.lca,u=0,c=o[u],f=!0;e!==i.w;){if(t=n.node(e),f){for(;(c=o[u])!==l&&n.node(c).maxRank<t.rank;)u++;c===l&&(f=!1)}if(!f){for(;u<o.length-1&&n.node(c=o[u+1]).minRank<=t.rank;)u++;c=o[u]}n.setParent(e,c),e=n.successors(e)[0]}})}function i$(n,r,e,t){var i=[],a=[],o=Math.min(r[e].low,r[t].low),l=Math.max(r[e].lim,r[t].lim),u,c;u=e;do u=n.parent(u),i.push(u);while(u&&(r[u].low>o||l>r[u].lim));for(c=u,u=t;(u=n.parent(u))!==c;)a.push(u);return{path:i.concat(a.reverse()),lca:c}}function a$(n){var r={},e=0;function t(i){var a=e;Dc.forEach(n.children(i),t),r[i]={low:a,lim:e++}}return Dc.forEach(n.children(),t),r}var ye=Ln,Oc=pr,o$={run:u$,cleanup:s$};function u$(n){var r=Oc.addDummyNode(n,"root",{},"_root"),e=f$(n),t=ye.max(ye.values(e))-1,i=2*t+1;n.graph().nestingRoot=r,ye.forEach(n.edges(),function(o){n.edge(o).minlen*=i});var a=l$(n)+1;ye.forEach(n.children(),function(o){Nd(n,r,i,a,t,e,o)}),n.graph().nodeRankFactor=i}function Nd(n,r,e,t,i,a,o){var l=n.children(o);if(!l.length){o!==r&&n.setEdge(r,o,{weight:0,minlen:e});return}var u=Oc.addBorderNode(n,"_bt"),c=Oc.addBorderNode(n,"_bb"),f=n.node(o);n.setParent(u,o),f.borderTop=u,n.setParent(c,o),f.borderBottom=c,ye.forEach(l,function(v){Nd(n,r,e,t,i,a,v);var s=n.node(v),h=s.borderTop?s.borderTop:v,g=s.borderBottom?s.borderBottom:v,p=s.borderTop?t:2*t,d=h!==g?1:i-a[o]+1;n.setEdge(u,h,{weight:p,minlen:d,nestingEdge:!0}),n.setEdge(g,c,{weight:p,minlen:d,nestingEdge:!0})}),n.parent(o)||n.setEdge(r,u,{weight:0,minlen:i+a[o]})}function f$(n){var r={};function e(t,i){var a=n.children(t);a&&a.length&&ye.forEach(a,function(o){e(o,i+1)}),r[t]=i}return ye.forEach(n.children(),function(t){e(t,1)}),r}function l$(n){return ye.reduce(n.edges(),function(r,e){return r+n.edge(e).weight},0)}function s$(n){var r=n.graph();n.removeNode(r.nestingRoot),delete r.nestingRoot,ye.forEach(n.edges(),function(e){var t=n.edge(e);t.nestingEdge&&n.removeEdge(e)})}var qc=Ln,c$=pr,v$=h$;function h$(n){function r(e){var t=n.children(e),i=n.node(e);if(t.length&&qc.forEach(t,r),qc.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,o=i.maxRank+1;a<o;++a)Id(n,"borderLeft","_bl",e,i,a),Id(n,"borderRight","_br",e,i,a)}}qc.forEach(n.children(),r)}function Id(n,r,e,t,i,a){var o={width:0,height:0,rank:a,borderType:r},l=i[r][a-1],u=c$.addDummyNode(n,"border",o,e);i[r][a]=u,n.setParent(u,t),l&&n.setEdge(l,u,{weight:1})}var ee=Ln,g$={adjust:p$,undo:d$};function p$(n){var r=n.graph().rankdir.toLowerCase();(r==="lr"||r==="rl")&&Ad(n)}function d$(n){var r=n.graph().rankdir.toLowerCase();(r==="bt"||r==="rl")&&m$(n),(r==="lr"||r==="rl")&&(y$(n),Ad(n))}function Ad(n){ee.forEach(n.nodes(),function(r){Dd(n.node(r))}),ee.forEach(n.edges(),function(r){Dd(n.edge(r))})}function Dd(n){var r=n.width;n.width=n.height,n.height=r}function m$(n){ee.forEach(n.nodes(),function(r){Fc(n.node(r))}),ee.forEach(n.edges(),function(r){var e=n.edge(r);ee.forEach(e.points,Fc),ee.has(e,"y")&&Fc(e)})}function Fc(n){n.y=-n.y}function y$(n){ee.forEach(n.nodes(),function(r){zc(n.node(r))}),ee.forEach(n.edges(),function(r){var e=n.edge(r);ee.forEach(e.points,zc),ee.has(e,"x")&&zc(e)})}function zc(n){var r=n.x;n.x=n.y,n.y=r}var we=Ln,w$=E$;function E$(n){var r={},e=we.filter(n.nodes(),function(l){return!n.children(l).length}),t=we.max(we.map(e,function(l){return n.node(l).rank})),i=we.map(we.range(t+1),function(){return[]});function a(l){if(!we.has(r,l)){r[l]=!0;var u=n.node(l);i[u.rank].push(l),we.forEach(n.successors(l),a)}}var o=we.sortBy(e,function(l){return n.node(l).rank});return we.forEach(o,a),i}var Ce=Ln,S$=_$;function _$(n,r){for(var e=0,t=1;t<r.length;++t)e+=$$(n,r[t-1],r[t]);return e}function $$(n,r,e){for(var t=Ce.zipObject(e,Ce.map(e,function(c,f){return f})),i=Ce.flatten(Ce.map(r,function(c){return Ce.sortBy(Ce.map(n.outEdges(c),function(f){return{pos:t[f.w],weight:n.edge(f).weight}}),"pos")}),!0),a=1;a<e.length;)a<<=1;var o=2*a-1;a-=1;var l=Ce.map(new Array(o),function(){return 0}),u=0;return Ce.forEach(i.forEach(function(c){var f=c.pos+a;l[f]+=c.weight;for(var v=0;f>0;)f%2&&(v+=l[f+1]),f=f-1>>1,l[f]+=c.weight;u+=c.weight*v})),u}var Od=Ln,T$=M$;function M$(n,r){return Od.map(r,function(e){var t=n.inEdges(e);if(t.length){var i=Od.reduce(t,function(a,o){var l=n.edge(o),u=n.node(o.v);return{sum:a.sum+l.weight*u.order,weight:a.weight+l.weight}},{sum:0,weight:0});return{v:e,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:e}})}var Pr=Ln,P$=x$;function x$(n,r){var e={};Pr.forEach(n,function(i,a){var o=e[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};Pr.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),Pr.forEach(r.edges(),function(i){var a=e[i.v],o=e[i.w];!Pr.isUndefined(a)&&!Pr.isUndefined(o)&&(o.indegree++,a.out.push(e[i.w]))});var t=Pr.filter(e,function(i){return!i.indegree});return R$(t)}function R$(n){var r=[];function e(a){return function(o){o.merged||(Pr.isUndefined(o.barycenter)||Pr.isUndefined(a.barycenter)||o.barycenter>=a.barycenter)&&k$(a,o)}}function t(a){return function(o){o.in.push(a),--o.indegree==0&&n.push(o)}}for(;n.length;){var i=n.pop();r.push(i),Pr.forEach(i.in.reverse(),e(i)),Pr.forEach(i.out,t(i))}return Pr.map(Pr.filter(r,function(a){return!a.merged}),function(a){return Pr.pick(a,["vs","i","barycenter","weight"])})}function k$(n,r){var e=0,t=0;n.weight&&(e+=n.barycenter*n.weight,t+=n.weight),r.weight&&(e+=r.barycenter*r.weight,t+=r.weight),n.vs=r.vs.concat(n.vs),n.barycenter=e/t,n.weight=t,n.i=Math.min(r.i,n.i),r.merged=!0}var Ai=Ln,b$=pr,C$=L$;function L$(n,r){var e=b$.partition(n,function(f){return Ai.has(f,"barycenter")}),t=e.lhs,i=Ai.sortBy(e.rhs,function(f){return-f.i}),a=[],o=0,l=0,u=0;t.sort(N$(!!r)),u=qd(a,i,u),Ai.forEach(t,function(f){u+=f.vs.length,a.push(f.vs),o+=f.barycenter*f.weight,l+=f.weight,u=qd(a,i,u)});var c={vs:Ai.flatten(a,!0)};return l&&(c.barycenter=o/l,c.weight=l),c}function qd(n,r,e){for(var t;r.length&&(t=Ai.last(r)).i<=e;)r.pop(),n.push(t.vs),e++;return e}function N$(n){return function(r,e){return r.barycenter<e.barycenter?-1:r.barycenter>e.barycenter?1:n?e.i-r.i:r.i-e.i}}var Le=Ln,I$=T$,A$=P$,D$=C$,O$=Fd;function Fd(n,r,e,t){var i=n.children(r),a=n.node(r),o=a?a.borderLeft:void 0,l=a?a.borderRight:void 0,u={};o&&(i=Le.filter(i,function(g){return g!==o&&g!==l}));var c=I$(n,i);Le.forEach(c,function(g){if(n.children(g.v).length){var p=Fd(n,g.v,e,t);u[g.v]=p,Le.has(p,"barycenter")&&F$(g,p)}});var f=A$(c,e);q$(f,u);var v=D$(f,t);if(o&&(v.vs=Le.flatten([o,v.vs,l],!0),n.predecessors(o).length)){var s=n.node(n.predecessors(o)[0]),h=n.node(n.predecessors(l)[0]);Le.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+s.order+h.order)/(v.weight+2),v.weight+=2}return v}function q$(n,r){Le.forEach(n,function(e){e.vs=Le.flatten(e.vs.map(function(t){return r[t]?r[t].vs:t}),!0)})}function F$(n,r){Le.isUndefined(n.barycenter)?(n.barycenter=r.barycenter,n.weight=r.weight):(n.barycenter=(n.barycenter*n.weight+r.barycenter*r.weight)/(n.weight+r.weight),n.weight+=r.weight)}var Di=Ln,z$=Vr.Graph,B$=G$;function G$(n,r,e){var t=U$(n),i=new z$({compound:!0}).setGraph({root:t}).setDefaultNodeLabel(function(a){return n.node(a)});return Di.forEach(n.nodes(),function(a){var o=n.node(a),l=n.parent(a);(o.rank===r||o.minRank<=r&&r<=o.maxRank)&&(i.setNode(a),i.setParent(a,l||t),Di.forEach(n[e](a),function(u){var c=u.v===a?u.w:u.v,f=i.edge(c,a),v=Di.isUndefined(f)?0:f.weight;i.setEdge(c,a,{weight:n.edge(u).weight+v})}),Di.has(o,"minRank")&&i.setNode(a,{borderLeft:o.borderLeft[r],borderRight:o.borderRight[r]}))}),i}function U$(n){for(var r;n.hasNode(r=Di.uniqueId("_root")););return r}var H$=Ln,Y$=V$;function V$(n,r,e){var t={},i;H$.forEach(e,function(a){for(var o=n.parent(a),l,u;o;){if(l=n.parent(o),l?(u=t[l],t[l]=o):(u=i,i=o),u&&u!==o){r.setEdge(u,o);return}o=l}})}var Ne=Ln,j$=w$,X$=S$,W$=O$,J$=B$,K$=Y$,Z$=Vr.Graph,zd=pr,Q$=nT;function nT(n){var r=zd.maxRank(n),e=Bd(n,Ne.range(1,r+1),"inEdges"),t=Bd(n,Ne.range(r-1,-1,-1),"outEdges"),i=j$(n);Gd(n,i);for(var a=Number.POSITIVE_INFINITY,o,l=0,u=0;u<4;++l,++u){rT(l%2?e:t,l%4>=2),i=zd.buildLayerMatrix(n);var c=X$(n,i);c<a&&(u=0,o=Ne.cloneDeep(i),a=c)}Gd(n,o)}function Bd(n,r,e){return Ne.map(r,function(t){return J$(n,t,e)})}function rT(n,r){var e=new Z$;Ne.forEach(n,function(t){var i=t.graph().root,a=W$(t,i,e,r);Ne.forEach(a.vs,function(o,l){t.node(o).order=l}),K$(t,e,a.vs)})}function Gd(n,r){Ne.forEach(r,function(e){Ne.forEach(e,function(t,i){n.node(t).order=i})})}var tn=Ln,eT=Vr.Graph,tT=pr,iT={positionX:uT,findType1Conflicts:Ud,findType2Conflicts:Hd,addConflict:Bc,hasConflict:Yd,verticalAlignment:Vd,horizontalCompaction:jd,alignCoordinates:Wd,findSmallestWidthAlignment:Xd,balance:Jd};function Ud(n,r){var e={};function t(i,a){var o=0,l=0,u=i.length,c=tn.last(a);return tn.forEach(a,function(f,v){var s=aT(n,f),h=s?n.node(s).order:u;(s||f===c)&&(tn.forEach(a.slice(l,v+1),function(g){tn.forEach(n.predecessors(g),function(p){var d=n.node(p),S=d.order;(S<o||h<S)&&!(d.dummy&&n.node(g).dummy)&&Bc(e,p,g)})}),l=v+1,o=h)}),a}return tn.reduce(r,t),e}function Hd(n,r){var e={};function t(a,o,l,u,c){var f;tn.forEach(tn.range(o,l),function(v){f=a[v],n.node(f).dummy&&tn.forEach(n.predecessors(f),function(s){var h=n.node(s);h.dummy&&(h.order<u||h.order>c)&&Bc(e,s,f)})})}function i(a,o){var l=-1,u,c=0;return tn.forEach(o,function(f,v){if(n.node(f).dummy==="border"){var s=n.predecessors(f);s.length&&(u=n.node(s[0]).order,t(o,c,v,l,u),c=v,l=u)}t(o,c,o.length,u,a.length)}),o}return tn.reduce(r,i),e}function aT(n,r){if(n.node(r).dummy)return tn.find(n.predecessors(r),function(e){return n.node(e).dummy})}function Bc(n,r,e){if(r>e){var t=r;r=e,e=t}var i=n[r];i||(n[r]=i={}),i[e]=!0}function Yd(n,r,e){if(r>e){var t=r;r=e,e=t}return tn.has(n[r],e)}function Vd(n,r,e,t){var i={},a={},o={};return tn.forEach(r,function(l){tn.forEach(l,function(u,c){i[u]=u,a[u]=u,o[u]=c})}),tn.forEach(r,function(l){var u=-1;tn.forEach(l,function(c){var f=t(c);if(f.length){f=tn.sortBy(f,function(p){return o[p]});for(var v=(f.length-1)/2,s=Math.floor(v),h=Math.ceil(v);s<=h;++s){var g=f[s];a[c]===c&&u<o[g]&&!Yd(e,c,g)&&(a[g]=c,a[c]=i[c]=i[g],u=o[g])}}})}),{root:i,align:a}}function jd(n,r,e,t,i){var a={},o=oT(n,r,e,i),l=i?"borderLeft":"borderRight";function u(v,s){for(var h=o.nodes(),g=h.pop(),p={};g;)p[g]?v(g):(p[g]=!0,h.push(g),h=h.concat(s(g))),g=h.pop()}function c(v){a[v]=o.inEdges(v).reduce(function(s,h){return Math.max(s,a[h.v]+o.edge(h))},0)}function f(v){var s=o.outEdges(v).reduce(function(g,p){return Math.min(g,a[p.w]-o.edge(p))},Number.POSITIVE_INFINITY),h=n.node(v);s!==Number.POSITIVE_INFINITY&&h.borderType!==l&&(a[v]=Math.max(a[v],s))}return u(c,o.predecessors.bind(o)),u(f,o.successors.bind(o)),tn.forEach(t,function(v){a[v]=a[e[v]]}),a}function oT(n,r,e,t){var i=new eT,a=n.graph(),o=fT(a.nodesep,a.edgesep,t);return tn.forEach(r,function(l){var u;tn.forEach(l,function(c){var f=e[c];if(i.setNode(f),u){var v=e[u],s=i.edge(v,f);i.setEdge(v,f,Math.max(o(n,c,u),s||0))}u=c})}),i}function Xd(n,r){return tn.minBy(tn.values(r),function(e){var t=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return tn.forIn(e,function(a,o){var l=lT(n,o)/2;t=Math.max(a+l,t),i=Math.min(a-l,i)}),t-i})}function Wd(n,r){var e=tn.values(r),t=tn.min(e),i=tn.max(e);tn.forEach(["u","d"],function(a){tn.forEach(["l","r"],function(o){var l=a+o,u=n[l],c;if(u!==r){var f=tn.values(u);c=o==="l"?t-tn.min(f):i-tn.max(f),c&&(n[l]=tn.mapValues(u,function(v){return v+c}))}})})}function Jd(n,r){return tn.mapValues(n.ul,function(e,t){if(r)return n[r.toLowerCase()][t];var i=tn.sortBy(tn.map(n,t));return(i[1]+i[2])/2})}function uT(n){var r=tT.buildLayerMatrix(n),e=tn.merge(Ud(n,r),Hd(n,r)),t={},i;tn.forEach(["u","d"],function(o){i=o==="u"?r:tn.values(r).reverse(),tn.forEach(["l","r"],function(l){l==="r"&&(i=tn.map(i,function(v){return tn.values(v).reverse()}));var u=(o==="u"?n.predecessors:n.successors).bind(n),c=Vd(n,i,e,u),f=jd(n,i,c.root,c.align,l==="r");l==="r"&&(f=tn.mapValues(f,function(v){return-v})),t[o+l]=f})});var a=Xd(n,t);return Wd(t,a),Jd(t,n.graph().align)}function fT(n,r,e){return function(t,i,a){var o=t.node(i),l=t.node(a),u=0,c;if(u+=o.width/2,tn.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":c=-o.width/2;break;case"r":c=o.width/2;break}if(c&&(u+=e?c:-c),c=0,u+=(o.dummy?r:n)/2,u+=(l.dummy?r:n)/2,u+=l.width/2,tn.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":c=l.width/2;break;case"r":c=-l.width/2;break}return c&&(u+=e?c:-c),c=0,u}}function lT(n,r){return n.node(r).width}var Oi=Ln,Kd=pr,sT=iT.positionX,cT=vT;function vT(n){n=Kd.asNonCompoundGraph(n),hT(n),Oi.forEach(sT(n),function(r,e){n.node(e).x=r})}function hT(n){var r=Kd.buildLayerMatrix(n),e=n.graph().ranksep,t=0;Oi.forEach(r,function(i){var a=Oi.max(Oi.map(i,function(o){return n.node(o).height}));Oi.forEach(i,function(o){n.node(o).y=t+a/2}),t+=a+e})}var un=Ln,Zd=c_,Qd=R_,gT=Z_,pT=pr.normalizeRanks,dT=e$,mT=pr.removeEmptyRanks,n2=o$,yT=v$,r2=g$,wT=Q$,ET=cT,Ie=pr,ST=Vr.Graph,_T=$T;function $T(n,r){var e=r&&r.debugTiming?Ie.time:Ie.notime;e("layout",function(){var t=e("  buildLayoutGraph",function(){return IT(n)});e("  runLayout",function(){TT(t,e)}),e("  updateInputGraph",function(){MT(n,t)})})}function TT(n,r){r("    makeSpaceForEdgeLabels",function(){AT(n)}),r("    removeSelfEdges",function(){HT(n)}),r("    acyclic",function(){Zd.run(n)}),r("    nestingGraph.run",function(){n2.run(n)}),r("    rank",function(){gT(Ie.asNonCompoundGraph(n))}),r("    injectEdgeLabelProxies",function(){DT(n)}),r("    removeEmptyRanks",function(){mT(n)}),r("    nestingGraph.cleanup",function(){n2.cleanup(n)}),r("    normalizeRanks",function(){pT(n)}),r("    assignRankMinMax",function(){OT(n)}),r("    removeEdgeLabelProxies",function(){qT(n)}),r("    normalize.run",function(){Qd.run(n)}),r("    parentDummyChains",function(){dT(n)}),r("    addBorderSegments",function(){yT(n)}),r("    order",function(){wT(n)}),r("    insertSelfEdges",function(){YT(n)}),r("    adjustCoordinateSystem",function(){r2.adjust(n)}),r("    position",function(){ET(n)}),r("    positionSelfEdges",function(){VT(n)}),r("    removeBorderNodes",function(){UT(n)}),r("    normalize.undo",function(){Qd.undo(n)}),r("    fixupEdgeLabelCoords",function(){BT(n)}),r("    undoCoordinateSystem",function(){r2.undo(n)}),r("    translateGraph",function(){FT(n)}),r("    assignNodeIntersects",function(){zT(n)}),r("    reversePoints",function(){GT(n)}),r("    acyclic.undo",function(){Zd.undo(n)})}function MT(n,r){un.forEach(n.nodes(),function(e){var t=n.node(e),i=r.node(e);t&&(t.x=i.x,t.y=i.y,r.children(e).length&&(t.width=i.width,t.height=i.height))}),un.forEach(n.edges(),function(e){var t=n.edge(e),i=r.edge(e);t.points=i.points,un.has(i,"x")&&(t.x=i.x,t.y=i.y)}),n.graph().width=r.graph().width,n.graph().height=r.graph().height}var PT=["nodesep","edgesep","ranksep","marginx","marginy"],xT={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},RT=["acyclicer","ranker","rankdir","align"],kT=["width","height"],bT={width:0,height:0},CT=["minlen","weight","width","height","labeloffset"],LT={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},NT=["labelpos"];function IT(n){var r=new ST({multigraph:!0,compound:!0}),e=Uc(n.graph());return r.setGraph(un.merge({},xT,Gc(e,PT),un.pick(e,RT))),un.forEach(n.nodes(),function(t){var i=Uc(n.node(t));r.setNode(t,un.defaults(Gc(i,kT),bT)),r.setParent(t,n.parent(t))}),un.forEach(n.edges(),function(t){var i=Uc(n.edge(t));r.setEdge(t,un.merge({},LT,Gc(i,CT),un.pick(i,NT)))}),r}function AT(n){var r=n.graph();r.ranksep/=2,un.forEach(n.edges(),function(e){var t=n.edge(e);t.minlen*=2,t.labelpos.toLowerCase()!=="c"&&(r.rankdir==="TB"||r.rankdir==="BT"?t.width+=t.labeloffset:t.height+=t.labeloffset)})}function DT(n){un.forEach(n.edges(),function(r){var e=n.edge(r);if(e.width&&e.height){var t=n.node(r.v),i=n.node(r.w),a={rank:(i.rank-t.rank)/2+t.rank,e:r};Ie.addDummyNode(n,"edge-proxy",a,"_ep")}})}function OT(n){var r=0;un.forEach(n.nodes(),function(e){var t=n.node(e);t.borderTop&&(t.minRank=n.node(t.borderTop).rank,t.maxRank=n.node(t.borderBottom).rank,r=un.max(r,t.maxRank))}),n.graph().maxRank=r}function qT(n){un.forEach(n.nodes(),function(r){var e=n.node(r);e.dummy==="edge-proxy"&&(n.edge(e.e).labelRank=e.rank,n.removeNode(r))})}function FT(n){var r=Number.POSITIVE_INFINITY,e=0,t=Number.POSITIVE_INFINITY,i=0,a=n.graph(),o=a.marginx||0,l=a.marginy||0;function u(c){var f=c.x,v=c.y,s=c.width,h=c.height;r=Math.min(r,f-s/2),e=Math.max(e,f+s/2),t=Math.min(t,v-h/2),i=Math.max(i,v+h/2)}un.forEach(n.nodes(),function(c){u(n.node(c))}),un.forEach(n.edges(),function(c){var f=n.edge(c);un.has(f,"x")&&u(f)}),r-=o,t-=l,un.forEach(n.nodes(),function(c){var f=n.node(c);f.x-=r,f.y-=t}),un.forEach(n.edges(),function(c){var f=n.edge(c);un.forEach(f.points,function(v){v.x-=r,v.y-=t}),un.has(f,"x")&&(f.x-=r),un.has(f,"y")&&(f.y-=t)}),a.width=e-r+o,a.height=i-t+l}function zT(n){un.forEach(n.edges(),function(r){var e=n.edge(r),t=n.node(r.v),i=n.node(r.w),a,o;e.points?(a=e.points[0],o=e.points[e.points.length-1]):(e.points=[],a=i,o=t),e.points.unshift(Ie.intersectRect(t,a)),e.points.push(Ie.intersectRect(i,o))})}function BT(n){un.forEach(n.edges(),function(r){var e=n.edge(r);if(un.has(e,"x"))switch((e.labelpos==="l"||e.labelpos==="r")&&(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset;break}})}function GT(n){un.forEach(n.edges(),function(r){var e=n.edge(r);e.reversed&&e.points.reverse()})}function UT(n){un.forEach(n.nodes(),function(r){if(n.children(r).length){var e=n.node(r),t=n.node(e.borderTop),i=n.node(e.borderBottom),a=n.node(un.last(e.borderLeft)),o=n.node(un.last(e.borderRight));e.width=Math.abs(o.x-a.x),e.height=Math.abs(i.y-t.y),e.x=a.x+e.width/2,e.y=t.y+e.height/2}}),un.forEach(n.nodes(),function(r){n.node(r).dummy==="border"&&n.removeNode(r)})}function HT(n){un.forEach(n.edges(),function(r){if(r.v===r.w){var e=n.node(r.v);e.selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:r,label:n.edge(r)}),n.removeEdge(r)}})}function YT(n){var r=Ie.buildLayerMatrix(n);un.forEach(r,function(e){var t=0;un.forEach(e,function(i,a){var o=n.node(i);o.order=a+t,un.forEach(o.selfEdges,function(l){Ie.addDummyNode(n,"selfedge",{width:l.label.width,height:l.label.height,rank:o.rank,order:a+ ++t,e:l.e,label:l.label},"_se")}),delete o.selfEdges})})}function VT(n){un.forEach(n.nodes(),function(r){var e=n.node(r);if(e.dummy==="selfedge"){var t=n.node(e.e.v),i=t.x+t.width/2,a=t.y,o=e.x-i,l=t.height/2;n.setEdge(e.e,e.label),n.removeNode(r),e.label.points=[{x:i+2*o/3,y:a-l},{x:i+5*o/6,y:a-l},{x:i+o,y:a},{x:i+5*o/6,y:a+l},{x:i+2*o/3,y:a+l}],e.label.x=e.x,e.label.y=e.y}})}function Gc(n,r){return un.mapValues(un.pick(n,r),Number)}function Uc(n){var r={};return un.forEach(n,function(e,t){r[t.toLowerCase()]=e}),r}var Mu=Ln,jT=pr,XT=Vr.Graph,WT={debugOrdering:JT};function JT(n){var r=jT.buildLayerMatrix(n),e=new XT({compound:!0,multigraph:!0}).setGraph({});return Mu.forEach(n.nodes(),function(t){e.setNode(t,{label:t}),e.setParent(t,"layer"+n.node(t).rank)}),Mu.forEach(n.edges(),function(t){e.setEdge(t.v,t.w,{},t.name)}),Mu.forEach(r,function(t,i){var a="layer"+i;e.setNode(a,{rank:"same"}),Mu.reduce(t,function(o,l){return e.setEdge(o,l,{style:"invis"}),l})}),e}var KT="0.8.5",ZT={graphlib:Vr,layout:_T,debug:WT,util:{time:pr.time,notime:pr.notime},version:KT};Object.defineProperty(n_,"__esModule",{value:!0});var QT=ln.exports,nM=Z,e2=QT.__importDefault(ZT),t2=W,rM={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(n){return n.source},target:function(n){return n.target}};function i2(n,r){r=nM.assign({},rM,r);var e=new e2.default.graphlib.Graph;e.setGraph({}),e.setDefaultEdgeLabel(function(){return{}}),n.nodes.forEach(function(a){var o=r.nodeId?r.nodeId(a):a.id;!a.height&&!a.width&&(a.height=a.width=r.edgesep),e.setNode(o,a)}),n.edges.forEach(function(a){e.setEdge(r.source(a),r.target(a))}),e2.default.layout(e);var t=[],i=[];e.nodes().forEach(function(a){var o=e.node(a),l=o.x,u=o.y,c=o.height,f=o.width;o.x=[l-f/2,l+f/2,l+f/2,l-f/2],o.y=[u+c/2,u+c/2,u-c/2,u-c/2],t.push(o)}),e.edges().forEach(function(a){var o=e.edge(a).points,l={};l.x=o.map(function(u){return u.x}),l.y=o.map(function(u){return u.y}),i.push(l)}),n.nodes=t,n.edges=i}t2.DataSet.registerTransform("diagram.dagre",i2);t2.DataSet.registerTransform("dagre",i2);var eM={},Ar="$";function Pu(){}Pu.prototype=qi.prototype={constructor:Pu,has:function(n){return Ar+n in this},get:function(n){return this[Ar+n]},set:function(n,r){return this[Ar+n]=r,this},remove:function(n){var r=Ar+n;return r in this&&delete this[r]},clear:function(){for(var n in this)n[0]===Ar&&delete this[n]},keys:function(){var n=[];for(var r in this)r[0]===Ar&&n.push(r.slice(1));return n},values:function(){var n=[];for(var r in this)r[0]===Ar&&n.push(this[r]);return n},entries:function(){var n=[];for(var r in this)r[0]===Ar&&n.push({key:r.slice(1),value:this[r]});return n},size:function(){var n=0;for(var r in this)r[0]===Ar&&++n;return n},empty:function(){for(var n in this)if(n[0]===Ar)return!1;return!0},each:function(n){for(var r in this)r[0]===Ar&&n(this[r],r.slice(1),this)}};function qi(n,r){var e=new Pu;if(n instanceof Pu)n.each(function(l,u){e.set(u,l)});else if(Array.isArray(n)){var t=-1,i=n.length,a;if(r==null)for(;++t<i;)e.set(t,n[t]);else for(;++t<i;)e.set(r(a=n[t],t,n),a)}else if(n)for(var o in n)e.set(o,n[o]);return e}function tM(){var n=[],r=[],e,t,i;function a(l,u,c,f){if(u>=n.length)return e!=null&&l.sort(e),t!=null?t(l):l;for(var v=-1,s=l.length,h=n[u++],g,p,d=qi(),S,m=c();++v<s;)(S=d.get(g=h(p=l[v])+""))?S.push(p):d.set(g,[p]);return d.each(function(y,E){f(m,E,a(y,u,c,f))}),m}function o(l,u){if(++u>n.length)return l;var c,f=r[u-1];return t!=null&&u>=n.length?c=l.entries():(c=[],l.each(function(v,s){c.push({key:s,values:o(v,u)})})),f!=null?c.sort(function(v,s){return f(v.key,s.key)}):c}return i={object:function(l){return a(l,0,iM,aM)},map:function(l){return a(l,0,a2,o2)},entries:function(l){return o(a(l,0,a2,o2),0)},key:function(l){return n.push(l),i},sortKeys:function(l){return r[n.length-1]=l,i},sortValues:function(l){return e=l,i},rollup:function(l){return t=l,i}}}function iM(){return{}}function aM(n,r,e){n[r]=e}function a2(){return qi()}function o2(n,r,e){n.set(r,e)}function u2(){}var rt=qi.prototype;u2.prototype={constructor:u2,has:rt.has,add:function(n){return n+="",this[Ar+n]=n,this},remove:rt.remove,clear:rt.clear,values:rt.keys,size:rt.size,empty:rt.empty,each:rt.each};function oM(n){return n.target.depth}function uM(n){return n.depth}function fM(n,r){return r-1-n.height}function f2(n,r){return n.sourceLinks.length?n.depth:r-1}function lM(n){return n.targetLinks.length?n.depth:n.sourceLinks.length?Wn(n.sourceLinks,oM)-1:0}function xu(n){return function(){return n}}function l2(n,r){return Hc(n.source,r.source)||n.index-r.index}function s2(n,r){return Hc(n.target,r.target)||n.index-r.index}function Hc(n,r){return n.y0-r.y0}function Yc(n){return n.value}function sM(n){return n.index}function cM(n){return n.nodes}function vM(n){return n.links}function c2(n,r){var e=n.get(r);if(!e)throw new Error("missing: "+r);return e}function hM(){var n=0,r=0,e=1,t=1,i=24,a=8,o=sM,l=f2,u,c=cM,f=vM,v=6;function s(){var m={nodes:c.apply(null,arguments),links:f.apply(null,arguments)};return h(m),g(m),p(m),d(m),S(m),m}s.update=function(m){return S(m),m},s.nodeId=function(m){return arguments.length?(o=typeof m=="function"?m:xu(m),s):o},s.nodeAlign=function(m){return arguments.length?(l=typeof m=="function"?m:xu(m),s):l},s.nodeSort=function(m){return arguments.length?(u=m,s):u},s.nodeWidth=function(m){return arguments.length?(i=+m,s):i},s.nodePadding=function(m){return arguments.length?(a=+m,s):a},s.nodes=function(m){return arguments.length?(c=typeof m=="function"?m:xu(m),s):c},s.links=function(m){return arguments.length?(f=typeof m=="function"?m:xu(m),s):f},s.size=function(m){return arguments.length?(n=r=0,e=+m[0],t=+m[1],s):[e-n,t-r]},s.extent=function(m){return arguments.length?(n=+m[0][0],e=+m[1][0],r=+m[0][1],t=+m[1][1],s):[[n,r],[e,t]]},s.iterations=function(m){return arguments.length?(v=+m,s):v};function h(m){m.nodes.forEach(function(E,$){E.index=$,E.sourceLinks=[],E.targetLinks=[]});var y=qi(m.nodes,o);m.links.forEach(function(E,$){E.index=$;var T=E.source,k=E.target;typeof T!="object"&&(T=E.source=c2(y,T)),typeof k!="object"&&(k=E.target=c2(y,k)),T.sourceLinks.push(E),k.targetLinks.push(E)})}function g(m){m.nodes.forEach(function(y){y.value=Math.max(uf(y.sourceLinks,Yc),uf(y.targetLinks,Yc))})}function p(m){var y,E,$,T=m.nodes.length;for(y=m.nodes,E=[],$=0;y.length;++$,y=E,E=[]){if($>T)throw new Error("circular link");y.forEach(function(P){P.depth=$,P.sourceLinks.forEach(function(R){E.indexOf(R.target)<0&&E.push(R.target)})})}for(y=m.nodes,E=[],$=0;y.length;++$,y=E,E=[]){if($>T)throw new Error("circular link");y.forEach(function(P){P.height=$,P.targetLinks.forEach(function(R){E.indexOf(R.source)<0&&E.push(R.source)})})}var k=(e-n-i)/($-1);m.nodes.forEach(function(P){P.x1=(P.x0=n+Math.max(0,Math.min($-1,Math.floor(l.call(null,P,$))))*k)+i})}function d(m){var y=tM().key(function(C){return C.x0}).sortKeys(of).entries(m.nodes).map(function(C){return C.values});T(),R();for(var E=.9,$=v;$>0;--$,E*=.9)P(E),R(),k(E),R();function T(){var C=Wn(y,function(b){return(t-r-(b.length-1)*a)/uf(b,Yc)});y.forEach(function(b){u!=null&&b.sort(u),b.forEach(function(L,z){L.y1=(L.y0=z)+L.value*C})}),m.links.forEach(function(b){b.width=b.value*C})}function k(C){y.forEach(function(b){b.forEach(function(L){let z=L.y0;for(const{target:_,width:w,value:M}of L.sourceLinks.sort(s2)){if(M>0){let x=0;for(const{source:N,width:U}of _.targetLinks){if(N===L)break;x+=U+a/2}x=(z-x-_.y0)*C*(M/Math.min(L.value,_.value)),_.y0+=x,_.y1+=x}z+=w+a/2}})})}function P(C){y.slice().reverse().forEach(function(b){b.forEach(function(L){let z=L.y0;for(const{source:_,width:w,value:M}of L.targetLinks.sort(l2)){if(M>0){let x=0;for(const{target:N,width:U}of _.sourceLinks){if(N===L)break;x+=U+a/2}x=(z-x-_.y0)*C*(M/Math.min(L.value,_.value)),_.y0+=x,_.y1+=x}z+=w+a/2}})})}function R(){y.forEach(function(C){var b,L,z=r,_=C.length,w;for(u===void 0&&C.sort(Hc),w=0;w<_;++w)b=C[w],L=z-b.y0,L>0&&(b.y0+=L,b.y1+=L),z=b.y1+a;if(L=z-a-t,L>0)for(z=b.y0-=L,b.y1-=L,w=_-2;w>=0;--w)b=C[w],L=b.y1+a-z,L>0&&(b.y0-=L,b.y1-=L),z=b.y0})}}function S(m){m.nodes.forEach(function(y){y.sourceLinks.sort(s2),y.targetLinks.sort(l2)}),m.nodes.forEach(function(y){var E=y.y0,$=E;y.sourceLinks.forEach(function(T){T.y0=E+T.width/2,E+=T.width}),y.targetLinks.forEach(function(T){T.y1=$+T.width/2,$+=T.width})})}return s}var Vc=Math.PI,jc=2*Vc,et=1e-6,gM=jc-et;function Xc(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v2(){return new Xc}Xc.prototype=v2.prototype={constructor:Xc,moveTo:function(n,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,r){this._+="L"+(this._x1=+n)+","+(this._y1=+r)},quadraticCurveTo:function(n,r,e,t){this._+="Q"+ +n+","+ +r+","+(this._x1=+e)+","+(this._y1=+t)},bezierCurveTo:function(n,r,e,t,i,a){this._+="C"+ +n+","+ +r+","+ +e+","+ +t+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(n,r,e,t,i){n=+n,r=+r,e=+e,t=+t,i=+i;var a=this._x1,o=this._y1,l=e-n,u=t-r,c=a-n,f=o-r,v=c*c+f*f;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=n)+","+(this._y1=r);else if(v>et)if(!(Math.abs(f*l-u*c)>et)||!i)this._+="L"+(this._x1=n)+","+(this._y1=r);else{var s=e-a,h=t-o,g=l*l+u*u,p=s*s+h*h,d=Math.sqrt(g),S=Math.sqrt(v),m=i*Math.tan((Vc-Math.acos((g+v-p)/(2*d*S)))/2),y=m/S,E=m/d;Math.abs(y-1)>et&&(this._+="L"+(n+y*c)+","+(r+y*f)),this._+="A"+i+","+i+",0,0,"+ +(f*s>c*h)+","+(this._x1=n+E*l)+","+(this._y1=r+E*u)}},arc:function(n,r,e,t,i,a){n=+n,r=+r,e=+e,a=!!a;var o=e*Math.cos(t),l=e*Math.sin(t),u=n+o,c=r+l,f=1^a,v=a?t-i:i-t;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+u+","+c:(Math.abs(this._x1-u)>et||Math.abs(this._y1-c)>et)&&(this._+="L"+u+","+c),!!e&&(v<0&&(v=v%jc+jc),v>gM?this._+="A"+e+","+e+",0,1,"+f+","+(n-o)+","+(r-l)+"A"+e+","+e+",0,1,"+f+","+(this._x1=u)+","+(this._y1=c):v>et&&(this._+="A"+e+","+e+",0,"+ +(v>=Vc)+","+f+","+(this._x1=n+e*Math.cos(i))+","+(this._y1=r+e*Math.sin(i))))},rect:function(n,r,e,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)+"h"+ +e+"v"+ +t+"h"+-e+"Z"},toString:function(){return this._}};function h2(n){return function(){return n}}function pM(n){return n[0]}function dM(n){return n[1]}var mM=Array.prototype.slice;function yM(n){return n.source}function wM(n){return n.target}function EM(n){var r=yM,e=wM,t=pM,i=dM,a=null;function o(){var l,u=mM.call(arguments),c=r.apply(this,u),f=e.apply(this,u);if(a||(a=l=v2()),n(a,+t.apply(this,(u[0]=c,u)),+i.apply(this,u),+t.apply(this,(u[0]=f,u)),+i.apply(this,u)),l)return a=null,l+""||null}return o.source=function(l){return arguments.length?(r=l,o):r},o.target=function(l){return arguments.length?(e=l,o):e},o.x=function(l){return arguments.length?(t=typeof l=="function"?l:h2(+l),o):t},o.y=function(l){return arguments.length?(i=typeof l=="function"?l:h2(+l),o):i},o.context=function(l){return arguments.length?(a=l==null?null:l,o):a},o}function SM(n,r,e,t,i){n.moveTo(r,e),n.bezierCurveTo(r=(r+t)/2,e,r,i,t,i)}function _M(){return EM(SM)}function $M(n){return[n.source.x1,n.y0]}function TM(n){return[n.target.x0,n.y1]}function MM(){return _M().source($M).target(TM)}var PM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",sankey:hM,sankeyCenter:lM,sankeyLeft:uM,sankeyRight:fM,sankeyJustify:f2,sankeyLinkHorizontal:MM}),xM=Xr(PM);Object.defineProperty(eM,"__esModule",{value:!0});var Ru=Z,Fi=xM,g2=W,RM={sankeyLeft:Fi.sankeyLeft,sankeyRight:Fi.sankeyRight,sankeyCenter:Fi.sankeyCenter,sankeyJustify:Fi.sankeyJustify},kM={value:function(n){return n.value},source:function(n){return n.source},target:function(n){return n.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02,sort:void 0};function p2(n,r){r=Ru.assign({},kM,r);var e=null;Ru.isString(r.nodeAlign)?e=RM[r.nodeAlign]:Ru.isFunction(r.nodeAlign)&&(e=r.nodeAlign);var t=Fi.sankey().nodeSort(r.sort).links(function(i){return i.edges}).nodeWidth(r.nodeWidth).nodePadding(r.nodePadding).extent([[0,0],[1,1]]);Ru.isFunction(r.nodeId)&&t.nodeId(r.nodeId),e&&t.nodeAlign(e),t(n),n.nodes.forEach(function(i){var a=i.x0,o=i.x1,l=i.y0,u=i.y1;i.x=[a,o,o,a],i.y=[l,l,u,u]}),n.edges.forEach(function(i){var a=i.source,o=i.target,l=a.x1,u=o.x0;i.x=[l,l,u,u];var c=i.width/2;i.y=[i.y0+c,i.y0-c,i.y1+c,i.y1-c]})}g2.DataSet.registerTransform("diagram.sankey",p2);g2.DataSet.registerTransform("sankey",p2);var bM={};function d2(n){return function(){return n}}function CM(n){return n[0]}function LM(n){return n[1]}function ku(){this._=null}function bu(n){n.U=n.C=n.L=n.R=n.P=n.N=null}ku.prototype={constructor:ku,insert:function(n,r){var e,t,i;if(n){if(r.P=n,r.N=n.N,n.N&&(n.N.P=r),n.N=r,n.R){for(n=n.R;n.L;)n=n.L;n.L=r}else n.R=r;e=n}else this._?(n=m2(this._),r.P=null,r.N=n,n.P=n.L=r,e=n):(r.P=r.N=null,this._=r,e=null);for(r.L=r.R=null,r.U=e,r.C=!0,n=r;e&&e.C;)t=e.U,e===t.L?(i=t.R,i&&i.C?(e.C=i.C=!1,t.C=!0,n=t):(n===e.R&&(zi(this,e),n=e,e=n.U),e.C=!1,t.C=!0,Bi(this,t))):(i=t.L,i&&i.C?(e.C=i.C=!1,t.C=!0,n=t):(n===e.L&&(Bi(this,e),n=e,e=n.U),e.C=!1,t.C=!0,zi(this,t))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var r=n.U,e,t=n.L,i=n.R,a,o;if(t?i?a=m2(i):a=t:a=i,r?r.L===n?r.L=a:r.R=a:this._=a,t&&i?(o=a.C,a.C=n.C,a.L=t,t.U=a,a!==i?(r=a.U,a.U=n.U,n=a.R,r.L=n,a.R=i,i.U=a):(a.U=r,r=a,n=a.R)):(o=n.C,n=a),n&&(n.U=r),!o){if(n&&n.C){n.C=!1;return}do{if(n===this._)break;if(n===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,zi(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){(!e.R||!e.R.C)&&(e.L.C=!1,e.C=!0,Bi(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,zi(this,r),n=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,Bi(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){(!e.L||!e.L.C)&&(e.R.C=!1,e.C=!0,zi(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Bi(this,r),n=this._;break}e.C=!0,n=r,r=r.U}while(!n.C);n&&(n.C=!1)}}};function zi(n,r){var e=r,t=r.R,i=e.U;i?i.L===e?i.L=t:i.R=t:n._=t,t.U=i,e.U=t,e.R=t.L,e.R&&(e.R.U=e),t.L=e}function Bi(n,r){var e=r,t=r.L,i=e.U;i?i.L===e?i.L=t:i.R=t:n._=t,t.U=i,e.U=t,e.L=t.R,e.L&&(e.L.U=e),t.R=e}function m2(n){for(;n.L;)n=n.L;return n}function Gi(n,r,e,t){var i=[null,null],a=Zn.push(i)-1;return i.left=n,i.right=r,e&&Cu(i,n,r,e),t&&Cu(i,r,n,t),xr[n.index].halfedges.push(a),xr[r.index].halfedges.push(a),i}function Ui(n,r,e){var t=[r,e];return t.left=n,t}function Cu(n,r,e,t){!n[0]&&!n[1]?(n[0]=t,n.left=r,n.right=e):n.left===e?n[1]=t:n[0]=t}function NM(n,r,e,t,i){var a=n[0],o=n[1],l=a[0],u=a[1],c=o[0],f=o[1],v=0,s=1,h=c-l,g=f-u,p;if(p=r-l,!(!h&&p>0)){if(p/=h,h<0){if(p<v)return;p<s&&(s=p)}else if(h>0){if(p>s)return;p>v&&(v=p)}if(p=t-l,!(!h&&p<0)){if(p/=h,h<0){if(p>s)return;p>v&&(v=p)}else if(h>0){if(p<v)return;p<s&&(s=p)}if(p=e-u,!(!g&&p>0)){if(p/=g,g<0){if(p<v)return;p<s&&(s=p)}else if(g>0){if(p>s)return;p>v&&(v=p)}if(p=i-u,!(!g&&p<0)){if(p/=g,g<0){if(p>s)return;p>v&&(v=p)}else if(g>0){if(p<v)return;p<s&&(s=p)}return!(v>0)&&!(s<1)||(v>0&&(n[0]=[l+v*h,u+v*g]),s<1&&(n[1]=[l+s*h,u+s*g])),!0}}}}}function IM(n,r,e,t,i){var a=n[1];if(a)return!0;var o=n[0],l=n.left,u=n.right,c=l[0],f=l[1],v=u[0],s=u[1],h=(c+v)/2,g=(f+s)/2,p,d;if(s===f){if(h<r||h>=t)return;if(c>v){if(!o)o=[h,e];else if(o[1]>=i)return;a=[h,i]}else{if(!o)o=[h,i];else if(o[1]<e)return;a=[h,e]}}else if(p=(c-v)/(s-f),d=g-p*h,p<-1||p>1)if(c>v){if(!o)o=[(e-d)/p,e];else if(o[1]>=i)return;a=[(i-d)/p,i]}else{if(!o)o=[(i-d)/p,i];else if(o[1]<e)return;a=[(e-d)/p,e]}else if(f<s){if(!o)o=[r,p*r+d];else if(o[0]>=t)return;a=[t,p*t+d]}else{if(!o)o=[t,p*t+d];else if(o[0]<r)return;a=[r,p*r+d]}return n[0]=o,n[1]=a,!0}function AM(n,r,e,t){for(var i=Zn.length,a;i--;)(!IM(a=Zn[i],n,r,e,t)||!NM(a,n,r,e,t)||!(Math.abs(a[0][0]-a[1][0])>Mn||Math.abs(a[0][1]-a[1][1])>Mn))&&delete Zn[i]}function DM(n){return xr[n.index]={site:n,halfedges:[]}}function OM(n,r){var e=n.site,t=r.left,i=r.right;return e===i&&(i=t,t=e),i?Math.atan2(i[1]-t[1],i[0]-t[0]):(e===t?(t=r[1],i=r[0]):(t=r[0],i=r[1]),Math.atan2(t[0]-i[0],i[1]-t[1]))}function y2(n,r){return r[+(r.left!==n.site)]}function qM(n,r){return r[+(r.left===n.site)]}function FM(){for(var n=0,r=xr.length,e,t,i,a;n<r;++n)if((e=xr[n])&&(a=(t=e.halfedges).length)){var o=new Array(a),l=new Array(a);for(i=0;i<a;++i)o[i]=i,l[i]=OM(e,Zn[t[i]]);for(o.sort(function(u,c){return l[c]-l[u]}),i=0;i<a;++i)l[i]=t[o[i]];for(i=0;i<a;++i)t[i]=l[i]}}function zM(n,r,e,t){var i=xr.length,a,o,l,u,c,f,v,s,h,g,p,d,S=!0;for(a=0;a<i;++a)if(o=xr[a]){for(l=o.site,c=o.halfedges,u=c.length;u--;)Zn[c[u]]||c.splice(u,1);for(u=0,f=c.length;u<f;)g=qM(o,Zn[c[u]]),p=g[0],d=g[1],v=y2(o,Zn[c[++u%f]]),s=v[0],h=v[1],(Math.abs(p-s)>Mn||Math.abs(d-h)>Mn)&&(c.splice(u,0,Zn.push(Ui(l,g,Math.abs(p-n)<Mn&&t-d>Mn?[n,Math.abs(s-n)<Mn?h:t]:Math.abs(d-t)<Mn&&e-p>Mn?[Math.abs(h-t)<Mn?s:e,t]:Math.abs(p-e)<Mn&&d-r>Mn?[e,Math.abs(s-e)<Mn?h:r]:Math.abs(d-r)<Mn&&p-n>Mn?[Math.abs(h-r)<Mn?s:n,r]:null))-1),++f);f&&(S=!1)}if(S){var m,y,E,$=1/0;for(a=0,S=null;a<i;++a)(o=xr[a])&&(l=o.site,m=l[0]-n,y=l[1]-r,E=m*m+y*y,E<$&&($=E,S=o));if(S){var T=[n,r],k=[n,t],P=[e,t],R=[e,r];S.halfedges.push(Zn.push(Ui(l=S.site,T,k))-1,Zn.push(Ui(l,k,P))-1,Zn.push(Ui(l,P,R))-1,Zn.push(Ui(l,R,T))-1)}}for(a=0;a<i;++a)(o=xr[a])&&(o.halfedges.length||delete xr[a])}var w2=[],Wc;function BM(){bu(this),this.x=this.y=this.arc=this.site=this.cy=null}function Dt(n){var r=n.P,e=n.N;if(!(!r||!e)){var t=r.site,i=n.site,a=e.site;if(t!==a){var o=i[0],l=i[1],u=t[0]-o,c=t[1]-l,f=a[0]-o,v=a[1]-l,s=2*(u*v-c*f);if(!(s>=-VM)){var h=u*u+c*c,g=f*f+v*v,p=(v*h-c*g)/s,d=(u*g-f*h)/s,S=w2.pop()||new BM;S.arc=n,S.site=i,S.x=p+o,S.y=(S.cy=d+l)+Math.sqrt(p*p+d*d),n.circle=S;for(var m=null,y=Hi._;y;)if(S.y<y.y||S.y===y.y&&S.x<=y.x)if(y.L)y=y.L;else{m=y.P;break}else if(y.R)y=y.R;else{m=y;break}Hi.insert(m,S),m||(Wc=S)}}}}function Ot(n){var r=n.circle;r&&(r.P||(Wc=r.N),Hi.remove(r),w2.push(r),bu(r),n.circle=null)}var E2=[];function GM(){bu(this),this.edge=this.site=this.circle=null}function S2(n){var r=E2.pop()||new GM;return r.site=n,r}function Jc(n){Ot(n),qt.remove(n),E2.push(n),bu(n)}function UM(n){var r=n.circle,e=r.x,t=r.cy,i=[e,t],a=n.P,o=n.N,l=[n];Jc(n);for(var u=a;u.circle&&Math.abs(e-u.circle.x)<Mn&&Math.abs(t-u.circle.cy)<Mn;)a=u.P,l.unshift(u),Jc(u),u=a;l.unshift(u),Ot(u);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<Mn&&Math.abs(t-c.circle.cy)<Mn;)o=c.N,l.push(c),Jc(c),c=o;l.push(c),Ot(c);var f=l.length,v;for(v=1;v<f;++v)c=l[v],u=l[v-1],Cu(c.edge,u.site,c.site,i);u=l[0],c=l[f-1],c.edge=Gi(u.site,c.site,null,i),Dt(u),Dt(c)}function HM(n){for(var r=n[0],e=n[1],t,i,a,o,l=qt._;l;)if(a=_2(l,e)-r,a>Mn)l=l.L;else if(o=r-YM(l,e),o>Mn){if(!l.R){t=l;break}l=l.R}else{a>-Mn?(t=l.P,i=l):o>-Mn?(t=l,i=l.N):t=i=l;break}DM(n);var u=S2(n);if(qt.insert(t,u),!(!t&&!i)){if(t===i){Ot(t),i=S2(t.site),qt.insert(u,i),u.edge=i.edge=Gi(t.site,u.site),Dt(t),Dt(i);return}if(!i){u.edge=Gi(t.site,u.site);return}Ot(t),Ot(i);var c=t.site,f=c[0],v=c[1],s=n[0]-f,h=n[1]-v,g=i.site,p=g[0]-f,d=g[1]-v,S=2*(s*d-h*p),m=s*s+h*h,y=p*p+d*d,E=[(d*m-h*y)/S+f,(s*y-p*m)/S+v];Cu(i.edge,c,g,E),u.edge=Gi(c,n,null,E),i.edge=Gi(n,g,null,E),Dt(t),Dt(i)}}function _2(n,r){var e=n.site,t=e[0],i=e[1],a=i-r;if(!a)return t;var o=n.P;if(!o)return-1/0;e=o.site;var l=e[0],u=e[1],c=u-r;if(!c)return l;var f=l-t,v=1/a-1/c,s=f/c;return v?(-s+Math.sqrt(s*s-2*v*(f*f/(-2*c)-u+c/2+i-a/2)))/v+t:(t+l)/2}function YM(n,r){var e=n.N;if(e)return _2(e,r);var t=n.site;return t[1]===r?t[0]:1/0}var Mn=1e-6,VM=1e-12,qt,xr,Hi,Zn;function jM(n,r,e){return(n[0]-e[0])*(r[1]-n[1])-(n[0]-r[0])*(e[1]-n[1])}function XM(n,r){return r[1]-n[1]||r[0]-n[0]}function Kc(n,r){var e=n.sort(XM).pop(),t,i,a;for(Zn=[],xr=new Array(n.length),qt=new ku,Hi=new ku;;)if(a=Wc,e&&(!a||e[1]<a.y||e[1]===a.y&&e[0]<a.x))(e[0]!==t||e[1]!==i)&&(HM(e),t=e[0],i=e[1]),e=n.pop();else if(a)UM(a.arc);else break;if(FM(),r){var o=+r[0][0],l=+r[0][1],u=+r[1][0],c=+r[1][1];AM(o,l,u,c),zM(o,l,u,c)}this.edges=Zn,this.cells=xr,qt=Hi=Zn=xr=null}Kc.prototype={constructor:Kc,polygons:function(){var n=this.edges;return this.cells.map(function(r){var e=r.halfedges.map(function(t){return y2(r,n[t])});return e.data=r.site.data,e})},triangles:function(){var n=[],r=this.edges;return this.cells.forEach(function(e,t){if(!!(l=(a=e.halfedges).length))for(var i=e.site,a,o=-1,l,u,c=r[a[l-1]],f=c.left===i?c.right:c.left;++o<l;)u=f,c=r[a[o]],f=c.left===i?c.right:c.left,u&&f&&t<u.index&&t<f.index&&jM(i,u,f)<0&&n.push([i.data,u.data,f.data])}),n},links:function(){return this.edges.filter(function(n){return n.right}).map(function(n){return{source:n.left.data,target:n.right.data}})},find:function(n,r,e){for(var t=this,i,a=t._found||0,o=t.cells.length,l;!(l=t.cells[a]);)if(++a>=o)return null;var u=n-l.site[0],c=r-l.site[1],f=u*u+c*c;do l=t.cells[i=a],a=null,l.halfedges.forEach(function(v){var s=t.edges[v],h=s.left;if(!((h===l.site||!h)&&!(h=s.right))){var g=n-h[0],p=r-h[1],d=g*g+p*p;d<f&&(f=d,a=h.index)}});while(a!==null);return t._found=i,e==null||f<=e*e?l.site:null}};function WM(){var n=CM,r=LM,e=null;function t(i){return new Kc(i.map(function(a,o){var l=[Math.round(n(a,o,i)/Mn)*Mn,Math.round(r(a,o,i)/Mn)*Mn];return l.index=o,l.data=a,l}),e)}return t.polygons=function(i){return t(i).polygons()},t.links=function(i){return t(i).links()},t.triangles=function(i){return t(i).triangles()},t.x=function(i){return arguments.length?(n=typeof i=="function"?i:d2(+i),t):n},t.y=function(i){return arguments.length?(r=typeof i=="function"?i:d2(+i),t):r},t.extent=function(i){return arguments.length?(e=i==null?null:[[+i[0][0],+i[0][1]],[+i[1][0],+i[1][1]]],t):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},t.size=function(i){return arguments.length?(e=i==null?null:[[0,0],[+i[0],+i[1]]],t):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},t}var JM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",voronoi:WM}),KM=Xr(JM);Object.defineProperty(bM,"__esModule",{value:!0});var ZM=ln.exports,QM=ZM.__importStar(KM),Zc=Z,nP=W,$2=nP.DataSet.registerTransform,rP=Sn,eP={as:["_x","_y"]};function T2(n,r){r=Zc.assign({},eP,r);var e=r.as;if(!Zc.isArray(e)||e.length!==2)throw new TypeError("Invalid as: must be an array with two strings!");var t=e[0],i=e[1],a=rP.getFields(r);if(!Zc.isArray(a)||a.length!==2)throw new TypeError("Invalid fields: must be an array with two strings!");var o=a[0],l=a[1],u=n.rows,c=u.map(function(s){return[s[o],s[l]]}),f=QM.voronoi();r.extend&&f.extent(r.extend),r.size&&f.size(r.size);var v=f(c).polygons();u.forEach(function(s,h){var g=v[h].filter(function(p){return!!p});s[t]=g.map(function(p){return p[0]}),s[i]=g.map(function(p){return p[1]})})}$2("diagram.voronoi",T2);$2("voronoi",T2);var tP={};Object.defineProperty(tP,"__esModule",{value:!0});var iP=ln.exports,aP=iP.__importStar(Ct),M2=Z,Qc=W,oP=Sn,uP={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function P2(n,r){if(n.dataType!==Qc.DataSet.CONSTANTS.HIERARCHY||!n.root)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root;r=M2.assign({},uP,r);var t=r.as;if(!M2.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i=void 0;try{i=oP.getField(r)}catch(u){console.warn(u)}i&&e.sum(function(u){return u[i]});var a=aP.cluster();a.size(r.size),r.nodeSize&&a.nodeSize(r.nodeSize),r.separation&&a.separation(r.separation),a(e);var o=t[0],l=t[1];e.each(function(u){u[o]=u.x,u[l]=u.y})}Qc.DataSet.registerTransform("hierarchy.cluster",P2);Qc.DataSet.registerTransform("dendrogram",P2);var fP={},lP=Z,sP=lP.mix,tt={assign:sP},x2=tt,n0=18,cP=n0*2,R2=n0,vP={getId:function(r){return r.id||r.name},getPreH:function(r){return r.preH||0},getPreV:function(r){return r.preV||0},getHGap:function(r){return r.hgap||R2},getVGap:function(r){return r.vgap||R2},getChildren:function(r){return r.children},getHeight:function(r){return r.height||cP},getWidth:function(r){var e=r.label||" ";return r.width||e.split("").length*n0}};function Lu(n,r){var e=this;if(e.vgap=e.hgap=0,n instanceof Lu)return n;e.data=n;var t=r.getHGap(n),i=r.getVGap(n);return e.preH=r.getPreH(n),e.preV=r.getPreV(n),e.width=r.getWidth(n),e.height=r.getHeight(n),e.width+=e.preH,e.height+=e.preV,e.id=r.getId(n),e.x=e.y=0,e.depth=0,e.children||(e.children=[]),e.addGap(t,i),e}x2.assign(Lu.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(r,e){var t=this;t.hgap+=r,t.vgap+=e,t.width+=2*r,t.height+=2*e},eachNode:function(r){for(var e=this,t=[e],i;i=t.shift();)r(i),t=i.children.concat(t)},DFTraverse:function(r){this.eachNode(r)},BFTraverse:function(r){for(var e=this,t=[e],i;i=t.shift();)r(i),t=t.concat(i.children)},getBoundingBox:function(){var r={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(e){r.left=Math.min(r.left,e.x),r.top=Math.min(r.top,e.y),r.width=Math.max(r.width,e.x+e.width),r.height=Math.max(r.height,e.y+e.height)}),r},translate:function(r,e){r===void 0&&(r=0),e===void 0&&(e=0),this.eachNode(function(t){t.x+=r,t.y+=e,t.x+=t.preH,t.y+=t.preV})},right2left:function(){var r=this,e=r.getBoundingBox();r.eachNode(function(t){t.x=t.x-(t.x-e.left)*2-t.width}),r.translate(e.width,0)},bottom2top:function(){var r=this,e=r.getBoundingBox();r.eachNode(function(t){t.y=t.y-(t.y-e.top)*2-t.height}),r.translate(0,e.height)}});function hP(n,r,e){r===void 0&&(r={}),r=x2.assign({},vP,r);var t=new Lu(n,r),i=[t],a;if(!e&&!n.collapsed){for(;a=i.shift();)if(!a.data.collapsed){var o=r.getChildren(a.data),l=o?o.length:0;if(a.children=new Array(l),o&&l)for(var u=0;u<l;u++){var c=new Lu(o[u],r);a.children[u]=c,i.push(c),c.parent=a,c.depth=a.depth+1}}}return t}var k2=hP,gP=k2,pP=function(){function n(e,t){t===void 0&&(t={});var i=this;i.options=t,i.rootNode=gP(e,t)}var r=n.prototype;return r.execute=function(){throw new Error("please override this method")},n}(),Nu=pP;function Yi(n,r,e,t){t===void 0&&(t=[]);var i=this;i.w=n||0,i.h=r||0,i.y=e||0,i.x=0,i.c=t||[],i.cs=t.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}Yi.fromNode=function(n,r){if(!n)return null;var e=[];return n.children.forEach(function(t){e.push(Yi.fromNode(t,r))}),r?new Yi(n.height,n.width,n.x,e):new Yi(n.width,n.height,n.y,e)};function b2(n,r,e){e?n.y+=r:n.x+=r,n.children.forEach(function(t){b2(t,r,e)})}function C2(n,r){var e=r?n.y:n.x;return n.children.forEach(function(t){e=Math.min(C2(t,r),e)}),e}function dP(n,r){var e=C2(n,r);b2(n,-e,r)}function L2(n,r,e){e?r.y=n.x:r.x=n.x,n.c.forEach(function(t,i){L2(t,r.children[i],e)})}function N2(n,r,e){e===void 0&&(e=0),r?(n.x=e,e+=n.width):(n.y=e,e+=n.height),n.children.forEach(function(t){N2(t,r,e)})}var mP=function(n,r){r===void 0&&(r={});var e=r.isHorizontal;function t(m){if(m.cs===0){i(m);return}t(m.c[0]);for(var y=d(c(m.c[0].el),0,null),E=1;E<m.cs;++E){t(m.c[E]);var $=c(m.c[E].er);a(m,E,y),y=d($,E,y)}s(m),i(m)}function i(m){m.cs===0?(m.el=m,m.er=m,m.msel=m.mser=0):(m.el=m.c[0].el,m.msel=m.c[0].msel,m.er=m.c[m.cs-1].er,m.mser=m.c[m.cs-1].mser)}function a(m,y,E){for(var $=m.c[y-1],T=$.mod,k=m.c[y],P=k.mod;$!==null&&k!==null;){c($)>E.low&&(E=E.nxt);var R=T+$.prelim+$.w-(P+k.prelim);R>0&&(P+=R,o(m,y,E.index,R));var C=c($),b=c(k);C<=b&&($=u($),$!==null&&(T+=$.mod)),C>=b&&(k=l(k),k!==null&&(P+=k.mod))}!$&&!!k?f(m,y,k,P):!!$&&!k&&v(m,y,$,T)}function o(m,y,E,$){m.c[y].mod+=$,m.c[y].msel+=$,m.c[y].mser+=$,g(m,y,E,$)}function l(m){return m.cs===0?m.tl:m.c[0]}function u(m){return m.cs===0?m.tr:m.c[m.cs-1]}function c(m){return m.y+m.h}function f(m,y,E,$){var T=m.c[0].el;T.tl=E;var k=$-E.mod-m.c[0].msel;T.mod+=k,T.prelim-=k,m.c[0].el=m.c[y].el,m.c[0].msel=m.c[y].msel}function v(m,y,E,$){var T=m.c[y].er;T.tr=E;var k=$-E.mod-m.c[y].mser;T.mod+=k,T.prelim-=k,m.c[y].er=m.c[y-1].er,m.c[y].mser=m.c[y-1].mser}function s(m){m.prelim=(m.c[0].prelim+m.c[0].mod+m.c[m.cs-1].mod+m.c[m.cs-1].prelim+m.c[m.cs-1].w)/2-m.w/2}function h(m,y){y+=m.mod,m.x=m.prelim+y,p(m);for(var E=0;E<m.cs;E++)h(m.c[E],y)}function g(m,y,E,$){if(E!==y-1){var T=y-E;m.c[E+1].shift+=$/T,m.c[y].shift-=$/T,m.c[y].change-=$-$/T}}function p(m){for(var y=0,E=0,$=0;$<m.cs;$++)y+=m.c[$].shift,E+=y+m.c[$].change,m.c[$].mod+=E}function d(m,y,E){for(;E!==null&&m>=E.low;)E=E.nxt;return{low:m,index:y,nxt:E}}N2(n,e);var S=Yi.fromNode(n,e);return t(S),h(S,0),L2(S,n,e),dP(n,e),n},I2=k2,A2=function(n,r){for(var e=I2(n.data,r,!0),t=I2(n.data,r,!0),i=n.children.length,a=Math.round(i/2),o=r.getSide||function(f,v){return v<a?"right":"left"},l=0;l<i;l++){var u=n.children[l],c=o(u,l);c==="right"?t.children.push(u):e.children.push(u)}return e.eachNode(function(f){f.isRoot()||(f.side="left")}),t.eachNode(function(f){f.isRoot()||(f.side="right")}),{left:e,right:t}},yP=A2,Ae=["LR","RL","TB","BT","H","V"],wP=["LR","RL","H"],EP=function(r){return wP.indexOf(r)>-1},SP=Ae[0],r0=function(n,r,e){var t=r.direction||SP;if(r.isHorizontal=EP(t),t&&Ae.indexOf(t)===-1)throw new TypeError("Invalid direction: "+t);if(t===Ae[0])e(n,r);else if(t===Ae[1])e(n,r),n.right2left();else if(t===Ae[2])e(n,r);else if(t===Ae[3])e(n,r),n.bottom2top();else if(t===Ae[4]||t===Ae[5]){var i=yP(n,r),a=i.left,o=i.right;e(a,r),e(o,r),r.isHorizontal?a.right2left():a.bottom2top(),o.translate(a.x-o.x,a.y-o.y),n.x=a.x,n.y=o.y;var l=n.getBoundingBox();r.isHorizontal?l.top<0&&n.translate(0,-l.top):l.left<0&&n.translate(-l.left,0)}var u=r.fixedRoot;return u===void 0&&(u=!0),u&&n.translate(-(n.x+n.width/2+n.hgap),-(n.y+n.height/2+n.vgap)),n};function _P(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r}var $P=Nu,TP=mP,MP=r0,PP=tt,xP=function(n){_P(r,n);function r(){return n.apply(this,arguments)||this}var e=r.prototype;return e.execute=function(){var i=this;return MP(i.rootNode,i.options,TP)},r}($P),RP={};function kP(n,r){return r=PP.assign({},RP,r),new xP(n,r).execute()}var bP=kP,CP=tt;function LP(n,r){r===void 0&&(r=[]);var e=this;e.x=e.y=0,e.leftChild=e.rightChild=null,e.height=0,e.children=r}var NP={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function D2(n,r,e){e?(r.x=n.x,r.y=n.y):(r.x=n.y,r.y=n.x),n.children.forEach(function(t,i){D2(t,r.children[i],e)})}var IP=function(n,r){r===void 0&&(r={}),r=CP.assign({},NP,r);var e=0;function t(u){if(!u)return null;u.width=0,u.depth&&u.depth>e&&(e=u.depth);var c=u.children,f=c.length,v=new LP(u.height,[]);return c.forEach(function(s,h){var g=t(s);v.children.push(g),h===0&&(v.leftChild=g),h===f-1&&(v.rightChild=g)}),v.originNode=u,v.isLeaf=u.isLeaf(),v}function i(u){if(u.isLeaf||u.children.length===0)u.drawingDepth=e;else{var c=u.children.map(function(v){return i(v)}),f=Math.min.apply(null,c);u.drawingDepth=f-1}return u.drawingDepth}var a;function o(u){u.x=u.drawingDepth*r.rankSep,u.isLeaf?(u.y=0,a&&(u.y=a.y+a.height+r.nodeSep,u.originNode.parent!==a.originNode.parent&&(u.y+=r.subTreeSep)),a=u):(u.children.forEach(function(c){o(c)}),u.y=(u.leftChild.y+u.rightChild.y)/2)}var l=t(n);return i(l),o(l),D2(l,n,r.isHorizontal),n};function AP(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r}var DP=Nu,OP=IP,qP=r0,FP=tt,zP=function(n){AP(r,n);function r(){return n.apply(this,arguments)||this}var e=r.prototype;return e.execute=function(){var i=this;return i.rootNode.width=0,qP(i.rootNode,i.options,OP)},r}(DP),BP={};function GP(n,r){return r=FP.assign({},BP,r),new zP(n,r).execute()}var UP=GP;function HP(n,r,e,t){var i=typeof e=="function"?e(n):e*n.depth;if(!t)try{if(n.id===n.parent.children[0].id){n.x+=i,n.y=r?r.y:0;return}}catch{}n.x+=i,n.y=r?r.y+r.height:0}var YP=function(n,r,e){var t=null;n.eachNode(function(i){HP(i,t,r,e),t=i})};function VP(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r}var jP=Nu,Iu=YP,XP=A2,WP=tt,Vi=["LR","RL","H"],JP=Vi[0],KP=function(n){VP(r,n);function r(){return n.apply(this,arguments)||this}var e=r.prototype;return e.execute=function(){var i=this,a=i.options,o=i.rootNode;a.isHorizontal=!0;var l=a.indent,u=l===void 0?20:l,c=a.dropCap,f=c===void 0?!0:c,v=a.direction||JP;if(v&&Vi.indexOf(v)===-1)throw new TypeError("Invalid direction: "+v);if(v===Vi[0])Iu(o,u,f);else if(v===Vi[1])Iu(o,u,f),o.right2left();else if(v===Vi[2]){var s=XP(o,a),h=s.left,g=s.right;Iu(h,u,f),h.right2left(),Iu(g,u,f);var p=h.getBoundingBox();g.translate(p.width,0),o.x=g.x-o.width/2}return o},r}(jP),ZP={};function QP(n,r){return r=WP.assign({},ZP,r),new KP(n,r).execute()}var nx=QP,rx=tt;function O2(n,r){var e=0;return n.children.length?n.children.forEach(function(t){e+=O2(t,r)}):e=n.height,n._subTreeSep=r.getSubTreeSep(n.data),n.totalHeight=Math.max(n.height,e)+2*n._subTreeSep,n.totalHeight}function q2(n){var r=n.children,e=r.length;if(e){r.forEach(function(u){q2(u)});var t=r[0],i=r[e-1],a=i.y-t.y+i.height,o=0;if(r.forEach(function(u){o+=u.totalHeight}),a>n.height)n.y=t.y+a/2-n.height/2;else if(r.length!==1||n.height>o){var l=n.y+(n.height-a)/2-t.y;r.forEach(function(u){u.translate(0,l)})}else n.y=(t.y+t.height/2+i.y+i.height/2)/2-n.height/2}}var ex={getSubTreeSep:function(){return 0}},tx=function(n,r){r===void 0&&(r={}),r=rx.assign({},ex,r),n.parent={x:0,width:0,height:0,y:0},n.BFTraverse(function(e){e.x=e.parent.x+e.parent.width}),n.parent=null,O2(n,r),n.startY=0,n.y=n.totalHeight/2-n.height/2,n.eachNode(function(e){var t=e.children,i=t.length;if(i){var a=t[0];if(a.startY=e.startY+e._subTreeSep,i===1)a.y=e.y+e.height/2-a.height/2;else{a.y=a.startY+a.totalHeight/2-a.height/2;for(var o=1;o<i;o++){var l=t[o];l.startY=t[o-1].startY+t[o-1].totalHeight,l.y=l.startY+l.totalHeight/2-l.height/2}}}}),q2(n)};function ix(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r}var ax=Nu,ox=tx,ux=r0,fx=tt,lx=function(n){ix(r,n);function r(){return n.apply(this,arguments)||this}var e=r.prototype;return e.execute=function(){var i=this;return ux(i.rootNode,i.options,ox)},r}(ax),sx={};function cx(n,r){return r=fx.assign({},sx,r),new lx(n,r).execute()}var vx=cx,hx={compactBox:bP,dendrogram:UP,indented:nx,mindmap:vx},e0=hx;Object.defineProperty(fP,"__esModule",{value:!0});var gx=ln.exports,px=gx.__importDefault(e0),ji=W,dx={};function Au(n,r){var e=n.root;if(r=Object.assign({},dx,r),n.dataType!==ji.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=px.default.compactBox(e,r)}ji.DataSet.registerTransform("hierarchy.compact-box",Au);ji.DataSet.registerTransform("compact-box-tree",Au);ji.DataSet.registerTransform("non-layered-tidy-tree",Au);ji.DataSet.registerTransform("mindmap-logical",Au);var mx={};Object.defineProperty(mx,"__esModule",{value:!0});var yx=ln.exports,wx=yx.__importDefault(e0),t0=W,Ex={};function F2(n,r){var e=n.root;if(r=Object.assign({},Ex,r),n.dataType!==t0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=wx.default.dendrogram(e,r)}t0.DataSet.registerTransform("hierarchy.dendrogram",F2);t0.DataSet.registerTransform("dendrogram",F2);var Sx={};Object.defineProperty(Sx,"__esModule",{value:!0});var _x=ln.exports,$x=_x.__importDefault(e0),i0=W,Tx={};function z2(n,r){var e=n.root;if(r=Object.assign({},Tx,r),n.dataType!==i0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=$x.default.indented(e,r)}i0.DataSet.registerTransform("hierarchy.indented",z2);i0.DataSet.registerTransform("indented-tree",z2);var Mx={};Object.defineProperty(Mx,"__esModule",{value:!0});var Px=ln.exports,B2=Z,xx=Px.__importStar(Ct),Du=W,Rx=Sn,kx={field:"value",size:[1,1],padding:0,as:["x","y","r"]};function a0(n,r){if(n.dataType!==Du.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root;r=B2.assign({},kx,r);var t=r.as;if(!B2.isArray(t)||t.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var i;try{i=Rx.getField(r)}catch(c){console.warn(c)}i&&e.sum(function(c){return c[i]}).sort(function(c,f){return f[i]-c[i]});var a=xx.pack();a.size(r.size),r.padding&&a.padding(r.padding),a(e);var o=t[0],l=t[1],u=t[2];e.each(function(c){c[o]=c.x,c[l]=c.y,c[u]=c.r})}Du.DataSet.registerTransform("hierarchy.pack",a0);Du.DataSet.registerTransform("hierarchy.circle-packing",a0);Du.DataSet.registerTransform("circle-packing",a0);var bx={};Object.defineProperty(bx,"__esModule",{value:!0});var Cx=ln.exports,Lx=Cx.__importStar(Ct),G2=Z,o0=W,Nx=Sn,Ix={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function U2(n,r){if(n.dataType!==o0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root;r=G2.assign({},Ix,r);var t=r.as;if(!G2.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=Nx.getField(r)}catch(u){console.warn(u)}i&&e.sum(function(u){return u[i]});var a=Lx.partition();a.size(r.size).round(r.round).padding(r.padding),a(e);var o=t[0],l=t[1];e.each(function(u){u[o]=[u.x0,u.x1,u.x1,u.x0],u[l]=[u.y1,u.y1,u.y0,u.y0],["x0","x1","y0","y1"].forEach(function(c){t.indexOf(c)===-1&&delete u[c]})})}o0.DataSet.registerTransform("hierarchy.partition",U2);o0.DataSet.registerTransform("adjacency",U2);var Ax={};Object.defineProperty(Ax,"__esModule",{value:!0});var Dx=ln.exports,Ox=Dx.__importStar(Ct),H2=Z,u0=W,qx=Sn,Fx={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function Y2(n,r){if(n.dataType!==u0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root;r=H2.assign({},Fx,r);var t=r.as;if(!H2.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=qx.getField(r)}catch(u){console.warn(u)}i&&e.sum(function(u){return u[i]});var a=Ox.tree();a.size(r.size),r.nodeSize&&a.nodeSize(r.nodeSize),r.separation&&a.separation(r.separation),a(e);var o=t[0],l=t[1];e.each(function(u){u[o]=u.x,u[l]=u.y})}u0.DataSet.registerTransform("hierarchy.tree",Y2);u0.DataSet.registerTransform("tree",Y2);var zx={};Object.defineProperty(zx,"__esModule",{value:!0});var Bx=ln.exports,V2=Bx.__importStar(Ct),j2=Z,f0=W,Gx=Sn,Ux={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function X2(n,r){if(n.dataType!==f0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root;r=j2.assign({},Ux,r);var t=r.as;if(!j2.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=Gx.getField(r)}catch(u){console.warn(u)}i&&e.sum(function(u){return u[i]});var a=V2.treemap();a.tile(V2[r.tile]).size(r.size).round(r.round).padding(r.padding).paddingInner(r.paddingInner).paddingOuter(r.paddingOuter).paddingTop(r.paddingTop).paddingRight(r.paddingRight).paddingBottom(r.paddingBottom).paddingLeft(r.paddingLeft),a(e);var o=t[0],l=t[1];e.each(function(u){u[o]=[u.x0,u.x1,u.x1,u.x0],u[l]=[u.y1,u.y1,u.y0,u.y0],["x0","x1","y0","y1"].forEach(function(c){t.indexOf(c)===-1&&delete u[c]})})}f0.DataSet.registerTransform("hierarchy.treemap",X2);f0.DataSet.registerTransform("treemap",X2);var Hx={},l0={};Object.defineProperty(l0,"__esModule",{value:!0});var W2=ln.exports,s0=Math.PI/180,Xi=1<<11>>5,Ou=1<<11;function Yx(n){return n.text}function Vx(){return"serif"}function J2(){return"normal"}function jx(n){return n.value}function Xx(){return~~(Math.random()*2)*90}function Wx(){return 1}function Jx(n,r,e,t){if(!r.sprite){var i=n.context,a=n.ratio;i.clearRect(0,0,(Xi<<5)/a,Ou/a);var o=0,l=0,u=0,c=e.length;for(--t;++t<c;){r=e[t],i.save(),i.font=r.style+" "+r.weight+" "+~~((r.size+1)/a)+"px "+r.font;var f=i.measureText(r.text+"m").width*a,v=r.size<<1;if(r.rotate){var s=Math.sin(r.rotate*s0),h=Math.cos(r.rotate*s0),g=f*h,p=f*s,d=v*h,S=v*s;f=Math.max(Math.abs(g+S),Math.abs(g-S))+31>>5<<5,v=~~Math.max(Math.abs(p+d),Math.abs(p-d))}else f=f+31>>5<<5;if(v>u&&(u=v),o+f>=Xi<<5&&(o=0,l+=u,u=0),l+v>=Ou)break;i.translate((o+(f>>1))/a,(l+(v>>1))/a),r.rotate&&i.rotate(r.rotate*s0),i.fillText(r.text,0,0),r.padding&&(i.lineWidth=2*r.padding,i.strokeText(r.text,0,0)),i.restore(),r.width=f,r.height=v,r.xoff=o,r.yoff=l,r.x1=f>>1,r.y1=v>>1,r.x0=-r.x1,r.y0=-r.y1,r.hasText=!0,o+=f}for(var m=i.getImageData(0,0,(Xi<<5)/a,Ou/a).data,y=[];--t>=0;)if(r=e[t],!!r.hasText){for(var f=r.width,E=f>>5,v=r.y1-r.y0,$=0;$<v*E;$++)y[$]=0;if(o=r.xoff,o==null)return;l=r.yoff;for(var T=0,k=-1,P=0;P<v;P++){for(var $=0;$<f;$++){var R=E*P+($>>5),C=m[(l+P)*(Xi<<5)+(o+$)<<2]?1<<31-$%32:0;y[R]|=C,T|=C}T?k=P:(r.y0++,v--,P--,l++)}r.y1=r.y0+k,r.sprite=y.slice(0,(r.y1-r.y0)*E)}}}function Kx(n,r,e){e>>=5;for(var t=n.sprite,i=n.width>>5,a=n.x-(i<<4),o=a&127,l=32-o,u=n.y1-n.y0,c=(n.y+n.y0)*e+(a>>5),f,v=0;v<u;v++){f=0;for(var s=0;s<=i;s++)if((f<<l|(s<i?(f=t[v*i+s])>>>o:0))&r[c+s])return!0;c+=e}return!1}function Zx(n,r){var e=n[0],t=n[1];r.x+r.x0<e.x&&(e.x=r.x+r.x0),r.y+r.y0<e.y&&(e.y=r.y+r.y0),r.x+r.x1>t.x&&(t.x=r.x+r.x1),r.y+r.y1>t.y&&(t.y=r.y+r.y1)}function Qx(n,r){return n.x+n.x1>r[0].x&&n.x+n.x0<r[1].x&&n.y+n.y1>r[0].y&&n.y+n.y0<r[1].y}function K2(n){var r=n[0]/n[1];return function(e){return[r*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function nR(n){var r=4,e=r*n[0]/n[1],t=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:t+=e;break;case 1:i+=r;break;case 2:t-=e;break;default:i-=r;break}return[t,i]}}function Z2(n){for(var r=[],e=-1;++e<n;)r[e]=0;return r}function rR(){return document.createElement("canvas")}function De(n){return typeof n=="function"?n:function(){return n}}var eR={archimedean:K2,rectangular:nR};function tR(){var n=[256,256],r=Yx,e=Vx,t=jx,i=J2,a=J2,o=Xx,l=Wx,u=K2,c=[],f=1/0,v=Math.random,s=rR,h={};h.canvas=function(d){return arguments.length?(s=De(d),h):s},h.start=function(){var d=W2.__read(n,2),S=d[0],m=d[1],y=g(s()),E=h.board?h.board:Z2((n[0]>>5)*n[1]),$=c.length,T=[],k=c.map(function(b,L){return b.text=r.call(this,b,L),b.font=e.call(this,b,L),b.style=i.call(this,b,L),b.weight=a.call(this,b,L),b.rotate=o.call(this,b,L),b.size=~~t.call(this,b,L),b.padding=l.call(this,b,L),b}).sort(function(b,L){return L.size-b.size}),P=-1,R=h.board?[{x:0,y:0},{x:S,y:m}]:null;C();function C(){for(var b=Date.now();Date.now()-b<f&&++P<$;){var L=k[P];L.x=S*(v()+.5)>>1,L.y=m*(v()+.5)>>1,Jx(y,L,k,P),L.hasText&&p(E,L,R)&&(T.push(L),R?h.hasImage||Zx(R,L):R=[{x:L.x+L.x0,y:L.y+L.y0},{x:L.x+L.x1,y:L.y+L.y1}],L.x-=n[0]>>1,L.y-=n[1]>>1)}h._tags=T,h._bounds=R}return h};function g(d){d.width=d.height=1;var S=Math.sqrt(d.getContext("2d").getImageData(0,0,1,1).data.length>>2);d.width=(Xi<<5)/S,d.height=Ou/S;var m=d.getContext("2d");return m.fillStyle=m.strokeStyle="red",m.textAlign="center",{context:m,ratio:S}}function p(d,S,m){for(var y=S.x,E=S.y,$=Math.sqrt(n[0]*n[0]+n[1]*n[1]),T=u(n),k=v()<.5?1:-1,P,R=-k,C,b;(P=T(R+=k))&&(C=~~P[0],b=~~P[1],!(Math.min(Math.abs(C),Math.abs(b))>=$));)if(S.x=y+C,S.y=E+b,!(S.x+S.x0<0||S.y+S.y0<0||S.x+S.x1>n[0]||S.y+S.y1>n[1])&&(!m||!Kx(S,d,n[0]))&&(!m||Qx(S,m))){for(var L=S.sprite,z=S.width>>5,_=n[0]>>5,w=S.x-(z<<4),M=w&127,x=32-M,N=S.y1-S.y0,U=void 0,vn=(S.y+S.y0)*_+(w>>5),K=0;K<N;K++){U=0;for(var an=0;an<=z;an++)d[vn+an]|=U<<x|(an<z?(U=L[K*z+an])>>>M:0);vn+=_}return delete S.sprite,!0}return!1}return h.createMask=function(d){var S=document.createElement("canvas"),m=W2.__read(n,2),y=m[0],E=m[1];if(!(!y||!E)){var $=y>>5,T=Z2((y>>5)*E);S.width=y,S.height=E;var k=S.getContext("2d");k.drawImage(d,0,0,d.width,d.height,0,0,y,E);for(var P=k.getImageData(0,0,y,E).data,R=0;R<E;R++)for(var C=0;C<y;C++){var b=$*R+(C>>5),L=R*y+C<<2,z=P[L]>=250&&P[L+1]>=250&&P[L+2]>=250,_=z?1<<31-C%32:0;T[b]|=_}h.board=T,h.hasImage=!0}},h.timeInterval=function(d){return arguments.length?(f=d==null?1/0:d,h):f},h.words=function(d){return arguments.length?(c=d,h):c},h.size=function(d){return arguments.length?(n=[+d[0],+d[1]],h):n},h.font=function(d){return arguments.length?(e=De(d),h):e},h.fontStyle=function(d){return arguments.length?(i=De(d),h):i},h.fontWeight=function(d){return arguments.length?(a=De(d),h):a},h.rotate=function(d){return arguments.length?(o=De(d),h):o},h.text=function(d){return arguments.length?(r=De(d),h):r},h.spiral=function(d){return arguments.length?(u=eR[d]||d,h):u},h.fontSize=function(d){return arguments.length?(t=De(d),h):t},h.padding=function(d){return arguments.length?(l=De(d),h):l},h.random=function(d){return arguments.length?(v=d,h):v},h}l0.default=tR;Object.defineProperty(Hx,"__esModule",{value:!0});var c0=ln.exports,v0=Z,Q2=W,iR=c0.__importDefault(l0),aR=Sn,oR={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};function nm(n,r){r=v0.assign({},oR,r);var e=iR.default();if(!r.size[0]||!r.size[1]){n.rows=[],n._tagCloud=e;return}["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval"].forEach(function(p){r[p]&&e[p](r[p])});var t=aR.getFields(r),i=c0.__read(t,2),a=i[0],o=i[1];if(!v0.isString(a)||!v0.isString(o))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var l=n.rows.map(function(p){return p.text=p[a],p.value=p[o],p});e.words(l),r.imageMask&&e.createMask(r.imageMask);var u=e.start(),c=u._tags,f=u._bounds||[{x:0,y:0},{x:r.size[0],y:r.size[1]}];c.forEach(function(p){p.x+=r.size[0]/2,p.y+=r.size[1]/2});var v=c0.__read(r.size,2),s=v[0],h=v[1],g=u.hasImage;c.push({text:"",value:0,x:g?0:f[0].x,y:g?0:f[0].y,opacity:0}),c.push({text:"",value:0,x:g?s:f[1].x,y:g?h:f[1].y,opacity:0}),n.rows=c,n._tagCloud=u}Q2.DataSet.registerTransform("tag-cloud",nm);Q2.DataSet.registerTransform("word-cloud",nm);var uR={};Object.defineProperty(uR,"__esModule",{value:!0});var qu=ln.exports,it=Z,fR=ge,lR=qu.__importDefault(Mr),sR=W,cR=Sn,vR={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};function hR(n,r){r=it.assign({},vR,r);var e=cR.getFields(r),t=qu.__read(e,2),i=t[0],a=t[1],o=qu.__read(r.as,2),l=o[0],u=o[1],c=r.groupBy,f=lR.default(n.rows,c),v=it.keys(f),s=qu.__read(r.size,2),h=s[0],g=s[1],p=r.maxCount,d=v.length,S=g/d,m=r.rows,y=r.gapRatio,E=[],$=r.scale,T=0,k=0;it.forIn(f,function(P){var R=fR.sum(it.map(P,function(b){return b[a]})),C=Math.ceil(R*$/m);R*$>p&&($=p/R,C=Math.ceil(R*$/m)),k=h/C}),it.forIn(f,function(P){var R=[T*S,(T+1)*S],C=R[1]-R[0],b=C*(1-y)/m,L=0,z=0;it.each(P,function(_){for(var w=_[a],M=Math.round(w*$),x=0;x<M;x++){z===m&&(z=0,L++);var N=it.pick(_,[i,a].concat(c));N[l]=L*k+k/2,N[u]=z*b+b/2+R[0],N._wStep=k,N._hStep=b,z++,E.push(N)}}),T+=1}),n.rows=E}sR.DataSet.registerTransform("waffle",hR);var rm={};Object.defineProperty(rm,"__esModule",{value:!0});var Ft=ln.exports,Oe=Z,em=Ft.__importDefault(It),tm=Ft.__importDefault(Li),im=W,gR=Sn,am=pe,pR={as:["x","y","z"],method:"gaussian"},h0=Oe.keys(tm.default);function om(n,r){var e,t;r=Oe.assign({},pR,r);var i=gR.getFields(r);if(!Oe.isArray(i)||i.length!==2)throw new TypeError("invalid fields: must be an array of 2 strings!");var a=Ft.__read(r.as,3),o=a[0],l=a[1],u=a[2];if(!Oe.isString(o)||!Oe.isString(l)||!Oe.isString(u))throw new TypeError("invalid as: must be an array of 3 strings!");var c;if(Oe.isString(r.method)){if(h0.indexOf(r.method)===-1)throw new TypeError("invalid method: "+r.method+". Must be one of "+h0.join(", "));c=tm.default[r.method]}var f=Ft.__read(i,2),v=f[0],s=f[1],h=r.extent,g=r.bandwidth,p,d;h&&Array.isArray(h)&&Array.isArray(h[0])&&Array.isArray(h[1])?(e=Ft.__read(h,2),p=e[0],d=e[1]):(p=n.range(v),d=n.range(s));var S,m;g&&Array.isArray(g)&&g.slice(0,2).every(Oe.isNumber)&&g.slice(0,2).every(function(w){return w>0})?(t=Ft.__read(g,2),S=t[0],m=t[1]):(S=am.silverman(n.getColumn(v)),m=am.silverman(n.getColumn(s)));for(var y=em.default(p,S),E=em.default(d,m),$=n.rows.length,T=[],k=0;k<y.length;k++)for(var P=0;P<E.length;P++){for(var R=0,C=y[k],b=E[P],L=0;L<$;L++)R+=c((C-n.rows[L][v])/S)*c((b-n.rows[L][s])/m);var z=1/($*S*m)*R,_={};_[o]=C,_[l]=b,_[u]=z,T.push(_)}n.rows=T}im.DataSet.registerTransform("kernel-smooth.density",om);im.DataSet.registerTransform("kernel.density",om);rm.default={KERNEL_METHODS:h0};var um={};Object.defineProperty(um,"__esModule",{value:!0});var Fu=ln.exports,te=Z,dR=Fu.__importDefault(It),fm=Fu.__importDefault(Li),lm=W,g0=ge,mR=Sn,yR=pe,wR={as:["x","y"],method:"gaussian"},p0=te.keys(fm.default);function ER(n,r,e,t){var i=(t-e)/r;return n(i)}function sm(n){return function(r){return te.isArray(r)?r.map(function(e){return n(e)}):n(r)}}function cm(n,r){r=te.assign({},wR,r);var e=mR.getFields(r);if(!te.isArray(e)||!(e.length===1||e.length===2))throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var t=Fu.__read(r.as,2),i=t[0],a=t[1];if(!te.isString(i)||!te.isString(a))throw new TypeError("invalid as: must be an array of 2 strings!");var o,l=r.method;if(te.isString(l)){if(p0.indexOf(l)===-1)throw new TypeError("invalid method: "+l+". Must be one of "+p0.join(", "));o=fm.default[l]}var u=Fu.__read(e,2),c=u[0],f=u[1],v=n.getColumn(c),s=r.extent;(s||!te.isArray(s))&&(s=n.range(c));var h=r.bandwidth;(!h||!te.isNumber(h)||h<=0)&&(h=yR.silverman(v));var g=dR.default(s,h),p=v.length,d=ER.bind(null,o,h),S;if(te.isNil(f))S=sm(function(E){var $=v.map(function(P){return d(E,P)}),T=g0.sum($),k=p*h;return!T||!k?0:T/k});else{var m=n.getColumn(f);S=sm(function(E){var $=v.map(function(P){return d(E,P)}),T=g0.sum($.map(function(P,R){return P*m[R]})),k=g0.sum($);return!T||!k?0:T/k})}var y=g.map(function(E){var $={};return $[i]=E,$[a]=S(E),$});n.rows=y}lm.DataSet.registerTransform("kernel-smooth.regression",cm);lm.DataSet.registerTransform("kernel.regression",cm);um.default={KERNEL_METHODS:p0};var SR=W,_R=SR.DataSet;function $R(n){const{data:r,loading:e,fields:t,height:i}=n,{DataView:a}=_R,o=new a().source(r);return o.transform({type:"fold",fields:t,key:"category",value:"score"}),$n(E0,{loading:e,style:{width:"100%"},children:jr(Hu,{height:i||400,padding:0,data:o.rows,autoFit:!0,scale:{score:{min:0,max:80}},interactions:["legend-highlight"],className:"chart-wrapper",children:[$n($0,{type:"polar",radius:.8}),$n(T0,{shared:!0,children:(l,u)=>$n(x0,{title:l,data:u})}),$n(Rm,{position:"item*score",size:"2",color:["category",["#313CA9","#21CCFF","#249EFF"]]}),$n(km,{position:"item*score",tooltip:!1,color:["category",["rgba(49, 60, 169, 0.4)","rgba(33, 204, 255, 0.4)","rgba(36, 158, 255, 0.4)"]]}),$n(M0,{name:"score",label:!1}),$n(P0,{position:"right",marker:(l,u)=>({symbol:"circle",style:{r:4,lineWidth:0,fill:["#313CA9","#21CCFF","#249EFF"][u]}}),name:"category"})]})})}function TR(n){return jr(Hu,{theme:Cm(),forceUpdate:!0,autoFit:!0,data:n.data,height:n.height||400,padding:[0,0,10,0],children:[$n(P0,{visible:!0}),$n(bm,{fields:["category"],type:"rect",showTitle:!1,eachView:(r,e)=>{const t=e.data;r.coordinate({type:"theta",cfg:{radius:.8,innerRadius:.7}}),r.interval().adjust("stack").position("value").color("type",["#249eff","#846BCE","#21CCFF"," #86DF6C","#0E42D2"]).label("value",{content:i=>`${(i.value*100).toFixed(2)} %`}),r.annotation().text({position:["50%","46%"],content:t[0].category,style:{fontSize:14,fontWeight:500,textAlign:"center"},offsetY:10}),r.interaction("element-single-selected")}})]})}const MR=["\u6D3B\u8DC3\u7528\u6237\u6570","\u5185\u5BB9\u751F\u4EA7\u91CF","\u5185\u5BB9\u70B9\u51FB\u91CF","\u5185\u5BB9\u66DD\u5149\u91CF"],vm=[0,600,1e3,2e3,4e3],d0=["\u7EAF\u6587\u672C","\u56FE\u6587\u7C7B","\u89C6\u9891\u7C7B"],PR=(n,r)=>{const{list:e}=Vn.mock({"list|10":[{"id|+1":1,time:function(){return Em().subtract(this.id,"days").format("MM-DD")},count:()=>Vn.Random.natural(vm[r],vm[r+1]),name:n}]});return e.map(t=>(delete t.id,t))},xR=n=>new Array(12).fill(0).map(()=>({y:Vn.Random.natural(1e3,1e4)})).sort((e,t)=>e.y-t.y).map((e,t)=>Wi(zt({},e),{x:t,name:n})),RR=n=>{const r=["UGC\u539F\u521B","\u56FD\u5916\u7F51\u7AD9","\u8F6C\u8F7D\u6587\u7AE0","\u884C\u4E1A\u62A5\u544A","\u5176\u4ED6"],e=[];r.forEach(i=>{e.push({type:i,value:Vn.Random.natural(100,1e4),name:n})});const t=e.reduce((i,a)=>i+a.value,0);return e.map(i=>Wi(zt({},i),{value:Number((i.value/t).toFixed(2))}))};Tm({setup:()=>{Vn.mock(new RegExp("/api/multi-dimension/overview"),()=>{const{array:n}=Vn.mock({"array|4":[function(){return Vn.Random.natural(0,1e4)}]});let r=[];return MR.forEach((e,t)=>r=r.concat(PR(e,t))),{overviewData:n,chartData:r}}),Vn.mock(new RegExp("/api/multi-dimension/activity"),()=>{const{list:n}=Vn.mock({"list|3":[{"name|+1":["\u5206\u4EAB\u91CF","\u8BC4\u8BBA\u91CF","\u70B9\u8D5E\u91CF"],count:()=>Vn.Random.natural(1e3,1e4)}]});return n}),Vn.mock(new RegExp("/api/multi-dimension/polar"),()=>{const n=["\u56FD\u9645","\u5A31\u4E50","\u4F53\u80B2","\u8D22\u7ECF","\u79D1\u6280","\u5176\u4ED6"],r=()=>{const e={};return d0.forEach(t=>{e[t]=Vn.Random.natural(0,100)}),e};return{list:n.map(e=>zt({item:e},r())),fields:d0}}),Vn.mock(new RegExp("/api/multi-dimension/card"),n=>{const{type:r}=wm.parseUrl(n.url).query;return Vn.mock({count:()=>Vn.Random.natural(1e3,1e4),increment:()=>Vn.Random.boolean(),diff:()=>Vn.Random.natural(100,1e3),chartType:r,chartData:()=>xR("\u7C7B\u76EE1")})}),Vn.mock(new RegExp("/api/multi-dimension/content-source"),()=>d0.map(r=>RR(r).map(e=>Wi(zt({},e),{category:r}))).flat())}});const{Row:m0,Col:zu}=_m,{Title:Bu}=$m;function UR(){const n=Mm(Lm),[r,e]=qe.exports.useState(!1),[t,i]=qe.exports.useState([]),[a,o]=qe.exports.useState(!1),[l,u]=qe.exports.useState({list:[],fields:[]}),[c,f]=qe.exports.useState(!1),[v,s]=qe.exports.useState([]),h=async()=>{e(!0);const{data:d}=await Uu.get("/api/multi-dimension/activity").finally(()=>{e(!1)});i(d)},g=async()=>{o(!0);const{data:d}=await Uu.get("/api/multi-dimension/polar").finally(()=>o(!1));u(d)},p=async()=>{f(!0);const{data:d}=await Uu.get("/api/multi-dimension/content-source").finally(()=>{f(!1)});s(d)};return qe.exports.useEffect(()=>{h(),g(),p()},[]),jr(Sm,{size:16,direction:"vertical",style:{width:"100%"},children:[jr(m0,{gutter:20,children:[$n(zu,{span:16,children:jr(Ji,{children:[$n(Bu,{heading:6,children:n["multiDAnalysis.card.title.dataOverview"]}),$n(Nm,{})]})}),jr(zu,{span:8,children:[jr(Ji,{children:[$n(Bu,{heading:6,children:n["multiDAnalysis.card.title.todayActivity"]}),$n(Am,{data:t,loading:r,height:160})]}),jr(Ji,{children:[$n(Bu,{heading:6,children:n["multiDAnalysis.card.title.contentTheme"]}),$n($R,{data:l.list,fields:l.fields,height:197,loading:a})]})]})]}),$n(m0,{children:$n(zu,{span:24,children:$n(Im,{})})}),$n(m0,{children:$n(zu,{span:24,children:jr(Ji,{children:[$n(Bu,{heading:6,children:n["multiDAnalysis.card.title.contentSource"]}),$n(TR,{loading:c,data:v,height:240})]})})})]})}export{UR as default};
